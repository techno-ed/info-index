info-index/
  /Users/momo/Desktop/info-index/.DS_Store的内容是:
    (跳过二进制文件)

  /Users/momo/Desktop/info-index/.env的内容是:
    DB_NAME=zeabur
DB_USER=root
DB_PASSWORD=sQTw0RtUJyKMg57C1Wp892h6If4N3EHc
DB_HOST=hkg1.clusters.zeabur.com
DB_PORT=32288
JWT_SECRET=1nXOITVNgp7s5qXheNF1aqH8F35YtCg95nII9SukN5k=
DB_DIALECT=sqlite
DB_STORAGE=database.sqlite
SESSION_SECRET=dajdiadiaiudjxpafdjdsadasuihasu



  .idea/
    /Users/momo/Desktop/info-index/.idea/info-index.iml的内容是:
      <?xml version="1.0" encoding="UTF-8"?>
<module type="PYTHON_MODULE" version="4">
  <component name="NewModuleRootManager">
    <content url="file://$MODULE_DIR$" />
    <orderEntry type="inheritedJdk" />
    <orderEntry type="sourceFolder" forTests="false" />
  </component>
  <component name="PyDocumentationSettings">
    <option name="format" value="PLAIN" />
    <option name="myDocStringFormat" value="Plain" />
  </component>
</module>


    inspectionProfiles/
      /Users/momo/Desktop/info-index/.idea/inspectionProfiles/Project_Default.xml的内容是:
        <component name="InspectionProjectProfileManager">
  <profile version="1.0">
    <option name="myName" value="Project Default" />
    <inspection_tool class="PyPep8NamingInspection" enabled="true" level="WEAK WARNING" enabled_by_default="true">
      <option name="ignoredErrors">
        <list>
          <option value="N806" />
        </list>
      </option>
    </inspection_tool>
  </profile>
</component>


      /Users/momo/Desktop/info-index/.idea/inspectionProfiles/profiles_settings.xml的内容是:
        <component name="InspectionProjectProfileManager">
  <settings>
    <option name="USE_PROJECT_PROFILE" value="false" />
    <version value="1.0" />
  </settings>
</component>


    /Users/momo/Desktop/info-index/.idea/misc.xml的内容是:
      <?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.9" project-jdk-type="Python SDK" />
</project>


    /Users/momo/Desktop/info-index/.idea/modules.xml的内容是:
      <?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ProjectModuleManager">
    <modules>
      <module fileurl="file://$PROJECT_DIR$/.idea/info-index.iml" filepath="$PROJECT_DIR$/.idea/info-index.iml" />
    </modules>
  </component>
</project>


    /Users/momo/Desktop/info-index/.idea/vcs.xml的内容是:
      <?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="VcsDirectoryMappings">
    <mapping directory="" vcs="Git" />
  </component>
</project>


    /Users/momo/Desktop/info-index/.idea/workspace.xml的内容是:
      <?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ChangeListManager">
    <list default="true" id="33dcecc6-3d8c-4ff4-bc56-71f1f1bad005" name="Changes" comment="">
      <change beforePath="$PROJECT_DIR$/routes/admin.js" beforeDir="false" afterPath="$PROJECT_DIR$/routes/admin.js" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/struct.py" beforeDir="false" />
      <change beforePath="$PROJECT_DIR$/test.json" beforeDir="false" afterPath="$PROJECT_DIR$/test.json" afterDir="false" />
    </list>
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="ProjectId" id="2mPTAifkJqrI7QZ79Wy6XRV3Nkp" />
  <component name="ProjectViewState">
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent"><![CDATA[{
  "keyToString": {
    "RunOnceActivity.ShowReadmeOnStart": "true",
    "git-widget-placeholder": "master",
    "last_opened_file_path": "/Users/momo/Desktop/info-index"
  }
}]]></component>
  <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="33dcecc6-3d8c-4ff4-bc56-71f1f1bad005" name="Changes" comment="" />
      <created>1726977071158</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1726977071158</updated>
    </task>
    <servers />
  </component>
  <component name="XDebuggerManager">
    <breakpoint-manager>
      <breakpoints>
        <line-breakpoint enabled="true" suspend="THREAD" type="python-line">
          <url>file://$PROJECT_DIR$/converttdata.py</url>
          <line>4</line>
          <option name="timeStamp" value="1" />
        </line-breakpoint>
        <line-breakpoint enabled="true" suspend="THREAD" type="python-line">
          <url>file://$PROJECT_DIR$/converttdata.py</url>
          <line>11</line>
          <option name="timeStamp" value="2" />
        </line-breakpoint>
      </breakpoints>
    </breakpoint-manager>
  </component>
</project>


  __pycache__/
  /Users/momo/Desktop/info-index/a.txt的内容是:
    


  /Users/momo/Desktop/info-index/app.js的内容是:
    require('dotenv').config();
const express = require('express');
const path = require('path');
const cors = require('cors');
const { sequelize } = require('./config/database');
const cookieParser = require('cookie-parser');
const session = require('express-session');
const passport = require('passport');

const app = express();

// 设置静态文件服务
app.use(express.static(path.join(__dirname, 'public')));

app.use(cors());
app.use(express.json());  // 添加这行来支持 JSON 请求体
app.use(express.urlencoded({ extended: true }));
app.use(cookieParser());

app.use(session({
  secret: process.env.SESSION_SECRET,
  resave: false,
  saveUninitialized: false,
  cookie: { secure: process.env.NODE_ENV === 'production' }
}));

app.use(passport.initialize());
app.use(passport.session());

// 添加一个中间件来确保 req.user 总是可用
app.use((req, res, next) => {
  res.locals.user = req.user || null;
  next();
});

app.set('view engine', 'ejs');
app.set('views', path.join(__dirname, 'views'));

// 导入路由
const homeRoutes = require('./routes/homeRoutes');
const userRoutes = require('./routes/userRoutes');
const adminRoutes = require('./routes/admin');

// 使用路由
app.use('/', homeRoutes);
app.use('/api/users', userRoutes);
app.use('/', userRoutes);  // 注意这里的变化
app.use('/admin', adminRoutes);

const PORT = process.env.PORT || 3000;

// 在其他导入之后添加
const User = require('./models/User');
const Content = require('./models/Content');
const Order = require('./models/Order');
const InvitationCode = require('./models/InvitationCode');

// 建立模型关联
const models = { User, Content, Order, InvitationCode };
Object.keys(models).forEach(modelName => {
  if ('associate' in models[modelName]) {
    models[modelName].associate(models);
  }
});

// 在 sequelize.sync() 之前添加
User.hasMany(Order, { foreignKey: 'userId', as: 'UserOrders' });
Content.hasMany(Order, { foreignKey: 'contentId', as: 'ContentOrders' });
User.hasMany(InvitationCode, { foreignKey: 'usedBy', as: 'usedInvitationCodes'});

sequelize.sync().then(() => {
  app.listen(PORT, () => {
    console.log(`服务器运行在端口 ${PORT}`);
  });
});

// 错误处理中间件
app.use((err, req, res, next) => {
  // 设置局部变量，只在开发中提供错误
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // 设置状态码
  res.status(err.status || 500);

  // 渲染错误页面
  res.render('error', {
    message: err.message,
    error: err,
    status: err.status || 500  // 确保传递 status
  });
});



  bashs/
    /Users/momo/Desktop/info-index/bashs/a.txt的内容是:
      info-index/
  /Users/momo/Desktop/info-index/app.js的内容是:
    require('dotenv').config();
const express = require('express');
const path = require('path');
const cors = require('cors');
const { sequelize } = require('./config/database');
const cookieParser = require('cookie-parser');
const session = require('express-session');
const passport = require('passport');

const app = express();

// 设置静态文件服务
app.use(express.static(path.join(__dirname, 'public')));

app.use(cors());
app.use(express.json());  // 添加这行来支持 JSON 请求体
app.use(express.urlencoded({ extended: true }));
app.use(cookieParser());

app.use(session({
  secret: process.env.SESSION_SECRET,
  resave: false,
  saveUninitialized: false,
  cookie: { secure: process.env.NODE_ENV === 'production' }
}));

app.use(passport.initialize());
app.use(passport.session());

// 添加一个中间件来确保 req.user 总是可用
app.use((req, res, next) => {
  res.locals.user = req.user || null;
  next();
});

app.set('view engine', 'ejs');
app.set('views', path.join(__dirname, 'views'));

// 导入路由
const homeRoutes = require('./routes/homeRoutes');
const userRoutes = require('./routes/userRoutes');
const adminRoutes = require('./routes/admin');

// 使用路由
app.use('/', homeRoutes);
app.use('/api/users', userRoutes);
app.use('/', userRoutes);  // 注意这里的变化
app.use('/admin', adminRoutes);

const PORT = process.env.PORT || 3000;

sequelize.sync().then(() => {
  app.listen(PORT, () => {
    console.log(`服务器运行在端口 ${PORT}`);
  });
});

// 错误处理中间件
app.use((err, req, res, next) => {
  // 设置局部变量，只在开发中提供错误
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};

  // 设置状态码
  res.status(err.status || 500);

  // 渲染错误页面
  res.render('error', {
    message: err.message,
    error: err,
    status: err.status || 500  // 确保传递 status
  });
});



  config/
    /Users/momo/Desktop/info-index/config/database.js的内容是:
      const { Sequelize } = require('sequelize');
const path = require('path');

const sequelize = new Sequelize({
  dialect: 'sqlite',
  storage: path.join(__dirname, '..', 'database.sqlite')
});

module.exports = { sequelize };  // 注意这里的变化


  controllers/
    /Users/momo/Desktop/info-index/controllers/homeController.js的内容是:
      const Content = require('../models/Content');

exports.getHomePage = async (req, res, next) => {
  try {
    const content = await Content.findAll({
      order: [['id', 'ASC']],
      limit: 50,
      raw: true // 使用原始查询结果
    });

    const formattedContent = {
      code: 200,
      data: content.map(item => {
        let commnet = [];
        if (typeof item.commnet === 'string') {
          try {
            // 尝试清理 JSON 字符串
            const cleanedCommnet = item.commnet.trim().replace(/^\uFEFF/, '');
            commnet = JSON.parse(cleanedCommnet);
          } catch (e) {
            console.warn(`无法解析 ID ${item.id} 的 commnet 字段:`, e);
          }
        }

        return {
          id: item.id,
          simpleInfo: item.simpleInfo,
          preview: item.preview,
          location: item.location,
          price: item.price,
          area: item.area,
          detail: item.detail, // 直接使用，不进行解析
          commnet: Array.isArray(commnet) ? commnet : []
        };
      })
    };

    res.render('home', { 
      title: '老师信息大全', 
      content: formattedContent,
      user: req.user
    });
  } catch (error) {
    console.error('获取内容时出错:', error);
    next(error);
  }
};



    /Users/momo/Desktop/info-index/controllers/userController.js的内容是:
      const User = require('../models/User');
const jwt = require('jsonwebtoken');

exports.register = async (req, res) => {
  try {
    const { username, password } = req.body;
    
    // 检查用户名是否已存在
    const existingUser = await User.findOne({ where: { username } });
    if (existingUser) {
      return res.status(400).render('register', { error: '用户名已存在' });
    }

    // 创建新用户
    await User.create({
      username,
      password,
      role: 'user'  // 默认角色为普通用户
    });

    // 重定向到登录页面,并显示成功消息
    res.redirect('/login?registered=true');
  } catch (error) {
    console.error('注册错误:', error);
    res.status(500).render('register', { error: '注册失败,请稍后再试' });
  }
};

exports.login = async (req, res) => {
  try {
    const { username, password } = req.body;
    const user = await User.findOne({ where: { username } });
    if (!user) {
      return res.status(404).render('login', { error: '用户不存在' });
    }
    const isValid = await user.validPassword(password);
    if (!isValid) {
      return res.status(401).render('login', { error: '密码错误' });
    }
    const token = jwt.sign(
      { id: user.id, username: user.username, role: user.role },
      process.env.JWT_SECRET,
      { expiresIn: '1h' }
    );
    
    // 将 token 存储在 cookie 中
    res.cookie('token', token, { httpOnly: true, maxAge: 3600000 }); // 1小时有效期
    
    // 重定向到主页
    res.redirect('/');
  } catch (error) {
    console.error('登录错误:', error);
    res.status(500).render('login', { error: '登录失败,请稍后再试' });
  }
};

exports.getLoginPage = (req, res) => {
    const registered = req.query.registered === 'true';
    res.render('login', { 
        title: '登录',
        registered: registered
    });
};

exports.getRegisterPage = (req, res) => {
    res.render('register', { title: '注册' });
};

// ... 其他导入和方法 ...

exports.logout = (req, res) => {
    res.clearCookie('token');
    res.redirect('/login');
};

exports.getUserPoints = async (req, res) => {
    try {
        // 从 cookie 中获取 token
        const token = req.cookies.token;
        if (!token) {
            return res.status(401).json({ error: '未登录' });
        }

        // 验证 token
        const decoded = jwt.verify(token, process.env.JWT_SECRET);
        const userId = decoded.id;

        // 查找用户
        const user = await User.findByPk(userId);
        if (!user) {
            return res.status(404).json({ error: '用户不存在' });
        }

        // 返回用户积分
        res.json({ points: user.points });
    } catch (error) {
        console.error('获取用户积分错误:', error);
        res.status(500).json({ error: '获取积分失败，请稍后再试' });
    }
};



  /Users/momo/Desktop/info-index/database.sqlite的内容是:
    (跳过二进制文件)

  /Users/momo/Desktop/info-index/db.js的内容是:
    const sqlite3 = require('sqlite3').verbose();
const path = require('path');

const dbPath = path.resolve(__dirname, 'database.sqlite');

const db = new sqlite3.Database(dbPath, (err) => {
  if (err) {
    console.error('Could not connect to database', err);
  } else {
    console.log('Connected to database');
  }
});

function query(sql, params = []) {
  return new Promise((resolve, reject) => {
    db.all(sql, params, (err, rows) => {
      if (err) {
        reject(err);
      } else {
        resolve(rows);
      }
    });
  });
}

module.exports = {
  query
};



  /Users/momo/Desktop/info-index/index.html的内容是:
    <!DOCTYPE html>
<html lang="zh">

<script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?2472ef3603b334b2cdc8d2109cd5c9ab";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
})();
</script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>老师信息大全</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
            display: flex;
            justify-content: center;
        }
        .container {
            max-width: 1200px;
            width: 100%;
            display: flex;
            transition: 0.3s;
        }
        .main-content {
            flex: 1;
            transition: 0.3s;
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        .title {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin: 0;
        }
        .search-bar {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        #search-input {
            width: 200px;
            padding: 8px 15px;
            font-size: 14px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
            transition: 0.3s;
        }
        #search-input:focus {
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
        }
        #sort-button, #area-filter {
            padding: 8px 15px;
            font-size: 14px;
            border: 1px solid #ddd;
            border-radius: 20px;
            background-color: white;
            cursor: pointer;
            transition: 0.3s;
        }
        #sort-button:hover, #area-filter:hover {
            background-color: #f0f0f0;
        }
        #sort-icon {
            margin-right: 5px;
        }
        .card-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
            cursor: pointer;
            transition: 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .card-cover {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        .card-content {
            padding: 15px;
        }
        .card-number {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .card-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }
        .card-price {
            font-weight: bold;
            color: #e44d26;
        }
        .card-area {
            font-size: 14px;
            color: #444;
            margin-top: 5px;
        }
        .card-cover-container {
            width: 100%;
            padding-top: 75%; /* 4:3 宽高比 */
            position: relative;
            overflow: hidden;
            background-color: #f0f0f0;
        }
        .card-cover {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        .detail-page {
            position: fixed;
            top: 0;
            right: -30%;
            width: 30%;
            height: 100%;
            background-color: white;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
            overflow-y: auto;
            transition: 0.3s;
            padding: 20px;
            box-sizing: border-box;
            z-index: 1000;
        }
        .detail-page.open {
            right: 0;
        }
        .detail-page img {
            max-width: 100%;
            height: auto;
            margin-bottom: 15px;
        }
        .detail-close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
        }
        .comment-list {
            margin-top: 20px;
            border-top: 1px solid #e0e0e0;
            padding-top: 20px;
        }
        .comment {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        .comment:last-child {
            border-bottom: none;
        }
        @media (min-width: 1200px) {
            .card-list {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
            }
            .title {
                margin-bottom: 10px;
            }
            .search-bar {
                flex-wrap: wrap;
                justify-content: space-between;
            }
            #search-input {
                width: 100%;
                margin-bottom: 10px;
            }
            #sort-button, #area-filter {
                flex: 1;
            }
            .card-list {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            .card-cover {
                height: 100px;
            }
            .card-content {
                padding: 10px;
            }
            .card-description, .card-price, .card-area {
                font-size: 12px;
            }
            .detail-page {
                width: 100%;
                right: -100%;
            }
            .detail-page.open {
                right: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-content">
            <div class="header">
                <h1 class="title">北京女王信息大全</h1>
                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="搜索...">
                    <button id="sort-button">
                        <span id="sort-icon">↑↓</span>
                        编号
                    </button>
                    <select id="area-filter">
                        <option value="">所有地区</option>
                    </select>
                </div>
            </div>
            <div class="card-list" id="card-container"></div>
        </div>
        <div class="detail-page" id="detail-page">
            <span class="detail-close" onclick="closeDetail()">&times;</span>
            <div id="detail-content"></div>
        </div>
    </div>

    <script>
        let cardData = [];
        let sortAscending = true;

        // 从JSON文件加载数据
        fetch('test.json')
            .then(response => response.json())
            .then(data => {
                cardData = data.data;
                populateAreaFilter();
                filterAndSortCards();

                const idParam = getUrlParameter('id');
                if (idParam) {
                    const card = cardData.find(card => card.id.toString() === idParam);
                    if (card) {
                        openDetail(card);
                    } else {
                        console.log('未找到对应 ID 的卡片');
                    }
                }
            })
            .catch(error => console.error('Error loading the JSON file:', error));

        
        // 解析 URL 参数的函数
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 检查 URL 中是否有 id 参数
            const idParam = getUrlParameter('id');
            if (idParam) {
                // 如果有 id 参数，查找对应的卡片并打开详情
                const card = cardData.find(card => card.id.toString() === idParam);
                if (card) {
                    openDetail(card);
                } else {
                    console.log('未找到对应 ID 的卡片');
                }
            }
        });

        function populateAreaFilter() {
            const areaFilter = document.getElementById('area-filter');
            const areas = [...new Set(cardData.map(card => card.area))];
            areas.forEach(area => {
                const option = document.createElement('option');
                option.value = area;
                option.textContent = area;
                areaFilter.appendChild(option);
            });
        }

        function renderCards(cards) {
            const container = document.getElementById('card-container');
            container.innerHTML = '';
            cards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.innerHTML = `
                    <div class="card-cover-container">
                        <img src="${card.preview}" alt="卡片${card.id}封面" class="card-cover">
                    </div>
                    <div class="card-content">
                        <div class="card-number">编号：${card.id}</div>
                        <div class="card-description">${card.simpleInfo}</div>
                        <div class="card-price">￥${card.price.toFixed(2)}</div>
                        <div class="card-area">地区：${card.location}</div>
                    </div>
                `;
                cardElement.addEventListener('click', (e) => {
                    e.stopPropagation();
                    openDetail(card);
                });
                container.appendChild(cardElement);
            });
        }

        function filterAndSortCards() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const selectedArea = document.getElementById('area-filter').value;
            let filteredCards = cardData.filter(card => 
                (card.simpleInfo.toLowerCase().includes(searchTerm) || card.id.toString().includes(searchTerm)) &&
                (selectedArea === '' || card.area === selectedArea)
            );
            
            filteredCards.sort((a, b) => {
                if (sortAscending) {
                    return a.id - b.id;
                } else {
                    return b.id - a.id;
                }
            });

            renderCards(filteredCards);
        }

        let isDetailOpen = false;

        function openDetail(card) {
            const detailPage = document.getElementById('detail-page');
            const detailContent = document.getElementById('detail-content');
            let detailHtml = `
                <h2>编号：${card.id}</h2>
                <img src="${card.preview}" alt="预览图" style="width: 100%; height: 100%; object-fit: cover; margin-bottom: 15px;">
                <p><strong>简介：</strong> ${card.simpleInfo}</p>
                <p><strong>价格：</strong> ￥${card.price.toFixed(2)}</p>
                <p><strong>地区：</strong> ${card.location}</p>
                <p><strong>详情：</strong></p>
            `;

            // 处理详情内容
            card.detail.forEach(item => {
                if (item.type === 1) {
                    detailHtml += `<p>${item.content}</p>`;
                } else if (item.type === 2) {
                    detailHtml += `<img src="${item.content}" alt="详情图片" style="max-width: 100%; height: auto; margin-bottom: 15px;">`;
                }
            });

            // 添加评论
            detailHtml += `
                <div class="comment-list">
                    <h3>评论</h3>
                    ${card.commnet.map(comment => `<div class="comment">${comment}</div>`).join('')}
                </div>
            `;

            detailContent.innerHTML = detailHtml;
            detailPage.classList.add('open');
            if (window.innerWidth > 768) {
                document.querySelector('.main-content').style.width = '70%';
            }
            // 添加历史记录状态
            if (!isDetailOpen) {
                history.pushState({ isDetail: true }, '');
                isDetailOpen = true;
            }

             // 手动发送 PV 统计
            if (window._hmt) {
                _hmt.push(['_trackPageview', '/detail/' + card.id]);
            }
        }

        function closeDetail() {
            const detailPage = document.getElementById('detail-page');
            detailPage.classList.remove('open');
            document.querySelector('.main-content').style.width = '100%';

            // 移除历史记录状态
            if (isDetailOpen) {
                history.back();
                isDetailOpen = false;
            }
        }

        function toggleSort() {
            sortAscending = !sortAscending;
            document.getElementById('sort-icon').textContent = sortAscending ? '↑↓' : '↓↑';
            filterAndSortCards();
        }

        document.getElementById('search-input').addEventListener('input', filterAndSortCards);
        document.getElementById('area-filter').addEventListener('change', filterAndSortCards);
        document.getElementById('sort-button').addEventListener('click', toggleSort);

        // 点击外部关闭详情页
        document.addEventListener('click', function(event) {
            const detailPage = document.getElementById('detail-page');
            if (detailPage.classList.contains('open') && !detailPage.contains(event.target)) {
                closeDetail();
            }
        });

        // 阻止详情页内部点击事件冒泡
        document.getElementById('detail-page').addEventListener('click', function(event) {
            event.stopPropagation();
        });

        // 监听 popstate 事件
        window.addEventListener('popstate', function(event) {
            if (event.state && event.state.isDetail) {
                // 如果是详情页状态，不做任何操作
            } else {
                // 如果不是详情页状态，关闭详情页
                const detailPage = document.getElementById('detail-page');
                if (detailPage.classList.contains('open')) {
                    detailPage.classList.remove('open');
                    document.querySelector('.main-content').style.width = '100%';
                    isDetailOpen = false;
                }
            }
        });
    </script>
</body>
</html>


  js/
  middlewares/
    /Users/momo/Desktop/info-index/middlewares/auth.js的内容是:
      const jwt = require('jsonwebtoken');

exports.isLoggedIn = (req, res, next) => {
  const token = req.cookies.token;
  if (token) {
    try {
      const decoded = jwt.verify(token, process.env.JWT_SECRET);
      req.user = decoded;
      next();
    } catch (error) {
      res.clearCookie('token');
      res.redirect('/login');
    }
  } else {
    res.redirect('/login');
  }
};



    /Users/momo/Desktop/info-index/middlewares/isAdmin.js的内容是:
      const jwt = require('jsonwebtoken');

function isAdmin(req, res, next) {
    console.log('isAdmin middleware called');
    const token = req.cookies.token;

    if (token) {
        try {
            const decoded = jwt.verify(token, process.env.JWT_SECRET);
            console.log('User:', decoded);
            console.log('User role:', decoded.role);

            if (decoded.role === 'admin') {
                console.log('User is admin, proceeding to next middleware');
                req.user = decoded;
                next();
            } else {
                console.log('User is not admin, redirecting to home page');
                res.redirect('/');
            }
        } catch (error) {
            console.log('Invalid token, redirecting to login page');
            res.clearCookie('token');
            res.redirect('/login');
        }
    } else {
        console.log('No token found, redirecting to login page');
        res.redirect('/login');
    }
}

module.exports = isAdmin;


  models/
    /Users/momo/Desktop/info-index/models/Content.js的内容是:
      const { DataTypes } = require('sequelize');
const { sequelize } = require('../config/database');

const Content = sequelize.define('Content', {
  id: {
    type: DataTypes.INTEGER,
    primaryKey: true,
    autoIncrement: true
  },
  simpleInfo: {
    type: DataTypes.STRING,
    allowNull: false
  },
  preview: {
    type: DataTypes.STRING,
    allowNull: true
  },
  location: {
    type: DataTypes.STRING,
    allowNull: false
  },
  price: {
    type: DataTypes.FLOAT,
    allowNull: false
  },
  area: {
    type: DataTypes.STRING,
    allowNull: false
  },
  detail: {
    type: DataTypes.TEXT,
    allowNull: false
  },
  commnet: {
    type: DataTypes.JSON,
    allowNull: false
  }
});

module.exports = Content;



    /Users/momo/Desktop/info-index/models/User.js的内容是:
      const { DataTypes } = require('sequelize');
const { sequelize } = require('../config/database');
const bcrypt = require('bcryptjs');

const User = sequelize.define('User', {
  username: {
    type: DataTypes.STRING,
    allowNull: false,
    unique: true
  },
  password: {
    type: DataTypes.STRING,
    allowNull: false
  },
  role: {
    type: DataTypes.ENUM('user', 'admin'),
    defaultValue: 'user'
  },
  points: {  // 新增积分字段
    type: DataTypes.INTEGER,
    defaultValue: 0
  }
}, {
  hooks: {
    beforeCreate: async (user) => {
      if (user.password) {
        const salt = await bcrypt.genSalt(10);
        user.password = await bcrypt.hash(user.password, salt);
      }
    },
    beforeUpdate: async (user) => {
      if (user.changed('password')) {
        const salt = await bcrypt.genSalt(10);
        user.password = await bcrypt.hash(user.password, salt);
      }
    }
  }
});

User.prototype.validPassword = async function(password) {
  return await bcrypt.compare(password, this.password);
};

module.exports = User;



    /Users/momo/Desktop/info-index/models/index.js的内容是:
      const User = require('./User');
const Content = require('./Content');

module.exports = {
  User,
  Content
};



  /Users/momo/Desktop/info-index/package.json的内容是:
    {
  "name": "info-index",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "seed": "node scripts/seedContent.js",
    "start": "node app.js",
    "dev": "nodemon app.js"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "bcrypt": "^5.1.1",
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.19.2",
    "express-session": "^1.18.0",
    "jsonwebtoken": "^9.0.2",
    "mariadb": "^3.3.1",
    "multer": "^1.4.5-lts.1",
    "passport": "^0.7.0",
    "sequelize": "^6.37.3",
    "sqlite3": "^5.1.7"
  },
  "devDependencies": {
    "nodemon": "^3.1.4"
  }
}



  public/
    /Users/momo/Desktop/info-index/public/.DS_Store的内容是:
      (跳过二进制文件)

    css/
      /Users/momo/Desktop/info-index/public/css/style.css的内容是:
        body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
}

header {
    background-color: #333;
    color: #fff;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header h1 {
    margin: 0;
}

nav a {
    color: #fff;
    text-decoration: none;
    margin-left: 1rem;
}

main {
    padding: 2rem;
}

article {
    background-color: #f4f4f4;
    margin-bottom: 1rem;
    padding: 1rem;
    border-radius: 5px;
}

footer {
    background-color: #333;
    color: #fff;
    text-align: center;
    padding: 1rem;
    position: fixed;
    bottom: 0;
    width: 100%;
}



    images/
      iceice/
        /Users/momo/Desktop/info-index/public/images/iceice/1.jpg的内容是:
          (跳过二进制文件)

        /Users/momo/Desktop/info-index/public/images/iceice/2.jpg的内容是:
          (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/images/logo.png的内容是:
        (跳过二进制文件)

    js/
      /Users/momo/Desktop/info-index/public/js/main.js的内容是:
        console.log('主页加载完成');



    uploads/
      /Users/momo/Desktop/info-index/public/uploads/1725977337201.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/uploads/1725978535505.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/uploads/1726063879977.webp的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/uploads/1726278214711.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/uploads/1726278333497.png的内容是:
        (跳过二进制文件)

  routes/
    /Users/momo/Desktop/info-index/routes/admin.js的内容是:
      const express = require('express');
const router = express.Router();
const User = require('../models/User');
const Content = require('../models/Content');
const isAdmin = require('../middlewares/isAdmin');
const multer = require('multer');
const path = require('path');
const fs = require('fs');

// 将 isAdmin 中间件应用到所有管理员路由
router.use(isAdmin);

// 管理员仪表板
router.get('/', (req, res) => {
    res.render('admin/dashboard');
});

// 获取所有用户
router.get('/users', async (req, res) => {
    try {
        console.log('User model:', User); // 添加这行
        if (!User || !User.findAll) {
            throw new Error('User model is not properly defined');
        }
        const users = await User.findAll({
            attributes: ['id', 'username', 'role', 'points']
        });
        console.log('Users fetched:', users);
        res.json(users);
    } catch (error) {
        console.error('Error fetching users:', error);
        res.status(500).json({ error: '获取用户列表失败' });
    }
});

// 添加新用户
router.post('/users', async (req, res) => {
    const { username, password, role } = req.body;
    if (role !== 'user' && role !== 'admin') {
        return res.status(400).json({ error: '无效的角色' });
    }
    try {
        const newUser = await User.create({ username, password, role });
        res.status(201).json({ message: '用户创建成功', user: newUser });
    } catch (error) {
        console.error('Error creating user:', error);
        res.status(500).json({ error: '创建用户失败' });
    }
});

// 删除用户
router.delete('/users/:id', async (req, res) => {
    const { id } = req.params;
    try {
        await User.destroy({ where: { id } });
        res.json({ message: '用户删除成功' });
    } catch (error) {
        res.status(500).json({ error: '删除用户失败' });
    }
});

// 获取所有内容
router.get('/content', async (req, res) => {
    try {
        console.log('正在获取内容');
        const content = await Content.findAll();
        console.log('获取到的内容:', JSON.stringify(content, null, 2));
        res.json(content);
    } catch (error) {
        console.error('获取内容列表失败:', error);
        res.status(500).json({ error: '获取内容列表失败' });
    }
});

// 配置 multer 存储
const imageStorage = multer.diskStorage({
    destination: function (req, file, cb) {
        cb(null, path.join(__dirname, '../public/uploads/'))
    },
    filename: function (req, file, cb) {
        const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)
        cb(null, file.fieldname + '-' + uniqueSuffix + path.extname(file.originalname))
    }
});

const upload = multer({ storage: imageStorage });

// 添加新内容
router.post('/content', upload.single('preview'), async (req, res) => {
    try {
        const { simpleInfo, location, price, area, detail, commnet } = req.body;
        const preview = req.file ? `/uploads/${req.file.filename}` : null;

        const newContent = await Content.create({ 
            simpleInfo, 
            preview, 
            location, 
            price: parseFloat(price), 
            area, 
            detail: detail || '', // 直接存储为字符串
            commnet: JSON.stringify(commnet) // 评论仍然保持 JSON 字符串格式
        });

        res.status(201).json({ message: '内容创建成功', content: newContent });
    } catch (error) {
        console.error('Error creating content:', error);
        res.status(500).json({ error: '创建内容失败' });
    }
});

// 添加新内容路由
router.get('/content/add', (req, res) => {
    console.log('访问添加内容页面');
    res.render('admin/content-form', { title: '添加新内容', contentId: null });
});

// 编辑内容路由
router.get('/content/edit/:id', (req, res) => {
    res.render('admin/content-form', { contentId: req.params.id });
});

// 获取单个内容
router.get('/content/:id', async (req, res) => {
    try {
        const content = await Content.findByPk(req.params.id);
        if (content) {
            res.json(content);
        } else {
            res.status(404).json({ error: '内容不存在' });
        }
    } catch (error) {
        console.error('Error fetching content:', error);
        res.status(500).json({ error: '获取内容失败' });
    }
});

// 更新内容
router.put('/content/:id', upload.single('preview'), async (req, res) => {
    try {
        const content = await Content.findByPk(req.params.id);
        if (!content) {
            return res.status(404).json({ error: '内容不存在' });
        }

        const { simpleInfo, location, price, area, detail, commnet } = req.body;
        const updateData = { 
            simpleInfo, 
            location, 
            price: parseFloat(price), 
            area, 
            detail: detail || '', // 直接存储为字符串
            commnet: JSON.stringify(commnet) // 评论仍然保持 JSON 字符串格式
        };

        if (req.file) {
            updateData.preview = `/uploads/${req.file.filename}`;
            // 删除旧的预览图
            if (content.preview) {
                const oldPath = path.join(__dirname, '..', 'public', content.preview);
                fs.unlink(oldPath, err => {
                    if (err) console.error('Error deleting old preview:', err);
                });
            }
        }

        await content.update(updateData);
        res.json({ message: '内容更新成功', content });
    } catch (error) {
        console.error('Error updating content:', error);
        res.status(500).json({ error: '更新内容失败' });
    }
});

// 删除内容
router.delete('/content/:id', async (req, res) => {
    const { id } = req.params;
    try {
        await Content.destroy({ where: { id } });
        res.json({ message: '内容删除成功' });
    } catch (error) {
        res.status(500).json({ error: '删除内容失败' });
    }
});

// 通用的日志中间件
router.use((req, res, next) => {
    console.log('Admin 路由收到请求:', req.method, req.url);
    next();
});

// 图片上传路由
router.post('/upload-image', upload.single('image'), (req, res) => {
    if (req.file) {
        // 返回上传后的图片 URL
        res.json({ url: '/uploads/' + req.file.filename });
    } else {
        res.status(400).json({ error: '上传失败' });
    }
});

// 确保这个路由已经定义
router.put('/users/:id/points', async (req, res) => {
    console.log('收到更新积分请求:', req.params, req.body);
    try {
        const { id } = req.params;
        const { points } = req.body;

        // 验证积分是否为有效数字
        if (isNaN(points) || points < 0) {
            return res.status(400).json({ error: '无效的积分值' });
        }

        console.log(`尝试更新用户 ${id} 的积分为 ${points}`);

        const user = await User.findByPk(id);
        if (!user) {
            console.log(`未找到 ID 为 ${id} 的用户`);
            return res.status(404).json({ error: '未找到用户' });
        }

        console.log(`找到用户:`, user.toJSON());

        // 更新用户积分
        user.points = parseInt(points, 10);
        await user.save();

        console.log(`成功更新用户 ${id} 的积分为 ${points}`);
        res.json({ success: true, message: '积分更新成功', user: { id: user.id, username: user.username, points: user.points } });
    } catch (error) {
        console.error('更新用户积分时发生错误:', error);
        res.status(500).json({ error: '更新积分失败', details: error.message });
    }
});

module.exports = router;



    /Users/momo/Desktop/info-index/routes/homeRoutes.js的内容是:
      const express = require('express');
const router = express.Router();
const homeController = require('../controllers/homeController');
const { isLoggedIn } = require('../middlewares/auth');

// 添加一个中间件来记录 req.user
const logUser = (req, res, next) => {
  console.log('当前用户:', req.user);
  next();
};

// 在 isLoggedIn 中间件之后，homeController.getHomePage 之前添加 logUser 中间件
router.get('/', isLoggedIn, logUser, homeController.getHomePage);

module.exports = router;



    /Users/momo/Desktop/info-index/routes/userRoutes.js的内容是:
      const express = require('express');
const router = express.Router();
const userController = require('../controllers/userController');

router.get('/login', userController.getLoginPage);
router.get('/register', userController.getRegisterPage);
router.post('/api/users/register', userController.register);
router.post('/api/users/login', userController.login);
router.get('/logout', userController.logout);
router.get('/api/user/points', userController.getUserPoints);

module.exports = router;



  scripts/
    /Users/momo/Desktop/info-index/scripts/seedContent.js的内容是:
      const { sequelize } = require('../config/database');
const Content = require('../models/Content');

const seedContent = async () => {
  try {
    await sequelize.sync({ force: true }); // 警告：这将删除现有的内容表

    const contentData = [
      {
        simpleInfo: "[推荐]教授数学很有经验",
        preview: "/images/iceice/1.jpg",  // 注意这里的路径更改
        location: "海淀 五道口",
        price: 1000.0,
        area: "海淀",
        detail: [{
          type: 2,
          content: "/images/iceice/1.jpg"  // 这里也要更改
        }],
        commnet: ["1号老师很不错，很负责人"]
      },
      {
        simpleInfo: "[推荐]教授英语很有经验",
        preview: "/images/iceice/2.jpg",  // 注意这里的路径更改
        location: "海淀 五道口",
        price: 1000.0,
        area: "海淀",
        detail: [{
          type: 2,
          content: "/images/iceice/2.jpg"  // 这里也要更改
        }],
        commnet: ["2号老师很不错，很负责人"]
      }
    ];

    await Content.bulkCreate(contentData);

    console.log('内容数据已成功添加到数据库');
  } catch (error) {
    console.error('添加内容数据时出错:', error);
  } finally {
    await sequelize.close();
  }
};

seedContent();



  /Users/momo/Desktop/info-index/struct.py的内容是:
    import os
from pathlib import Path

def generate_project_structure(directory, output_file, file_types=None):
    exclude_dirs = {'.git', 'node_modules', 'build', 'dist', 'tmp', 'cache','.DS_Store','.env','.vscode'}
    exclude_files = {'.gitignore', 'package-lock.json', 'yarn.lock'}

    def should_include_file(file_path):
        if file_types is None:
            return True
        return file_path.suffix[1:] in file_types

    def traverse_directory(dir_path, prefix=''):
        output_file.write(f"{prefix}{dir_path.name}/\n")

        for item in sorted(dir_path.iterdir()):
            if item.is_dir():
                if item.name not in exclude_dirs:
                    traverse_directory(item, prefix + '  ')
            elif item.is_file():
                if item.name not in exclude_files and should_include_file(item):
                    output_file.write(f"{prefix}  {item.absolute()}的内容是:\n")
                    try:
                        with item.open('r', encoding='utf-8') as f:
                            content = f.read()
                            output_file.write(f"{prefix}    {content}\n")
                        output_file.write(f"\n\n")
                    except UnicodeDecodeError:
                        output_file.write(f"{prefix}    (跳过二进制文件)\n\n")

    with open('a.txt', 'w', encoding='utf-8') as output_file:
        traverse_directory(Path(directory))

if __name__ == "__main__":
    directory = '/Users/momo/Desktop/info-index'

    if not os.path.isdir(directory):
        print(f"目录 {directory} 不存在")
        exit(1)

    print("正在生成项目结构和完整内容...")
    generate_project_structure(directory,directory+'/a.txt')
    print("项目结构和完整内容已保存到 a.txt")



  /Users/momo/Desktop/info-index/test.json的内容是:
    {
	"code": 200,
	"data": [
		{
			"id": 1,
			"simpleInfo": "[推荐]教授数学很有经验",
			"preview": "iceice/1.jpg",
			"location": "海淀 五道口",
			"price": 1000.0,
			"area": "海淀",
			"detail": [{
				"type": 2,
				"content": "iceice/1.jpg "
			}],
			"commnet": ["1号老师很不错，很负责人"]
		},
		{
			"id": 2,
			"simpleInfo": "[推荐]教授英语很有经验",
			"preview": "iceice/2.jpg",
			"location": "海淀 五道口",
			"price": 1000.0,
			"area": "海淀",
			"detail": [{
				"type": 2,
				"content": "iceice/1.jpg "
			}],
			"commnet": ["2号老师很不错，很负责人"]
		}
	]
}


  views/
    admin/
      /Users/momo/Desktop/info-index/views/admin/content-form.ejs的内容是:
        <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= contentId ? '编辑内容' : '添加新内容' %></title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        label {
            margin-top: 10px;
            font-weight: bold;
        }
        input[type="text"],
        input[type="number"],
        input[type="file"] {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        #detailEditor {
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            margin-top: 5px;
            min-height: 100px;
        }
        button {
            background-color: #3498db;
            color: #fff;
            border: none;
            padding: 10px 15px;
            margin-top: 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .commentItem {
            display: flex;
            margin-top: 5px;
        }
        .commentItem input {
            flex-grow: 1;
            margin-right: 5px;
        }
        #previewImage {
            max-width: 200px;
            margin-top: 10px;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s, transform 0.1s;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background-color: #3498db;
            color: #fff;
        }

        .btn-primary:hover {
            background-color: #2980b9;
        }

        .btn-secondary {
            background-color: #95a5a6;
            color: #fff;
        }

        .btn-secondary:hover {
            background-color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><%= contentId ? '编辑内容' : '添加新内容' %></h1>
        <form id="contentForm" enctype="multipart/form-data">
            <input type="hidden" id="contentId" value="<%= contentId || '' %>">
            <div>
                <label for="simpleInfo">简介:</label>
                <input type="text" id="simpleInfo" name="simpleInfo" required>
            </div>
            <div>
                <label for="preview">预览:</label>
                <input type="file" id="preview" name="preview" accept="image/*" <%= contentId ? '' : 'required' %>>
                <% if (contentId) { %>
                    <img id="previewImage" src="" alt="当前预览图" style="max-width:200px;">
                <% } %>
            </div>
            <div>
                <label for="location">位置:</label>
                <input type="text" id="location" name="location" required>
            </div>
            <div>
                <label for="price">价格:</label>
                <input type="number" id="price" name="price" required>
            </div>
            <div>
                <label for="area">区域:</label>
                <input type="text" id="area" name="area" required>
            </div>
            <div>
                <label for="detailEditor">详细信息:</label>
                <div id="detailEditor" contenteditable="true"></div>
                <input type="file" id="detailImage" accept="image/*">
                <button type="button" onclick="insertImage()">插入图片</button>
            </div>
            <div>
                <label for="commentList">评论:</label>
                <div id="commentList"></div>
                <button type="button" onclick="addCommentInput()">添加评论</button>
            </div>
            <div class="button-group">
                <button type="button" class="btn btn-secondary" onclick="window.close()">返回</button>
                <button type="submit" class="btn btn-primary"><%= contentId ? '更新内容' : '添加内容' %></button>
            </div>
        </form>
    </div>

    <script>
        const contentId = document.getElementById('contentId').value;

        // 如果是编辑模式,加载现有内容
        if (contentId) {
            fetch(`/admin/content/${contentId}`)
                .then(response => response.json())
                .then(content => {
                    document.getElementById('simpleInfo').value = content.simpleInfo;
                    document.getElementById('location').value = content.location;
                    document.getElementById('price').value = content.price;
                    document.getElementById('area').value = content.area;
                    document.getElementById('detailEditor').innerHTML = JSON.parse(content.detail);
                    document.getElementById('previewImage').src = content.preview;
                    
                    const comments = JSON.parse(content.commnet);
                    comments.forEach(comment => addCommentInput(comment));
                });
        }

        function insertImage() {
            const input = document.getElementById('detailImage');
            const file = input.files[0];
            if (file) {
                const formData = new FormData();
                formData.append('image', file);

                // 显示上传进度
                const progressBar = document.createElement('div');
                progressBar.style.width = '0%';
                progressBar.style.height = '5px';
                progressBar.style.backgroundColor = 'blue';
                document.getElementById('detailEditor').appendChild(progressBar);

                fetch('/admin/upload-image', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.url) {
                        const img = document.createElement('img');
                        img.src = data.url;
                        img.style.maxWidth = '100%';
                        document.getElementById('detailEditor').appendChild(img);
                    } else {
                        alert('图片上传失败');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('图片上传失败');
                })
                .finally(() => {
                    // 移除进度条
                    progressBar.remove();
                });
            }
        }

        function addCommentInput(value = '') {
            const commentList = document.getElementById('commentList');
            const commentItem = document.createElement('div');
            commentItem.className = 'commentItem';
            commentItem.innerHTML = `
                <input type="text" value="${value}" placeholder="输入评论">
                <button type="button" onclick="this.parentElement.remove()">删除</button>
            `;
            commentList.appendChild(commentItem);
        }

        document.getElementById('contentForm').onsubmit = function(e) {
            e.preventDefault();
            const formData = new FormData(this);

            // 处理详情
            const detailEditor = document.getElementById('detailEditor');
            formData.set('detail', detailEditor.innerHTML);  // 直接设置 HTML 内容，不使用 JSON.stringify

            // 处理评论
            const comments = Array.from(document.querySelectorAll('#commentList input'))
                .map(input => input.value)
                .filter(comment => comment.trim() !== '');
            formData.set('commnet', JSON.stringify(comments));  // 评论仍然需要 JSON.stringify，因为它是一个数组

            const url = contentId ? `/admin/content/${contentId}` : '/admin/content';
            const method = contentId ? 'PUT' : 'POST';

            fetch(url, { method, body: formData })
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        alert(data.error);
                    } else {
                        if (contentId) {
                            // 更新成功，关闭页面
                            alert('内容更新成功');
                            window.opener.location.reload(); // 刷新父窗口
                            window.close(); // 关闭当前窗口
                        } else {
                            // 添加成功，清除表单
                            alert('内容添加成功');
                            clearForm();
                            window.opener.location.reload(); // 刷新父窗口
                        }
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        };

        // 添加清除表单的函数
        function clearForm() {
            document.getElementById('simpleInfo').value = '';
            document.getElementById('preview').value = '';
            document.getElementById('location').value = '';
            document.getElementById('price').value = '';
            document.getElementById('area').value = '';
            document.getElementById('detailEditor').innerHTML = '';
            document.getElementById('commentList').innerHTML = '';
            if (document.getElementById('previewImage')) {
                document.getElementById('previewImage').src = '';
            }
        }
    </script>
</body>
</html>


      /Users/momo/Desktop/info-index/views/admin/content.ejs的内容是:
        <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>内容管理</title>
    <style>
        /* 添加一些基本样式 */
    </style>
</head>
<body>
    <h1>内容管理</h1>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>简介</th>
                <th>价格</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <% content.forEach(item => { %>
                <tr>
                    <td><%= item.id %></td>
                    <td><%= item.simpleInfo %></td>
                    <td><%= item.price %></td>
                    <td>
                        <button onclick="editContent(<%= item.id %>)">编辑</button>
                        <button onclick="deleteContent(<%= item.id %>)">删除</button>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
    <form id="addContentForm">
        <!-- 添加内容表单字段 -->
    </form>
    <script>
        // 实现添加、编辑和删除内容的前端 JavaScript
    </script>
</body>
</html>



      /Users/momo/Desktop/info-index/views/admin/dashboard.ejs的内容是:
        <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理员仪表板</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1, h2 {
            color: #333;
        }
        .container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .section {
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 14px;
        }
        button:hover {
            background-color: #45a049;
        }
        form {
            margin-top: 20px;
        }
        input[type="text"], input[type="email"], input[type="number"], input[type="password"], select {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        input[type="submit"] {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        input[type="submit"]:hover {
            background-color: #45a049;
        }
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .section {
                width: 100%;
            }
            table {
                font-size: 14px;
            }
            th, td {
                padding: 8px 5px;
            }
            button {
                padding: 8px 12px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <h1>管理员仪表板</h1>
    <div class="container">
        <div class="section">
            <h2>用户管理</h2>
            <div style="overflow-x: auto;">
                <table id="userTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>用户名</th>
                            <th>角色</th>
                            <th>积分</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- 用户数据将通过 JavaScript 动态加载 -->
                    </tbody>
                </table>
            </div>
            <form id="addUserForm">
                <h3>添加新用户</h3>
                <input type="text" id="username" placeholder="用户名" required>
                <select id="role" required>
                    <option value="">选择角色</option>
                    <option value="user">普通用户</option>
                    <option value="admin">管理员</option>
                </select>
                <input type="password" id="password" placeholder="密码" required>
                <input type="submit" value="添加用户">
            </form>
        </div>
        <div class="section">
            <h2>内容管理</h2>
            <button onclick="location.href='/admin/content/add'">添加新内容</button>
            <div style="overflow-x: auto;">
                <table id="contentTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>简介</th>
                            <th>预览</th>
                            <th>位置</th>
                            <th>价格</th>
                            <th>区域</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- 内容数据将通过 JavaScript 动态加载 -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // 加载用户数据
        function loadUsers() {
            fetch('/admin/users')
                .then(response => response.json())
                .then(users => {
                    const tbody = document.querySelector('#userTable tbody');
                    tbody.innerHTML = '';
                    users.forEach(user => {
                        tbody.innerHTML += `
                            <tr>
                                <td>${user.id}</td>
                                <td>${user.username}</td>
                                <td>${user.role}</td>
                                <td>
                                    <span id="points-${user.id}">${user.points}</span>
                                    <input type="number" id="edit-points-${user.id}" style="display:none;">
                                    <button onclick="editPoints(${user.id})">编辑</button>
                                    <button onclick="savePoints(${user.id})" style="display:none;">保存</button>
                                </td>
                                <td><button onclick="deleteUser(${user.id})">删除</button></td>
                            </tr>
                        `;
                    });
                })
                .catch(error => console.error('Error loading users:', error));
        }

        // 编辑积分
        function editPoints(userId) {
            const pointsSpan = document.getElementById(`points-${userId}`);
            const pointsInput = document.getElementById(`edit-points-${userId}`);
            const editButton = pointsSpan.nextElementSibling.nextElementSibling;
            const saveButton = editButton.nextElementSibling;

            pointsSpan.style.display = 'none';
            pointsInput.style.display = 'inline';
            pointsInput.value = pointsSpan.textContent;
            editButton.style.display = 'none';
            saveButton.style.display = 'inline';
        }

        // 保存积分
        function savePoints(userId) {
            const pointsInput = document.getElementById(`edit-points-${userId}`);
            const newPoints = pointsInput.value;

            console.log(`尝试更新用户 ${userId} 的积分为 ${newPoints}`);

            fetch(`/admin/users/${userId}/points`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ points: newPoints }),
            })
            .then(response => {
                console.log('服务器响应状态:', response.status);
                return response.json();
            })
            .then(data => {
                console.log('服务器响应数据:', data);
                if (data.success) {
                    console.log(`成功更新用户 ${userId} 的积分为 ${newPoints}`);
                    loadUsers();  // 重新加载用户列表
                } else {
                    console.error('更新积分失败:', data.error);
                    alert('更新积分失败: ' + (data.error || '未知错误'));
                }
            })
            .catch(error => {
                console.error('更新积分时发生错误:', error);
                alert('更新积分失败: ' + error.message);
            });
        }

        // 修改加载内容的函数
        function loadContent() {
            console.log('开始加载内容');
            fetch('/admin/content')
                .then(response => {
                    console.log('收到响应:', response);
                    return response.json();
                })
                .then(content => {
                    console.log('解析后的内容:', content);
                    const tbody = document.querySelector('#contentTable tbody');
                    tbody.innerHTML = '';
                    if (Array.isArray(content) && content.length > 0) {
                        content.forEach(item => {
                            console.log('处理项目:', item);
                            tbody.innerHTML += `
                                <tr>
                                    <td>${item.id}</td>
                                    <td>${item.simpleInfo || ''}</td>
                                    <td>${item.preview ? '<img src="' + item.preview + '" alt="预览图" style="max-width:100px; max-height:100px;">' : '无预览图'}</td>
                                    <td>${item.location || ''}</td>
                                    <td>${item.price || ''}</td>
                                    <td>${item.area || ''}</td>
                                    <td>
                                        <button onclick="window.open('/admin/content/edit/${item.id}', '_blank')">编辑</button>
                                        <button onclick="deleteContent(${item.id})">删除</button>
                                        <div>详情: ${item.detail ? item.detail.substring(0, 50) : 'N/A'}...</div>
                                        <div>评论数: ${item.commnet ? JSON.parse(item.commnet).length : 0}</div>
                                    </td>
                                </tr>
                            `;
                        });
                    } else {
                        console.log('没有内容或内容不是数组');
                        tbody.innerHTML = '<tr><td colspan="7">没有找到内容</td></tr>';
                    }
                })
                .catch(error => {
                    console.error('加载内容时出错:', error);
                    const tbody = document.querySelector('#contentTable tbody');
                    tbody.innerHTML = `<tr><td colspan="7">加载内容时出错: ${error.message}</td></tr>`;
                });
        }

        // 确保在页面加载完成后调用 loadContent
        document.addEventListener('DOMContentLoaded', loadContent);

        // 删除用户
        function deleteUser(id) {
            if (confirm('确定要删除这个用户吗？')) {
                fetch(`/admin/users/${id}`, { method: 'DELETE' })
                    .then(() => loadUsers());
            }
        }

        // 删除内容
        function deleteContent(id) {
            if (confirm('确定要删除这个内容吗？')) {
                fetch(`/admin/content/${id}`, { method: 'DELETE' })
                    .then(() => loadContent());
            }
        }

        // 添加用户
        document.getElementById('addUserForm').onsubmit = function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const role = document.getElementById('role').value;
            const password = document.getElementById('password').value;
            fetch('/admin/users', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, role, password })
            }).then(response => response.json())
            .then(data => {
                if (data.error) {
                    alert(data.error);
                } else {
                    loadUsers();
                    this.reset();
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('添加用户失败');
            });
        };

        // 初始加载数据
        loadUsers();
        loadContent();
    </script>
</body>
</html>



      /Users/momo/Desktop/info-index/views/admin/users.ejs的内容是:
        <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户管理</title>
    <style>
        /* 添加一些基本样式 */
    </style>
</head>
<body>
    <h1>用户管理</h1>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>用户名</th>
                <th>邮箱</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <% users.forEach(user => { %>
                <tr>
                    <td><%= user.id %></td>
                    <td><%= user.username %></td>
                    <td><%= user.email %></td>
                    <td>
                        <button onclick="deleteUser(<%= user.id %>)">删除</button>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
    <form id="addUserForm">
        <!-- 添加用户表单字段 -->
    </form>
    <script>
        // 实现添加和删除用户的前端 JavaScript
    </script>
</body>
</html>



    /Users/momo/Desktop/info-index/views/error.ejs的内容是:
      <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>错误 - <%= status || '未知错误' %></title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            text-align: center;
        }
        .error-container {
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            max-width: 600px;
            margin: 50px auto;
        }
        h1 {
            color: #d9534f;
            margin-bottom: 20px;
        }
        .error-details {
            margin-bottom: 20px;
            font-size: 18px;
        }
        .back-link {
            display: inline-block;
            background-color: #5bc0de;
            color: #fff;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 3px;
            transition: background-color 0.3s;
        }
        .back-link:hover {
            background-color: #31b0d5;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <h1>错误 <%= status || '未知错误' %></h1>
        <div class="error-details">
            <p><%= message %></p>
        </div>
        <% if (error && error.stack) { %>
            <pre><%= error.stack %></pre>
        <% } %>
        <a href="/" class="back-link">返回首页</a>
    </div>
</body>
</html>



    /Users/momo/Desktop/info-index/views/home.ejs的内容是:
      <!DOCTYPE html>
<html lang="zh">

<script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?2472ef3603b334b2cdc8d2109cd5c9ab";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
})();
</script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .main-content {
            width: 100%;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
            padding: 20px 0;
        }
        .title {
            font-size: 24px;
            margin: 0;
            margin-right: 20px;
        }
        .search-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-grow: 1;
            justify-content: center;
        }
        #search-input {
            flex-grow: 1;
            max-width: 300px;
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 14px;
        }
        #sort-button, #area-filter {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            background-color: white;
            cursor: pointer;
            font-size: 14px;
        }
        .user-info {
            margin-left: 20px;
            font-size: 14px;
            white-space: nowrap;
        }
        .user-info a {
            color: #3498db;
            text-decoration: none;
            margin-left: 10px;
        }
        .user-info a:hover {
            text-decoration: underline;
        }
        .card-list {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            justify-content: center;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
            cursor: pointer;
            transition: 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .card-cover-container {
            width: 100%;
            padding-top: 75%; /* 4:3 宽高比 */
            position: relative;
            overflow: hidden;
        }
        .card-cover {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .card-content {
            padding: 15px;
        }
        .card-number {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .card-description {
            font-size: 14px;
            margin-bottom: 5px;
        }
        .card-price {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .card-area {
            font-size: 12px;
            color: #7f8c8d;
        }
        .detail-page {
            position: fixed;
            top: 0;
            right: -33.33%;
            width: 33.33%;
            height: 100%;
            background-color: white;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
            overflow-y: auto;
            transition: 0.3s;
            padding: 20px;
            box-sizing: border-box;
            z-index: 1000;
        }
        .detail-page.open {
            right: 0;
        }
        .detail-close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: none;
            z-index: 999;
        }
        .overlay.open {
            display: block;
        }
        
        @media (max-width: 768px) {
            .card-list {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            .header {
                flex-direction: column;
                align-items: stretch;
            }
            .title {
                margin-bottom: 15px;
                text-align: center;
            }
            .search-bar {
                margin-bottom: 15px;
            }
            .user-info {
                margin-left: 0;
                text-align: center;
            }
            .detail-page {
                width: 100%;
                right: -100%;
            }
        }

        /* 添加新的样式 */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 300px;
            border-radius: 5px;
            text-align: center;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .user-link {
            color: #3498db;
            text-decoration: none;
            cursor: pointer;
        }

        .user-link:hover {
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="main-content">
            <div class="header">
                <h1 class="title">老师信息大全</h1>
                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="搜索...">
                    <button id="sort-button">
                        <span id="sort-icon">↑↓</span>
                        编号
                    </button>
                    <select id="area-filter">
                        <option value="">所有地</option>
                    </select>
                </div>
                <% if (typeof user !== 'undefined' && user && user.role === 'admin') { %>
                    <div class="user-info">
                        欢迎, <%= user.username %> | <a href="/logout">登出</a> | <a href="/admin">管理页面</a>
                    </div>
                <% } else if (typeof user !== 'undefined' && user) { %>
                    <div class="user-info">
                        欢迎, <a href="#" class="user-link" onclick="showUserPoints()"><%= user.username %></a> | <a href="/logout">登出</a>
                    </div>
                <% } else { %>
                    <div class="user-info">
                        <a href="/login">登录</a> | <a href="/register">注册</a>
                    </div>
                <% } %>
            </div>
            <div class="card-list" id="card-container"></div>
        </div>
    </div>
    
    <div class="overlay" id="overlay"></div>
    <div class="detail-page" id="detail-page">
        <span class="detail-close" onclick="closeDetail()">&times;</span>
        <div id="detail-content"></div>
    </div>

    <!-- 用户积分模态框 -->
    <div id="userPointsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeUserPointsModal()">&times;</span>
            <h2>用户积分</h2>
            <p>您当前的积分: <span id="userPointsDisplay"></span></p>
        </div>
    </div>

    <script>
        let cardData = <%- JSON.stringify(content.data) %>;
        let sortAscending = true;
        let isDetailOpen = false;

        function populateAreaFilter() {
            const areaFilter = document.getElementById('area-filter');
            const areas = [...new Set(cardData.map(card => card.area))];
            areas.forEach(area => {
                const option = document.createElement('option');
                option.value = area;
                option.textContent = area;
                areaFilter.appendChild(option);
            });
        }

        function renderCards(cards) {
            const container = document.getElementById('card-container');
            container.innerHTML = '';
            cards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.innerHTML = `
                    <div class="card-cover-container">
                        <img src="${card.preview}" alt="卡片${card.id}封面" class="card-cover">
                    </div>
                    <div class="card-content">
                        <div class="card-number">编号：${card.id}</div>
                        <div class="card-description">${card.simpleInfo}</div>
                        <div class="card-price">￥${card.price.toFixed(2)}</div>
                        <div class="card-area">地区：${card.location}</div>
                    </div>
                `;
                cardElement.addEventListener('click', (e) => {
                    e.stopPropagation();
                    openDetail(card);
                });
                container.appendChild(cardElement);
            });
        }

        function filterAndSortCards() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const selectedArea = document.getElementById('area-filter').value;
            let filteredCards = cardData.filter(card => 
                (card.simpleInfo.toLowerCase().includes(searchTerm) || card.id.toString().includes(searchTerm)) &&
                (selectedArea === '' || card.area === selectedArea)
            );
            
            filteredCards.sort((a, b) => {
                if (sortAscending) {
                    return a.id - b.id;
                } else {
                    return b.id - a.id;
                }
            });

            renderCards(filteredCards);
        }

        function openDetail(card) {
            const detailPage = document.getElementById('detail-page');
            const overlay = document.getElementById('overlay');
            const detailContent = document.getElementById('detail-content');
            
            let detailHtml = `
                <h2>编号${card.id}</h2>
                <img src="${card.preview}" alt="预览图" style="width: 100%; height: auto; object-fit: cover; margin-bottom: 15px;">
                <p><strong>简介：</strong> ${card.simpleInfo}</p>
                <p><strong>价格：</strong> ￥${card.price.toFixed(2)}</p>
                <p><strong>地区：</strong> ${card.location}</p>
                <p><strong>详情：</strong></p>
                <div>${card.detail}</div>
            `;

            detailHtml += `
                <div class="comment-list">
                    <h3>评论</h3>
                    ${Array.isArray(card.commnet) ? card.commnet.map(comment => `<div class="comment">${comment}</div>`).join('') : '暂无评论'}
                </div>
            `;

            // 使用 DOMPurify 清理 HTML（如果已引入）
            if (typeof DOMPurify !== 'undefined') {
                detailHtml = DOMPurify.sanitize(detailHtml);
            }

            detailContent.innerHTML = detailHtml;
            detailPage.classList.add('open');
            overlay.classList.add('open');
            
            if (!isDetailOpen) {
                history.pushState({ isDetail: true }, '');
                isDetailOpen = true;
            }

            // 手动发送 PV 统计
            if (window._hmt) {
                _hmt.push(['_trackPageview', '/detail/' + card.id]);
            }
        }

        function closeDetail() {
            const detailPage = document.getElementById('detail-page');
            const overlay = document.getElementById('overlay');
            detailPage.classList.remove('open');
            overlay.classList.remove('open');

            if (isDetailOpen) {
                history.back();
                isDetailOpen = false;
            }
        }

        function toggleSort() {
            sortAscending = !sortAscending;
            document.getElementById('sort-icon').textContent = sortAscending ? '↑↓' : '↓↑';
            filterAndSortCards();
        }

        // 添加新的函数来显示和关闭用户积分模态框
        function showUserPoints() {
            fetch('/api/user/points')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('userPointsDisplay').textContent = data.points;
                    document.getElementById('userPointsModal').style.display = 'block';
                })
                .catch(error => console.error('Error fetching user points:', error));
        }

        function closeUserPointsModal() {
            document.getElementById('userPointsModal').style.display = 'none';
        }

        // 点击模态框外部时关闭模态框
        window.onclick = function(event) {
            var modal = document.getElementById('userPointsModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            populateAreaFilter();
            filterAndSortCards();

            document.getElementById('search-input').addEventListener('input', filterAndSortCards);
            document.getElementById('area-filter').addEventListener('change', filterAndSortCards);
            document.getElementById('sort-button').addEventListener('click', toggleSort);

            document.addEventListener('click', function(event) {
                const detailPage = document.getElementById('detail-page');
                if (detailPage.classList.contains('open') && !detailPage.contains(event.target)) {
                    closeDetail();
                }
            });

            document.getElementById('detail-page').addEventListener('click', function(event) {
                event.stopPropagation();
            });

            document.getElementById('overlay').addEventListener('click', closeDetail);

            window.addEventListener('popstate', function(event) {
                if (event.state && event.state.isDetail) {
                    // 如果是详情页状态，不做任何操作
                } else {
                    // 如果不是详情页状态，关闭详情页
                    const detailPage = document.getElementById('detail-page');
                    const overlay = document.getElementById('overlay');
                    if (detailPage.classList.contains('open')) {
                        detailPage.classList.remove('open');
                        overlay.classList.remove('open');
                        isDetailOpen = false;
                    }
                }
            });

            // 检查 URL 中是否有 id 参数
            const idParam = new URLSearchParams(window.location.search).get('id');
            if (idParam) {
                const card = cardData.find(card => card.id.toString() === idParam);
                if (card) {
                    openDetail(card);
                } else {
                    console.log('未找到对应 ID 的卡片');
                }
            }
        });
    </script>
</body>
</html>



    /Users/momo/Desktop/info-index/views/login.ejs的内容是:
      <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .logo {
            margin-bottom: 30px;
            max-width: 250px; /* 增大 logo 的最大宽度 */
            width: 80%; /* 使 logo 在小屏幕上也能自适应 */
            height: auto;
        }
        .login-container {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 350px; /* 稍微增加容器宽度 */
        }
        h1 {
            text-align: center;
            color: #1877f2;
            margin-bottom: 1.5rem;
        }
        form div {
            margin-bottom: 1rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            color: #606770;
        }
        input[type="text"], input[type="password"] {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #dddfe2;
            border-radius: 4px;
            font-size: 1rem;
        }
        button {
            width: 100%;
            padding: 0.5rem;
            background-color: #1877f2;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #166fe5;
        }
        .message {
            text-align: center;
            margin-top: 1rem;
        }
        .error {
            color: #ff0000;
        }
        .success {
            color: #00a400;
        }
    </style>
</head>
<body>
    <img src="/images/logo.png" alt="网站Logo" class="logo">
    <div class="login-container">
        <h1>登录</h1>
        <% if (locals.registered) { %>
            <p class="message success">注册成功，请登录</p>
        <% } %>
        <% if (locals.error) { %>
            <p class="message error"><%= error %></p>
        <% } %>
        <form action="/api/users/login" method="POST">
            <div>
                <label for="username">用户名：</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div>
                <label for="password">密码：</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="submit">登录</button>
        </form>
        <!-- <p class="message">还没有账号？<a href="/register">注册</a></p> -->
    </div>
</body>
</html>



    /Users/momo/Desktop/info-index/views/register.ejs的内容是:
      <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .logo {
            margin-bottom: 20px;
            max-width: 150px;
            height: auto;
        }
        .register-container {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 300px;
        }
        h1 {
            text-align: center;
            color: #1877f2;
            margin-bottom: 1.5rem;
        }
        form div {
            margin-bottom: 1rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            color: #606770;
        }
        input[type="text"], input[type="password"] {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #dddfe2;
            border-radius: 4px;
            font-size: 1rem;
        }
        button {
            width: 100%;
            padding: 0.5rem;
            background-color: #1877f2;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #166fe5;
        }
        .message {
            text-align: center;
            margin-top: 1rem;
        }
        .error {
            color: #ff0000;
        }
        .success {
            color: #00a400;
        }
    </style>
</head>
<body>
    <img src="/images/logo.png" alt="网站Logo" class="logo">
    <div class="register-container">
        <h1>注册</h1>
        <% if (locals.error) { %>
            <p class="message error"><%= error %></p>
        <% } %>
        <form action="/api/users/register" method="POST">
            <div>
                <label for="username">用户名：</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div>
                <label for="password">密码：</label>
                <input type="password" id="password" name="password" required>
            </div>
            <!-- <button type="submit">注册</button> -->
        </form>
        <p class="message">已有账号？<a href="/login">登录</a></p>
    </div>
</body>
</html>






    /Users/momo/Desktop/info-index/bashs/converttdata.py的内容是:
      import json
from datetime import datetime

def json_to_html(detail_json):
    html = ""
    for item in detail_json:
        if isinstance(item, dict) and 'type' in item and 'content' in item:
            if item['type'] == 1:
                html += f"{item['content']}<div><br></div>"
            elif item['type'] == 2:
                html += f'<img src="/{item["content"]}" style="max-width: 100%;">'
    return html

# 读取JSON文件
with open('test.json', 'r', encoding='utf-8') as file:
    data = json.load(file)

# 准备插入语句
insert_sql = '''
INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
'''

# 打开文件以写入SQL语句
with open('sql.txt', 'w', encoding='utf-8') as sql_file:
    # 遍历JSON数据并生成SQL语句
    for item in data['data']:
        # 将detail JSON转换为HTML
        detail_html = json_to_html(item['detail'])
        
        # 将commnet列表转换为JSON字符串
        commnet_json = json.dumps(item['commnet'], ensure_ascii=False)
        
        # 获取当前时间作为createdAt和updatedAt
        current_time = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
        
        # 准备数据
        values = (
            item['id'],
            item['simpleInfo'],
            '/'+item['preview'],
            item['location'],
            item['price'],
            item['area'],
            detail_html,
            commnet_json,
            '北京',  # 默认城市
            current_time,  # createdAt
            current_time,  # updatedAt
            item.get('hiddenContent', '')  # 如果没有hiddenContent，使用空字符串
        )
        
        # 生成SQL语句并写入文件
        sql = insert_sql.replace('?', '{}').format(*(repr(v) for v in values))
        sql_file.write(sql + ';\n')  # 添加分号和换行符
        sql_file.write('-' * 80 + '\n')  # 分隔线

print("SQL语句已生成并保存到 sql.txt 文件中。")



    /Users/momo/Desktop/info-index/bashs/sql.txt的内容是:
      
INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (115, '[推荐]身高:172 体重:47.5KG圈龄:3年脚码:37 喜好:四爱 边控 踩踏 ', '/iceice/113o9s9.jpeg', '朝阳 百子湾', 1000.0, '朝阳', '<img src="/iceice/115_1.jpg " style="max-width: 100%;">', '["115号颜值真的很顶，而且身材特别好腿长，脚很好看，有的时候很严厉有的时候很温柔，而且很擅长开发一些之前没玩过的东西，环境不错能洗澡啥的", "人美心善无微不至身材颜值满分,梦中情S太满意了！第一次玩直接找了个天花板级别的！！"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (116, '[推荐]身高165/体重46/脚码37 4i推荐', '/iceice/113fdkc.jpeg', '丰台 丰台科技园', 1200.0, '丰台', '<img src="/iceice/116_1.jpg " style="max-width: 100%;">', '["颜值很高，身材也很棒，态度非常好，事前会询问偏好，事后还聊了一会儿天，技术还不错，项目基本能到位，但在节奏上可能略微欠缺，再加上第一次玩有点拘谨，中间有点不知所措。教室有一次性洗漱，可以洗澡，作为初体验，挺值得推荐的，到现在还回味呢。", "今天体验了116号，感觉很不错。颜值很高，会提前询问喜好尺度，按照你喜欢的流程来。颜值100分，态度100分，环境80分。这是我第一次玩sm,体验真的不错很推荐", "无论从颜值还是身材上来讲都是佼佼者精致的妆容，极具魅力的双眼是能勾魂的那种，还有一双笔直又雪白的大长腿配上温柔的声音，楚楚动人。硬性条件非常出色恋足的福音，美脚雪白修长白嫩，非常可口，视觉效果也是十分棒,手法上来讲也是不错，欠缺一点点节奏的把控，更多会听m的意愿和想法，非常配合总体来讲94-95把还是非常值得体验的", "116非常好评，不认识老哥前北京都是自己找的，也碰过壁看到老哥一系列推荐及，评价立马选了116号。颜值满分！！身材满分！！声音满分！！手法满分！！场地满分可洗澡道具也齐全之前找的不是很敷衍就是身材手法都不好，认识老哥后可以从推荐找自已选在京的，看到116评价高果断上课，一进门就看到穿着JK的老师，超级好看还问我冷不冷喜欢JK还是换一套成熟的，从头到尾跟着老师走很有感觉，真的能感受到当学生的感觉，老师会问你喜欢什么不喜欢什么一步一步引导，有种被校花欺负的感觉声音也是很入戏，老师一看就不敷衍也玩在其中，交了粮食课时很快过去，意犹未尽的我还没穿鞋立马继续上课，第二课跟第课完全不同，老师换了一种衣服和风格。感觉老师真的什么都会只有你不敢玩的，尤其后活老师比你玩的都嗨，只有你受不了求饶，最后课时超时老师也不摧。北京陆陆续续上了很多老师课今天经历真的非常好非常推荐"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (42, '[推荐] 年龄: 21身高:175 体重: 50kg 脚码: 39跪地为奴 起身为友 喜欢被崇拜高高在上擅长: 语言羞辱，暴力掌控，足J', '/iceice/zmrsmv.jpg', '朝阳 百子湾', 1000.0, '朝阳', '年龄: 21身高:175 体重: 50kg 脚码: 39跪地为奴 起身为友 喜欢被崇拜高高在上擅长: 语言羞辱，暴力掌控，足J<div><br></div><div><br></div>基础调教:恋足 恋丝 高跟踩踏 足]耳光SP 踢裆 狗奴 脚奴做脸室息 语言羞1K/小时马奴 脚深喉 虐乳 虐阳<div><br></div>角色扮演 四爱 虐肛 榨精 潮喷 龟头责<div><br></div>圣水-一1.5k小时<div><br></div>无性 黄金随缘 不血腥 不议价谢谢<div><br></div>来自灵魂深处的压迫感<div><br></div>口嗨勿扰 请自重!!!<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (10, '[推荐]身高净身高172 体重52 脚码 39', '/iceice/z6jly4.jpeg', '朝阳 百子湾 每周二、四在顺义南法信', 1000.0, '朝阳', '<img src="/iceice/gxq5sv.png" style="max-width: 100%;">', '["我觉得10号是综合实力最好的没有之一。首先颜值身材都不错。技术的话，我玩的都是轻度所以技术方面完全到位。爽到头皮发麻。最让我欣赏的是态度认真且全程专注。人家手机放外屋。就问有几个S能这么专注？场地整洁，卫生间很干净，洗漱用品齐全。轻课程十张的价格超值啊！总体上看真的是没有短板。肯定有单项比她好的女主，但是其他方面就会有不如她的地方。不愧是做了很多年的专业女主"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (117, '[推荐] 身高172 又白又瘦 ', '/iceice/112hw4d.jpeg', '广渠门内地铁站', 1000.0, '东城', '身高172 又白又瘦 <div><br></div><div><br></div>1.初级基础:语言羞辱，恋足，恋丝，耳光，舔裸足，舔鞋，遛狗，吐 口水，坐脸，骑马，钻跨，1000 <div><br></div><div><br></div>2.中度:踩踏，滴蜡，圣水，窒息，鞭打，虐阳，虐乳，足交，榨精，腿绞，边缘控制，插马眼，打屁股，剃毛，木乃伊，捆绑，踢裆，脚深喉 龟头责1200 <div><br></div><div><br></div>3.前高，四爱，黄金圣水加羞辱I500 <div><br></div><div><br></div>4.网调20分钟200 <div><br></div><div><br></div>5定制视频/定制原味200起 <div><br></div><div><br></div>6.户外调教北京外出加500 7.定金二百提前三十分钟预定时间，北京现实招奴<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (4, '[推荐] 会玩 沉浸感十足 打的也很狠', '/iceice/z59tdm.jpeg', '朝阳区润枫嘉尚 十里堡', 1000.0, '朝阳', '1、初级(轻度):1000/次 60分钟((500/次 30分钟)恋足、恋鞋、轻度踩踏、挑逗羞辱、耳光(手、脚、鞋) 鞭打、 SP、遛狗、训狗、钻跨、口水、脚或咀嚼投喂(M自带” 塞口 (鞋袜或贴身物品)、虐乳、恋臀、强迫、人体家具;<div><br></div><div><br></div>2、中级(中度 含轻度):1200/次 60分钟(600/次 30分钟)圣水、暴力踩踏、重度踢裆、中度窒息(手、脚、坐脸、水刑)刑奴、腿绞、捆绑束缚、滴蜡、电击、保鲜膜木乃伊、贞操锁;<div><br></div><div><br></div>3、高级(重度 含中度):1400/次(700/次 30分钟)虐阳、虐肛、黄金(间接，需提交预约，直接另加300)、龟头责、强制炸精(至少2次，，需提前三天禁欲)、情景角色扮演、针扎穿刺、捆绑重度鞭刑禁忌:重大伤害所有项目均为无性调教<div><br></div>', '["4号十里堡确实不错玩的好而且很严厉拿玩狗当娱乐能感觉到她虐人能得到快感手法包括玩法都会按照m要求来总之一点调教的手法符合我的需求", "从进门开始，就已经摆出一份女王的姿态了，真的特别会玩，颜值比照片上更好看更性感，玩室息控制的恰到好处，非常严厉，不建议新手去，脚深喉被插到干呕，最后被绑在椅子上强取，榨得直求饶最后被强榨四次结束，一般人受不了，但是很值得体验"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (5, '天津高颜值女神，顶流', '/iceice/5_p.jpg', '天津 滨海新区', 1000.0, '天津', '年龄24身高168体重95\r鞋码37圈零5年，可温柔可严厉，风格多变喜欢出其不意，恶趣味\r喜欢偏生活化随心自然tj ，喜欢又贱又骚的掌控你的一切\r禁忌：无x，无口蛇舔g 不医疗 不血腥\r常驻天津，随缘巡游，可空降\r基础上课四位数接受不了的绕行<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (133, '[推荐] 21岁 甜美小主', '/iceice/133_p.jpg', '朝阳 双桥附近', 888.0, '朝阳', '<img src="/iceice/133_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (7, '朝阳大悦城附近的多 S 会所，独立教室', '/iceice/7_1.jpg', '朝阳 大悦城附近', 1000.0, '朝阳', '<img src="/iceice/7_8.jpg" style="max-width: 100%;"><img src="/iceice/7_2.jpg" style="max-width: 100%;"><img src="/iceice/7_3.jpg" style="max-width: 100%;"><img src="/iceice/7_4.jpg" style="max-width: 100%;"><img src="/iceice/7_5.jpg" style="max-width: 100%;"><img src="/iceice/7_6.jpg" style="max-width: 100%;"><img src="/iceice/7_7.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (8, '[推荐] 非常性感的女神，身高 165 体重 44kg 脚 36', '/iceice/8_p.jpg', '丰台 宋家庄', 1000.0, '丰台', '<img src="/iceice/8_2.jpg" style="max-width: 100%;"><img src="/iceice/8_1.jpg" style="max-width: 100%;"><img src="/iceice/8_3.jpg" style="max-width: 100%;">', '["这次玩的胯下羞辱玩弄，直接说正题进屋后我直接下意识的就跪下很，女王则是不紧不慢的走到沙发上坐好然后打开腿，怎么啦贱货还不赶紧爬过来不想闻闻看主人的味道吗,瞬间我就有感觉，快速爬过刚把脸贴上还没仔细感受就被女王一把抓住头发，我允许你闻了贱货，就这么急不可耐想到主人的味道吗，嗯~声音还是那么的诱人魅惑，女王调时状态时而诱人时而严力。我犯贱的回应然后被扇了一个耳光，狗是这么叫的吗，瞬间我更加兴奋了汪汪汪的回应，可能是我的下贱取悦女王，女王直接抓着我的头按在了她的下面，柔软十分的柔软在其中夹杂着淡淡的味道让我更加兴奋了。虽然女王其实背对着我，从后面看女王的翘臀更加诱人了，来闻闻主人后面怎么呀，女王抓着我的头发就按向女王后面，我之前上完厕所好不好闻，的确有淡淡的味道，本来我应该反感的但这时反而有种这是奖励的感觉。躺下，随着命令我十分快速的躺会，然后就一览无余看着女王高贵的下体坐在我脸上，十分随意的把重量压在我脸上，怎么贱狗我的下面好不好闻是不是很想被主人坐在屁股下面，下贱的骚狗是不是很想当主人厕所（这次我没玩圣水，毕竟还没尝试过）毕竟玩的单一所以时间也不算长，不过体验感十分不错"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (9, '[推荐]身高168 体重48。技术好  可以ks', '/iceice/z5cemz.jpeg', '朝阳 百子湾', 1000.0, '朝阳', '根据课表自报项目 报价<div><br></div><img src="/iceice/9_1.jpg" style="max-width: 100%;">', '["整个调教过程体验感爆棚，第一次玩的这么痛快，玩的过程中非常认真，不会去看手机，也不会卡时间，我定的一个小时，正好赶上主人没什么事，玩着玩着都将近两个小时了，而且主人属于那种可以根据你想要的性格进行转变的，可严厉可温柔，个人感觉在帝都这个圈子里面算是非常良心的S了，体验非常好，", "首先说颜值气质都是这个圈子里最顶级的，非常漂亮比照片还要好看。并且玩法非常多，各种的道具非常全，绝对可以满足各种承受能力的。并且在玩的过程中体验感极好，技术特别好，真的特别会开发，我自己之前不敢开发的在这里开发的非常成功。并且人真的特别好，总之我觉得是最好的。"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (11, '天津年轻可爱的女S', '/iceice/11_p.jpg', '天津 市区', 800.0, '天津', '基础800起，基本上都能玩，自己去问价吧<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (14, '[推荐]本主身高170体重48Kg脚码37 高颜值', '/iceice/zmpapq.jpg', '朝阳 百子湾', 1500.0, '朝阳', '一初级1.5k一小时 恋足恋丝狗奴舔鞋口水脚喂食（自带食物）耳光遛狗坐脸 骑马踩踏足交语言羞辱<div><br></div><div><br></div>二中级1.8一小时 女功捆绑鞭打滴蜡圣水脚伸喉踢挡马眼虐乳虐阳（虐肛可TS陪调另加费用）控制射精龟头责<div><br></div><div><br></div>三厕奴2k前两项任选提前一天预约 黄金圣水舔马桶<div><br></div><div><br></div>四舔肛2.8前三项认选<div><br></div><div><br></div>五情趣诱惑调教3.5包括前四项<div><br></div><div><br></div>六口舌6k不这价七情侣主调教7k不以价需要提前预约沟通 （前五项定金500）外出需另加费用违约不退<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (47, '丰台南三环S', '/iceice/n7huop.jpeg', '丰台 南三环', 800.0, '丰台', '8米!戀足，羞辱10米1!原味絲襪(棉襪)，交，踢打，踢檔，喂食，口水，深喉，耳光，虐乳，鞭打，SP，CD，塞嘴遛狗，鑽跨，騎馬 狗奴馬奴，坐窒息，捆綁 木乃伊，踩踏(板)，腿脚窒息，虐Y虐G，滴蠟，龜頭責，强制取J，控制ZJ，灌腸，四愛，虐“0，聖水，紅金n米h!黄金(提前一天告知)<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (130, '[推荐] 百子湾附近  00后的女神S 身高162 体重45 脚35 基本都可以玩 颜值高 性格也蛮不错的小主', '/iceice/130_p.jpg', '朝阳 百子湾地铁站附近', 1200.0, '朝阳', '<img src="/iceice/mmexport1713141797008.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (1, '偏少妇型S，身高165重94斤脚36 1000起 可ks', '/iceice/ktw2ww.jpeg', '丰台刘家窑', 1000.0, '丰台', '价目表：<div><br></div><div><br></div>身高165重94斤脚36<div><br></div><div><br></div>1恋足丝袜诱惑角色扮演脚虐丝袜高跟足喂食，脚窒息深喉洗脚遛狗训狗马奴鞭打转胯丝袜内裤套头堵嘴1h1000<div><br></div><div><br></div>2耳光虐乳做脸踩踏滴蜡电击踢裆鬼头责X马眼口水痰圣水1h1200<div><br></div><div><br></div>3捆绑手铐脚镣木乃伊强制控制sjsp虐肛灌肠拳交呕吐物1h1500<div><br></div><div><br></div>4黄金圣水厕纸1h1500包含 1-3项<div><br></div><div><br></div>5口舌1h2000包含1-4项<div><br></div><div><br></div>6囚禁关押1000，关狗笼期间无调教，圣水畅饮7生活化圈养， 20008过夜圈养30009全天圈养6000<div><br></div><img src="/iceice/ktw2ww2.jpeg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (2, '[推荐] 身高175体重55鞋码40年龄26  可ks', '/iceice/z1wziu.jpeg', '丰台芳群园二区', 1000.0, '丰台', '身高175 体重55 鞋码40 年龄26<div><br></div>10张包括：恋足，恋腿，恋靴子，足喂食，洗脚，丝袜手脚释放（半小 时5张）<div><br></div>12张包括：耳光，踩踏，做脸，狗奴，马奴，溜狗，挠痒痒，滴 蜡，捆绑，保鲜膜，丝袜套头，腿脚窒息，丝袜堵嘴，鞭打，钻跨，乳 头，痰盂，龟头责，手脚释放（半小时6张）<div><br></div>14张包括：肛门，拳交 马眼，直接圣水，榨精，手脚释放（半小时7张 <div><br></div>18张包括：KS<div><br></div><img src="/iceice/110k3et.jpg" style="max-width: 100%;">', '["刚刚约了一下,不错，很不错,声音好听，身材好看，态度拉满没催时间，手法也很舒服。主要是已经买了明天的机票，不然非得高低再约一次,已经在期待下次了"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (6, '身高170cm体重53kg脚码38性格随性随心', '/iceice/z5ci2h.jpeg', '朝阳 黄渠', 1000.0, '朝阳', '身高170cm体重53kg脚码38性格随性随心，诱惑情趣类型，喜欢刺激，喜欢骚m。本主手法情趣多变，不喜血腥暴力项目，其他均可，主要现实调。预约自报项目，可定制，变换场景，喜欢各种角色扮演对m要求，有奴性，健康，干净，卫生，有素质<div><br></div><div><br></div>大概项目:<div><br></div><div><br></div>轻度800:主要包含恋足狗奴马奴丝袜高跟口水耳光足交<div><br></div><div><br></div>中度1000:包含踩踏鞭打捆绑虐阳圣水异装制服侮辱坐脸<div><br></div><div><br></div>重度1200:刑奴虐待灌肠虐肛虐阳电击滴蜡木乃伊虐马眼特殊项目定制剧情自报选好项目会跟你说价格，提前两小时预约.<div><br></div><div><br></div>上午10点到晚上10点，需收定金200<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (19, '800起 性价比蛮高 ', '/iceice/zmpxw3.jpeg', '天通苑地铁站附近', 800.0, '昌平', '调教项目(以下所有项目均可自由选择)<div><br></div><div><br></div>1、恋足类:跪拜、闻脚、玉足喂食、舔脚、舔鞋、舔丝袜、丝袜塞嘴，高跟、踩踏、<div><br></div><div><br></div>2、狗奴:狗叫遛狗、狗爬、狗撒尿、狗游戏、狗笼喂养、逗狗、喂狗、随意发挥3、羞辱类:骑马、溜狗、钻跨、痰盂、口水、烟缸、耳光、踢踏、坐脸、滴蜡、人体家具、囚禁。小。<div><br></div><div><br></div>4、各种捆绑、丝袜捆绑、鞭打、手靠、脚靠、连靠、铁链捆绑等。<div><br></div><div><br></div>5、易装类:化妆、角色扮演等。<div><br></div><div><br></div>6、厕奴:闻、舔马桶，喝马桶水、痰盂、舔闻卫生用品，黄金和圣水调教八百，时间一个小时左右，厕奴- -千- -次直接不接触下体，提前预约定金两百!舔阴舔肛，口舌，血腥不做!<div><br></div>', '["19号人也好看，虽然没到模特网红那种级别。身材偏瘦，但是腿和脚都很好看，白嫩白嫩的。我很喜欢只玩轻度的项目。手法也很到位。全程也很认真，只是拿起了几次手机看消息。一边调一边闲聊，我很喜欢这种氛围。人家也不机车不走流程也不赶时间，哪怕刨去闲聊的时间最后都超时了。轻课程8张真的是性价比高。下次的时间已经约", "玩的基础的靴子和白棉袜踩踏，还有虐乳，总体感觉不错，性价比很高，女主也比较健谈，在玩的时候有女王范儿，平时沟通又很随和，总体接触下来感觉很好，不卡时间，m的需求也都能尽量满足"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (23, '[推荐] 成寿寺 很不错的s', '/iceice/zmq4a5.jpg', '丰台\n成寿寺', 1000.0, '丰台', 'A丝足诱惑:恋足，舔脚，舔鞋，跪拜，高跟，洗脚，脚喂食，足踢打，.1000<div><br></div><div><br></div>B窒息，足深喉，脚踩踏，羞辱，口水，耳光，遛狗，骑马，鞭打，训奴，1200<div><br></div><div><br></div>C角色扮演，制服诱惑，丝袜捆绑，坐脸窒息，圣水，钻裆，踢裆，手足固定1400<div><br></div><div><br></div>D虐乳，虐肛，虐阳，滴腊，插马眼，强制sj，灌肠，四爱，前高，虐肚子，贞操锁，SP:2000以上预约，付定金为准!<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (24, '八块腹肌 蜜桃臀 健身玩家 身高1761500起', '/iceice/zmqjbq.jpg', '朝阳十里堡', 1500.0, '朝阳', '八块腹肌 蜜桃臀 健身玩家 身高176  1500起<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (25, '对4 爱、前羔、虐杨、爆局、开宝有深入研究', '/iceice/zmqgvh.png', '朝阳垡头', 700.0, '朝阳', '女王:曾多年任影视剧组跟组化妆师，精通化妆、美妆。上大学的时候就喜欢艾斯M.尤其对4 爱、前羔、虐杨、爆局、开宝有深入研究。elsa女王的王牌项目:4"爱pegging、虐杨，独创三步quan肠法，清洁+保养，女王自备的精油等guan肠，让你无痛开苞，无痛4爱，尽情享受4爱带来的快乐，第二天没有任何不适，不影响第二天工作。重點:王牌项目1500元两个小时及以上，注意时间很长哦，绝对让你满意!(kou舌单加500)其他项目800/小时:丝袜舔jio，舔鞋，口水，袜子塞嘴，边缘控制，渣井，滴la，sp，踩踏，鬼头责，坐脸，liu狗(kou舌单加500)圣水1000无huang金，无xing调教<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (33, '可ks', '/iceice/zmr5mr.png', '朝阳十里河', 800.0, '朝阳', '脚奴：舔脚、舔丝、舔鞋、踩踏、脚深喉、脚窒息、脚喂食、脚抽耳光、喝洗脚水、丝袜套头塞口等...  （800一小时）                                                                     刑奴：耳光、鞭打、踢打、穿刺、电击、灌肠、捆绑、踩阳、虐肛、虐乳、炮机、虐马眼、龟头渍、强制射精、坐脸等各种窒息  （800一小时）                                                                    狗奴：遛狗、骑马、钻胯、口水、跪拜、叼鞋、烟灰缸、狗撒尿、随意刁难  （800一小时）                                                                     <div><br></div><div><br></div>厕奴：黄金、圣水、涂粪、圣水浴、舔马桶、吃厕纸等...  （1100一小时）                                                                      口舌奴：舔阴、舔肛、舔脚  （1100一小时）<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (39, '擅长 ：踢打 虐乳 龟头则  耳光  四爱 等有调教室  圈龄2年  95后女主身高161 脚码36  身材娇小   有礼貌的加', '/iceice/zmrfi9.jpg', '朝阳 百子湾', 1000.0, '朝阳', '<img src="/iceice/i9co77.jpeg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (40, '97年 02 04刚入圈可三S 可ks 可做', '/iceice/zmriwk.jpg', '丰台 方庄', 1300.0, '丰台', '基础类：舔脚、踩踏、脚虐、踢裆、脚耳光、裸足喂食、喝洗脚水、闻舔鞋、踢打、高跟崇拜、磕头跪拜、吃口水、遛狗骑马、钻裆、语言羞辱骂、刁难、扇耳光、丝袜、打屁股、虐乳、内裤套头闻、坐脸窒息、足交撸管榨精龟头责。  虐肛、CD奴、四爱、假阳具、双主前后抽插。<div><br></div><div><br></div>圣水类：直接间接圣水、淋浴、多主圣水（当马桶） 黄金类：直接间接黄金吃厕纸、黄金果冻（吸吸果冻挤到里面让你吸着吃，让你流连忘返，吃黄金的贱狗开心了吧）   时间70分钟 <div><br></div><div><br></div>单S价格：基础1300 圣水1600 黄金2000    女奴互摸全身免费，口你500做a1000<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (44, '??高性价比 799可以玩sm', '/iceice/zms2en.jpg', '朝阳 百子湾地铁站', 500.0, '朝阳', '<img src="/iceice/zms2en2.jpg" style="max-width: 100%;">', '["叫小妖的很不错，特别会玩而且整个过程没有其他会所惯有的办卡什么的"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (45, '常驻天津 有时来北京巡游', '/iceice/12531ja.png', '天津', 800.0, '天津', '基础项目:8张/h/丝，狗奴，足交，羞辱，耳光，口水，鞭打，滴蜡，捆绑，踢裆，虐阳，马眼，座脸，钻胯，骑马……(无限榨+2张、似爱+3张、圣水+2张、肛门喂食+2张、黄金+3张)过夜调30张/8小时*无口/无xing/无血腥，定金2张。基础项目:8张/h/丝，狗奴，足交，羞辱，耳光，口水，鞭打，滴蜡，捆绑，踢裆，虐阳，马眼，座脸，钻胯，骑马……(无限榨+2张、似爱+3张、圣水+2张、肛门喂食+2张、黄金+3张)过夜调30张/8小时*无口/无xing/无血腥，定金2张。<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (46, '性价比高', '/iceice/zmsflb.png', '大兴 枣园地铁', 600.0, '大兴', '一、基础孝敬600:舔足、舔丝袜脚、舔鞋、 足喂食、足膜拜、语言差辱。 二、孝敬800:圣水、k9、跪膜拜、马奴、耳光、SP、踩踏、踢档、坐脸室息、随意刁难、CD (CD奴自带衣物、强制乃伊、KB、NU肛、NUE阳、GC控制、强制取JING、插马眼、丝袜堵嘴、丝袜套头、腿丁、圣水淋浴、rs、脚 深喉、四爱 三、孝敬1200: KS 无性调教，不外出，免开尊口<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (49, '黄渠地铁站年轻S', '/iceice/126764h.png', '朝阳 黄渠地铁站', 1200.0, '朝阳', '内内.黑丝.肉丝.网袜.吊袜150(不包邮)网课:语音150/15分钟视频200/15分钟<div><br></div><div><br></div>现实上课: (课时30分钟定金200) 丝足、恋足语言调教800 (课时1小时定金200) 基础:丝足、恋足、耳光、言语辱骂、轻度虐乳1200 <div><br></div><div><br></div>中度:丝足、强迫舔鞋底、磕头、遛狗、对镜羞辱骑马、钻 胯、口水、巴掌抽打耳光、言语羞辱、捆绑、虐阳龟头责、 虐乳高跟踩踏、喂食1400 /圣水、隔裤坐脸1500<div><br></div><div><br></div>重度:滴蜡、SP、鞭打、踢裆、虐阳道具玩弄马眼插屁眼1.8<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (51, '??身高:165 体重:95 脚码:38年龄:26很漂亮的小妹妹', '/iceice/10rkxfb.jpg', '朝阳 柳芳', 1200.0, '朝阳', '身高:165 体重:95 脚码:38年龄:26很漂亮的小妹妹无性无口无血腥基础:舔脚 舔鞋 踩踏 辱骂 骑马 捆绑 滴蜡 耳光 鞭打喂食口水足交龟头责控制射精…等(1200)加价:虐肛/虐马眼(100)高潮破坏(100)圣水(200)恋臀(300)强制射精(300)等等 PS马眼用马眼棒不用高跟鞋直接圣水(500)黄金圣水(1100)限T过的人可约不好约女m陪T需提前半天预约具体事宜私信询问<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (52, '', '/iceice/10s9dnc.jpg', '丰台 成寿寺', 1000.0, '丰台', '调教项目 跪拜， 鞭打，折磨，口爆假阳，虐阳，捆绑，虐乳，SP，钻胯，踢裆，圣水，耳光，口水，恋足，喝洗脚水，丝袜 脚喂食，脚耳光，言语羞辱，踩踏，高跟踩踏，光脚踩踏，丝袜勒脖子，私物崇拜，舔鞋，易装，角色扮演，骑乘，狗奴 贞操锁自带……1Ｋ70分钟。原味儿丝袜150包邮，内裤200包邮，原味鞋私询……爆菊，灌肠虐肛。木乃伊，圣水，黄金，1.5Ｋ80分钟（含基础调教）过夜圈养：2.5Ｋ起，（晚九点到第二天十二点）圈养24小时3.5Ｋ起（按天数递增）外出费用加倍，视距离远近决定车费<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (54, '身高:162 体重:85 北京本地人', '/iceice/10sb0bz.jpg', '海淀 西三旗', 1000.0, '海淀', '地址:西三旗<div><br></div>身高:162 体重:85<div><br></div>上课内容:<div><br></div>基础:狗奴、恋足、踩踏、羞辱、口水700元50分钟<div><br></div>中级:圣水、虐乳、坐脸、足喂食、滴蜡、马眼儿、鞭打 800元 60分钟<div><br></div>高级:口舌、舔菊、龟责、榨精、穿刺、拳交、爆菊 1200元 60分钟<div><br></div>定金:200元 提前预约 迟到不退，提前一天可以改一次时间<div><br></div>上课时间:早10点--晚9点<div><br></div>无性、议价者拉黑<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (56, '??身高167 体重50kg 脚 38 无x  擅长前高 黄金', '/iceice/10sb2em.jpg', '朝阳区 北工大西门附近', 1000.0, '朝阳', '小主身高167.体重50Kg.脚码38无性授课，主要擅长前高、黄金0初级授课项目恋足 舔鞋 丝袜踩踏耳光 口水 喝洗脚水 高跟踩踏虐乳 脚深侯 钻跨 原味 丝袜堵嘴 丝袜 语言羞辱蒙眼 足交 手释放2中度接课项目圣水 遛狗鞭打 藤条sp 骑马 滴蜡 捆绑 做脸室息口塞 口吐食物 虐阳 舔缸 踢裆 边缘控制 龟头责捆绑贞操锁 保鲜膜封印 纱布木乃伊3重度授课黄金 (舔马桶圈.清洁做便器)舔缸 前高 女攻 cd男<div><br></div>便女装炮机虐缸 情趣服装诱惑<div><br></div>', '["特别棒，特别专业，道具也特别多是我见过很厉害的女s了，想体验专业版的一定要去试试！"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (63, '800起，高性价比', '/iceice/10sbarp.jpg', '朝阳 方庄', 800.0, '朝阳', 'A丝足诱惑：恋足，舔脚，舔鞋，跪拜，高跟，洗脚，脚喂食，足踢打，.800B窒息，足深喉，脚踩踏，羞辱，口水，耳光，遛狗，骑马，鞭打，训奴，1000C角色扮演，制服诱惑，丝袜捆绑，坐脸窒息，圣水，踢裆，手足固定1200以上预约，付定金为准！<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (64, '', '/iceice/10sbhms.png', '朝阳小红门', 1000.0, '朝阳', '1000起步<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (66, '广渠门内地铁站附近的s', '/iceice/10sbi2c.jpeg', '东城 富贵园四区', 1200.0, '东城', '初级基础:语言羞辱，恋足，恋丝，耳光，舔裸足，舔鞋，遛狗，打耳光，吐口水，坐脸骑马钻跨，1200<div><br></div><div><br></div>中度:踩踏，滴蜡，圣水去，窒息，鞭打，虐阳虐乳，足交，榨精，腿绞，边缘控制，插马眼，打屁股，剃毛，木乃伊，捆绑，踢裆，脚深喉，龟头责1400<div><br></div><div><br></div>黄金圣水加羞辱1700<div><br></div><div><br></div>网调20分钟300<div><br></div><div><br></div>定制视频/定制原味200起户外调教<div><br></div><div><br></div>北京外出加500定金二百 提前三十分钟预定时间，北京现实招奴<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (67, '成寿寺专业老师', '/iceice/10sbkdq.jpg', '丰台 成寿寺', 1000.0, '丰台', '1恋足【原味】或【无味】#多主调教↓洗脚，舔脚，喝洗脚水，语言羞辱，脚虐跪拜足打耳光裸足喂食「恋足可选轻度<div><br></div><div><br></div>2丝袜奴【原味】或【无味】舔丝袜香吻丝袜闻丝袜丝袜蒙眼套头丝袜捆阳等丝袜项目。<div><br></div><div><br></div>3鞋奴舔鞋 闻鞋 清理鞋底 高跟崇拜 踢打踩踏 插嘴<div><br></div><div><br></div>4狗奴磕头跪拜 做脸 骑马吃口水痰盂喂食语言辱骂遛狗钻裆任意刁难等<div><br></div><div><br></div>5易装CD(变装)调教丝袜野外，漏出，高跟长靴学女人撒娇<div><br></div><div><br></div>6厕奴调教直接或者间接黄金圣水舔马桶吃厕纸<div><br></div><div><br></div>7刑奴滴蜡Sp踢裆窒息坐脸重度虐乳重度耳光重度踩踏 捆绑 插马眼等...<div><br></div><div><br></div>8灌肠虐肛强制射精榨精暴力体罚前列腺高潮压榨+多次释放。<div><br></div><div><br></div>9圈养「生活化圈养」有专业圈养设备。<div><br></div><div><br></div>10角色扮演，老师，主奴，母子，领导，白领无性调教，无口舌<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (68, '年龄40 身高162 体重95 鞋码 37 有时可以母女', '/iceice/10sbneq.png', '朝阳 潘家园', 1000.0, '朝阳', '<img src="/iceice/idmu9v.jpeg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (70, '??身高168，体重46kg，脚码36 干净 技术好', '/iceice/10sbu0b.jpg', '丰台 方庄', 1000.0, '丰台', '1、基础类1k一小时恋足:足交、舔脚、喂食(食物自带)恋丝:舔丝袜、袜子堵嘴、丝袜蒙眼套头。鞋奴:闻舔鞋、高跟崇拜、高跟插嘴、清理鞋底狗奴:跪拜、遛狗、钻裆、口水、骑乘、<div><br></div><div><br></div>2、中重度15k一小时圣水、深喉、捆绑、电击、鞭打、虐阳、 踢裆、龟头责、榨精、控制射精、SP、踩踏、耳光、坐脸、虐乳<div><br></div><div><br></div>3，黄金2k，提前两天预约，可带一，二项目。<div><br></div><div><br></div>4，舔肛2.5k，可带一、二项目，一小时课时。<div><br></div><div><br></div>5，灌肠十虐肛，2个小时3k可带一、二项目。6，过夜5k,晚11点到早7点。<div><br></div><div><br></div>7，异地空降1w起，往返机票，酒店，车费除外。<div><br></div><div><br></div>8，禁忌:语言羞辱、脏话羞辱、无性、无医疗。<div><br></div><div><br></div>9，提前2小时预约，定金300不议价。看好禁忌，不合适就找别人哦<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (81, '年龄28身高165 体重98 鞋码37', '/iceice/10sc61e.jpg', '丰台 新宫', 1000.0, '丰台', '《普通调教》+跪拜舔脚、丝袜套头、钻夸、遛狗、赛口、捆绑、踩踏踢跨、圣水淋浴--1000一小时<div><br></div><div><br></div>《中度调教》+鞭打、滴蜡、马眼、强制、角色扮演、炸精、龟头责--1200一小时<div><br></div><div><br></div>《重度调教》+前高爆菊、灌肠、黄金圣水、导尿、口舍--1500一小时纯口舌制服诱惑--1800一小时<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (83, '身高164体重88脚37', '/iceice/10sc1m1.jpg', '朝阳\n百子湾', 1000.0, '朝阳', '项目基础类1k起时间均为一小时起双主2k恋足 恋丝狗奴 舔鞋口水耳光遛狗坐脸骑马踩踏足交语言羞辱圣水中度类1.5控制射精 虐阳 虐乳 虐肛拳交提档绿帽羞辱龟头折磨Rs舔肛2k黄金2k位置朝阳区百子湾附近不议价不议价不议价<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (84, '学生S 价格偏高', '/iceice/10sco2c.jpg', '海淀 五道口', 1500.0, '海淀', '基础15张起<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (91, '西班牙双硕士归国，北京现实调教，定期全国巡游。知性、温婉、高情商、擅长心里控制，有原则有态度，可多语种调教。  年龄:28身高:168cm 体重:53kg ', '/iceice/11czje3.jpeg', '海淀 苏州街', 1500.0, '海淀', '西班牙双硕士归国，北京现实调教，定期全国巡游。知性、温婉、高情商、擅长心里控制，有原则有态度，可多语种调教。  年龄:28身高:168cm 体重:53kg 1.无性调教 2.定金200可抵扣  3.调教室位置在海淀苏州街 4.价目表： 一）、基础调教:1500，时长一个小时: 足类、丝袜类、高跟类、耳光、羞辱、狗奴类、轻度鞭打、捆绑类、滴蜡 二）、高级调教：1800-2500，时长一小时： 鞭打类（中重度sp）、虐阳虐肛、做脸、口舌、大型工具折磨、大型刑具束缚、多功能禁锢架、四爱、变装、角色扮演、情节设计、心理控制、贞操锁控欲、器具榨精、直接圣水、狗笼囚禁、过夜（价格单谈）<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (94, '都是93年 168 52kg 36码  163 44kg 34码 高颜值舞蹈老师', '/iceice/94_2.jpg', '朝阳区 八里桥地铁站', 1500.0, '朝阳', '<img src="/iceice/94_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (95, '百子湾S 脚很好看 加v有门槛', '/iceice/1224vf6.jpeg', '朝阳区百子湾', 1200.0, '朝阳', '我就是主要恋足，舔脚，舔丝袜脚，舔鞋，足深喉，足喂食，丝袜诱惑等所有恋足的项目都可以，还喜欢踩踏，虐阳，虐乳，虐肚脐坐脸，口水，原味，辱骂!足交，强制射精，狗钻跨圣水，踹屁股，捆绑，滴蜡，足窒息，打屁股，磕头，剧情调教， 其中玩圣水和剧情或马眼+100 足交的+200 前列腺高潮+300剧情调教，有，比如 女王调教贱奴不另外收费但是医生虐待病人，女上司强上下属，学生诱奸老师，护士折磨病员，女刑警拷问罪犯，帮闺蜜对付渣男，学姐欺负男同学，老师体罚，绿帽子之类的+150过夜调具体情况细聊 一次性充值一万一律85折空降6000起，视距离远近而定 黄金2000四爱+500<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (97, '北京双s上课详情 常驻北京，教室在北京西城（空间不算大），地铁七号线达官营地铁站附近，可单， 可双', '/iceice/111stdp.jpeg', '西城区达官营地铁站', 700.0, '西城', '北京双s上课详情 常驻北京，教室在北京西城（空间不算大），地铁七号线达官营地铁站附近，可单， 可双双人价格翻倍，上课需要预约，定至少1张。  第一个s:身高 171,体重 140，脚码40,丰满微胖主，擅长腿绞,踢打踩踏，刑，介意 勿扰。 第二个s:身高168, 体重120，脚码38，喜欢刑类所有项目。  现实课程内容： 1.基础轻度类7张/时 丝足类，狗奴类，骑马， 虐乳，踢裆，轻度鞭打。 ，踩踏，羞辱，耳光，口水，做脸(隔衣物)，钻裆，足交, 2.中重度类9张/时 滴蜡，捆绑，sp,虐刚，虐阳，直接或间接圣水，月经舔舐，插马眼，捆绑JJ,窒息，炸精，变装，保鲜膜木乃伊，穿刺，电击，角 色扮演，口舌，黄金。（此项目中， 如玩口舌，黄金则任选其一，两项同时玩价格为11张/时) 3.上面项目，均可玩儿半小时，半小时轻度为4张，中重度为5张。时间再短不 玩儿, 4.不户外，露出，不过夜，免开尊口. 5.原味出售，丝袜120，棉袜100，内裤180，圣水200，黄金300闪送同城， 邮寄，所有原味都是邮寄价格，面交价格另附。<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (98, '身高165 体重 45KG\t脚 37\t ', '/iceice/114qinm.png', '朝阳 百子湾', 1000.0, '朝阳', '项目基础类1k起 时间均为一小时起  恋足 恋丝 狗奴 舔鞋 口水 耳光 遛狗 坐脸 骑马 踩踏 足交(圣水+两张) 中度类 1.5k一小时  控制射精 虐阳 虐乳 虐肛 龟头折磨 踢档 重度耳光 窒息 榨精 滴蜡 捆绑 灌肠 重口黄金 2k 舔肛 2.5  网调语音 200 25分钟 视频300 半小时日  双主多主可提前沟通，可空降 不议价\t定金 200\t O<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (99, '??身高165 体重95 年龄29 鞋码37 性价比高 会玩', '/iceice/119haeb.jpg', '丰台 方庄', 600.0, '丰台', '<img src="/iceice/ik1r8s.png" style="max-width: 100%;">', '["尺度很大小蕾丝小内裤不穿裙子主要性价比嘎嘎高技术活都很全面"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (100, '??37脚165cm 50kg 皮肤白', '/iceice/11amvbd.jpeg', '朝阳 百子湾', 1200.0, '朝阳', '400-单圣水+羞辱定金200 提前敲定时间（20-30分钟左右)1000—基础项目（8折优惠中)轻度：恋足 羞辱 耳光虐中度：舔鞋 舔脚 磕头 口水 遛狗 骑马 耳光 脚耳光 捆绑 辱骂 龟啧 轻微踢打虐y 木乃伊cd 插马眼 鞭打 滴蜡 喂食 裸足足交 丝袜足交 感官剥夺 红金重度：坐脸室息 腿绞室息 掐脖 梅雨浇花（用湿纸，圣水或者漱口水一张一张盖在脸上室息)保鲜膜盖脸 脚踩脖重度踢打（青紫） 重度踢裆 重度耳光 重度鞭打（青紫血痕 红色凹凸痕 密集细红痕)圣水 强迫圣水 体验式手指插入四爱单玩四爱：1400——四爱阳具爆菊 八爪椅式捆绑爆菊2000—调教+四爱过夜：3k（定金500)（定金500)无性 无口舌 无舔菊——包天:6k<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (103, '27岁，163.90斤，34脚码 擅长诱惑类', '/iceice/10zeydk.jpeg', '朝阳区潘家园附近', 1200.0, '朝阳', '27岁，163.90斤，34脚码 基础1.2k 擅长诱惑类的或者刑讯类的，前高，爆菊等。<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (104, '??南方人，身材高挑 皮肤光滑细腻 御姐音 身高：172   体重：54kg   脚码：37 ', '/iceice/10zx40f.jpeg', '百子湾', 1200.0, '朝阳', '南方人，身材高挑 皮肤光滑细腻 御姐音 身高：172   体重：54kg   脚码：37 禁忌：无性，无口舌，无血腥 擅长：语言羞辱，开发狗奴,撩拨起M的欲望~丝袜恋足，邢奴，角色扮演剧情调教等 全程没有程序化调教，注重感觉，注重意境 对M的要求：有素质，不口嗨，身体健康，上课以定金为准<div><br></div><div><br></div><div><br></div>项目表<div><br></div>基础调教:15张<div><br></div>闻舔丝袜脚/棉袜脚 舔裸足 轻度踩踏 脚深喉口水<div><br></div>轻度耳光轻度玩乳磕头语言差辱 钻跨 遛狗 隔裤坐脸<div><br></div>骑马 对镜羞辱 控制丝袜塞口喝洗脚水语言洗脑强迫舔鞋喂食{自备}<div><br></div><div><br></div>-中度调教:20张(可包括基础项目)<div><br></div>圣水(可强制)捆绑坐脸窒息物化(烟灰缸、人体家具)贞操锁<div><br></div>剧情扮演(母子师生 上下属绿帽CD等等，如果你有想玩的剧本可提前发给我)<div><br></div>SP 窒息 鞭刑 滴蜡全体重高跟踩踏 踢踹 踢裆 腿绞窒息 掐脖窒息 温巾加窒息中重度虐乳中重度虐阳 电击 踩踏板手指或阳具扩肛 四爱<div><br></div>木乃伊边缘控制射精强制射精高潮前列腺高潮插马眼手/丝袜龟头责 玩蛋<div><br></div>重度:黄金(可强制)<div><br></div>此项目可单约，也可搭配以上项目，需提前<div><br></div><div><br></div>口舌舔盯者勿扰!!无性调教!来上课一律定金为准!<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (105, '天通苑S 比较好约', '/iceice/110kuji.jpeg', '天通苑', 800.0, '朝阳', '什么捆绑，四爱，口舌，黄金，狗奴，在这里有期待，有意想不到，控制，臣服，那种融入感，崇拜感，犹如无解的毒药<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (107, ' 职业：舞蹈老师（中国舞） 年龄：25 身高：168CM 体重：49GK 脚码：36 ', '/iceice/10vrj5k.jpg', '朝阳、通州', 1200.0, '朝阳', '通州 自由筑 职业：舞蹈老师（中国舞） 年龄：25 身高：168CM 体重：49GK 脚码：36 调教室地点：北京通州 本主喜欢：鞭打 羞辱 滴蜡 遛狗 圣水 对M要求：奴性好 健康 干净 卫生 有素质 无疾病 口嗨勿扰 联系方式：QQ923253567 备用QQ461613248 （加时备注女主天地） 调教内容：舔高跟鞋 舔脚 问脚 舔丝袜 脚扇耳光 高跟鞋踩踏 喝洗脚水 按摩脚 脚垫 足交 脚喂食 狗奴 学狗叫 鞭打 虐乳 遛狗 骑马 钻裆 打耳光 丝袜内裤堵嘴 语言羞辱 口水 坐脸窒息 人体家具 任意支配 角色扮演 虐肛 虐阳 灌肠 控精榨精贞操锁 丝袜捆绑 滴蜡 圣水（泡面 饮料 淋浴） 出售本主原味：丝袜 棉袜 内衣 内裤 卫生巾 护垫 圣水 上课提前沟通喜好<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (108, '??百子湾高颜值S 身材好 ', '/iceice/10x179u.jpeg', '朝阳 百子湾', 1000.0, '朝阳', '基础调教:恋足 恋丝 高跟踩踏 足]耳光SP 踢裆 狗奴 脚奴做脸室息 语言羞1K/小时马奴 脚深喉 虐乳 虐阳<div><br></div>角色扮演 四爱 虐肛 榨精 潮喷 龟头责<div><br></div>圣水-一1.5k小时<div><br></div>无性 黄金随缘 不血腥 不议价谢谢<div><br></div>来自灵魂深处的压迫感<div><br></div>口嗨勿扰 请自重!!!<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (109, '研究生 年龄23 身高172 体重52 脚 39 擅长 语言羞辱', '/iceice/10xofrp.jpeg', '房山 大学城', 1000.0, '房山', '<img src="/iceice/nfscdm.jpeg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (110, '[推荐] 技术很不错的s，颜值也不错，会羞辱', '/iceice/110_p.jpg', '丰台 公益西桥', 1000.0, '丰台', '<img src="/iceice/nf68r9.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (111, '望京附近女S，身高170 体重48 高颜值 大长腿 基础1000起', '/iceice/111_p.jpg', '朝阳 望京', 1000.0, '朝阳', '主打基础，基础800起<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (113, '身高166 体重98斤 脚码37.5码  腿长腰细健身girl', '/iceice/10sv12u.jpg', '朝阳 十里堡', 800.0, '朝阳', '坐标 十里堡地铁附近 身高166 体重98斤 脚码37.5码  腿长腰细健身girl课时：一小时内 释放一次项目：<div><br></div><div><br></div>①初级课  第八章 ：闻角  闻斜  闻思 甜思   甜角甜斜 角喂食（食物自备） 族J 释放  (可添中级单项） <div><br></div><div><br></div>②中级课(含初级)：十二章      溜枸  训枸  口水 语言修儒   低辣 思哇套投 座敛  彩敛  骑马 彩沓    轻度踢挡   疟汝   做家具  基础?剩水 第十四章   虐橘 第十四章<div><br></div><div><br></div>③  剧情类 第十五章：具体详细沟通 所有项目非强制 选择自己喜欢的就可以定  第一章：确定好过来再付 中途个人原因不能来不退   无幸无怕无 闲聊勿扰 请互相尊重也可出门授课也可出原 可网<div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (124, '百子湾 新疆维族S 176 身高176 脚码39 体重60kg', '/iceice/knw6i6.jpg', '朝阳 百子湾', 1300.0, '朝阳', '身高176脚码39体重60kg \r<div><br></div>基础：脚奴狗奴丝袜奴 语言羞辱  恋足恋丝恋高跟鞋 遛狗口水  耳光  钻裆  1.3k  \r<div><br></div>进阶调教：足交虐乳脚深喉坐脸室息  踩踏Sp角色扮演踢裆鞭打虐阳  榨精龟头责圣水四爱 -—1.6k\r<div><br></div>黄金随缘 不血握不议价 新疆维族S 异域风情调教 口嗨勿扰 定金约课   <div><br></div>', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (126, '百子湾高颜值S 身高170 体重40kg 年龄25 脚36 ', '/iceice/10rro69.jpg', '朝阳 百子湾', 1200.0, '朝阳', '<img src="/iceice/126_1.jpg" style="max-width: 100%;">', '["126：整体非常不错 提前都问好了喜好，颜值没得挑，属于耐看型，室内环境非常好。很瘦 腿又直又长，各种小道具一应俱全，玩乳头一绝，训话事而很严厉时而很温柔，还用手指给予反馈。可以再增加一些腿部脚部的互动，很多人都喜欢足方面的。以后有机会还会再约的"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (127, '昌平朱辛庄年轻萝莉S 经验丰富 道具全', '/iceice/r4ml4j.jpg', '昌平 朱辛庄', 1000.0, '昌平', '<img src="/iceice/r4mdoj.jpg" style="max-width: 100%;">', '["颜值比照片好多了，真是耐看型的!一柜子服和 cos 服看的我哪个都想要!服务态度特别好!真是反差啊!萝莉女王啊!可盐可甜!器具也特别多!重点就是反差，反差，反差~我在北京好像没遇到过算是 cos圈的女主!其实我玩已经超时了，这个女主可能是玩嗨了!有些停不下来!完事了还请我喝酒，威士忌就~她自己就会调，这个我没想到!坐下来聊一聊也特别好，虚心的问哪里有不足，都会改进，期待二刷!", "127,不错环境不错东西也多，会问你喜欢的和不喜欢的项目，注重你的感受体验，也是一个不可多得的萝莉s"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (129, '望京附近的健身女S，98年 身高172 脚38 ', '/iceice/129_p.png', '目前不在北京', 1500.0, '朝阳', '<img src="/iceice/129_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (131, '丽泽商务区 高颜值 认真负责  [休息中...]', '/iceice/131_1.jpg', '丰台 丽泽商务区', 800.0, '丰台', '<img src="/iceice/131_2.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (134, '农大附近的熟女s，需自己提供地方', '/iceice/134_p.jpg', '海淀 六道口附近', 600.0, '海淀', '<img src="/iceice/134_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (136, '高性价比S 身高166 体重97斤 脚码37 年龄33', '/iceice/136_p.jpg', '大兴 星光影视城附近', 600.0, '大兴', '<img src="/iceice/136_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (138, '身高165.体重51kg，脚码38 资深女s，主玩圈养，也玩普调。', '/iceice/138_p.jpg', '北京', 1300.0, '北京', '<img src="/iceice/138_1.jpg" style="max-width: 100%;"><img src="/iceice/138_2.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (139, '望京合集 望京的sm会所 阜通地铁站附近 里边好几个妹妹 质量都嘎嘎高', '/iceice/139_p.jpg', '朝阳 望京', 1000.0, '朝阳', '<img src="/iceice/139_0.jpg" style="max-width: 100%;"><img src="/iceice/139_1.jpg" style="max-width: 100%;"><img src="/iceice/139_2.jpg" style="max-width: 100%;"><img src="/iceice/139_3.jpg" style="max-width: 100%;"><img src="/iceice/139_4.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (140, '望京附近的S 身高167 年龄26 颜值高 基础1200起', '/iceice/140_1.jpg', '朝阳 望京', 1200.0, '朝阳', '基础12张<div><br></div><img src="/iceice/140_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (141, '燕郊高性价比S 主题教室 500起', '/iceice/141_p.jpg', '燕郊', 500.0, '燕郊', '<img src="/iceice/141_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (142, '姚家园附近 身高165 体重93', '/iceice/142_p.jpg', '朝阳 姚家园附近', 1000.0, '朝阳', '<img src="/iceice/142_1.jpg" style="max-width: 100%;">', '["感觉还可以吧。长相可以，就是玩儿的，可能不是那么会，但是也还可以，总体来说也可以"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (143, '年轻小女S 身高 165/体重 83/脚码 37 ', '/iceice/143_p.jpg', '朝阳 朝阳大悦城附近', 1200.0, '朝阳', '<img src="/iceice/143_2.jpg" style="max-width: 100%;"><img src="/iceice/143_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (144, ' 北京性感成熟御姐S  165/100 年龄 35 ', '/iceice/144_p.jpg', '朝阳区 南楼梓庄', 800.0, '朝阳', '<img src="/iceice/144_2.jpg" style="max-width: 100%;"><img src="/iceice/144_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (145, '年龄94年 身高170 脚码38 性感S', '/iceice/145_p.jpg', '丰台 方庄', 1200.0, '丰台', '<img src="/iceice/145_2.jpg" style="max-width: 100%;"><img src="/iceice/145_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (147, '22岁的小太妹女S 身高163 体重50 需要自己开酒店', '/iceice/147_p.jpg', '丰台 丰台站附近', 1000.0, '丰台', '主要玩基础 舔脚，踢裆，坐脸，骑马，喂食，唾液，圣水等 1000  注意：这个s没有地方 需要去酒店<div><br></div><img src="/iceice/147_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (148, '女神级别s，可盐可甜 可轻可重 ', '/iceice/148_p.jpg', '朝阳 百子湾', 1200.0, '朝阳', '<img src="/iceice/148_1.jpg" style="max-width: 100%;">教室私密性好<div><br></div><img src="/iceice/148_2.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (149, '身高168 体重98 身材很不错，颜值也很高的S 专业度高', '/iceice/149_pp.jpg', '大兴区 黄村火车站附近', 1200.0, '大兴', '<img src="/iceice/149_1.jpg" style="max-width: 100%;"><img src="/iceice/149_2.jpg" style="max-width: 100%;">', '["环境、技术、颜值都是满分的水平，太棒了"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (150, '通州的年轻女神 \r96年的 脚36码 159 48kg\r南方的女神 可以选择服装 小主服装也多 风格多样', '/iceice/150_p.jpg', '通州 水南西三路', 1000.0, '通州', '<img src="/iceice/150_3.jpg" style="max-width: 100%;"><img src="/iceice/150_1.jpg" style="max-width: 100%;"><img src="/iceice/150_2.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (151, '北京的本科生小主 20，身高168，96斤 ', '/iceice/151_p.jpg', '因为住学校 没地方 需要m自己定三环附近的酒店', 800.0, '朝阳', '<img src="/iceice/151_1.jpg" style="max-width: 100%;">', '["151号:颜值很高，比较注重隐私，所以没有露脸图，但是实际上颜值是非常高的，脚也好看和好吃。态度很好很亲切，很适合喜欢温柔向的m。总的来说，整体是非常好的，是我喜欢的s类型", "1声音很好听，这个是最开始在微信交流的时候就感觉出来的，声音好听，说话特别好听舒服，很有感觉，后来知道她以前是声优，真的好听。2颜值高有气质，电梯一开门的时候，就能感觉不一样了，都有点不太好意思打招呼，颜值很能打。穿衣服也很有品，举止各方面也属于比较讲究的。3性格很好。因为我个人的原因，找错宾馆了，还耽误了很多时间，最后她还是原谅我。然后事后也会aftercare总之是那种为我考虑的人，还是很好的。4虽说性格好，但是玩的时候很有$感，就是不知道是不是与生俱来的那种感觉，还是因为她真的很会拿捏人心，反正玩的时候那种s感觉，语气语调，都很有感觉。开始就定规矩，简单的几句话，就真的很戳很戳，后面释放的时候，还会跟我对视，那个感觉真的，我不知道该怎么形容，总之我感觉真的抵抗不住。当时的我真的觉得好喜欢。反正是我喜欢的精神上的感觉吧，整体上很合我的口味。另外，对你这边也很感谢，给我介绍了一个一直以来比较期待的s哈哈，谢谢了老哥"]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (152, ' 身高166 体重98 颜值不粗 有味道', '/iceice/152_2.jpg', '青年路附近', 1000.0, '朝阳', '<img src="/iceice/152_1.jpg" style="max-width: 100%;"><img src="/iceice/152_p.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (153, '600可以玩基础 平时有工作 兼职的 基本在石景山附近 身高165 体重100', '/iceice/153_p.jpg', '石景山附近，他没地方，要自己开或者上门', 600.0, '石景山', '<img src="/iceice/153_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------

INSERT INTO Contents (id, simpleInfo, preview, location, price, area, detail, commnet, city, createdAt, updatedAt, hiddenContent)
VALUES (154, '身高1.7 体重110 年轻小主 大长腿 性价比挺高的 可以黄金 ', '/iceice/154_p.jpg', '朝阳区 青年路附近', 1000.0, '朝阳', '<img src="/iceice/154_1.jpg" style="max-width: 100%;">', '[]', '北京', '2024-09-22 13:16:23', '2024-09-22 13:16:23', '')
;
--------------------------------------------------------------------------------



    /Users/momo/Desktop/info-index/bashs/struct.py的内容是:
      import os
from pathlib import Path

def generate_project_structure(directory, output_file, file_types=None):
    exclude_dirs = {'.git', 'node_modules', 'build', 'dist', 'tmp', 'cache','.DS_Store','.env','.vscode'}
    exclude_files = {'.gitignore', 'package-lock.json', 'yarn.lock'}

    def should_include_file(file_path):
        if file_types is None:
            return True
        return file_path.suffix[1:] in file_types

    def traverse_directory(dir_path, prefix=''):
        output_file.write(f"{prefix}{dir_path.name}/\n")

        for item in sorted(dir_path.iterdir()):
            if item.is_dir():
                if item.name not in exclude_dirs:
                    traverse_directory(item, prefix + '  ')
            elif item.is_file():
                if item.name not in exclude_files and should_include_file(item):
                    output_file.write(f"{prefix}  {item.absolute()}的内容是:\n")
                    try:
                        with item.open('r', encoding='utf-8') as f:
                            content = f.read()
                            output_file.write(f"{prefix}    {content}\n")
                        output_file.write(f"\n\n")
                    except UnicodeDecodeError:
                        output_file.write(f"{prefix}    (跳过二进制文件)\n\n")

    with open('a.txt', 'w', encoding='utf-8') as output_file:
        traverse_directory(Path(directory))

if __name__ == "__main__":
    directory = '/Users/momo/Desktop/info-index'

    if not os.path.isdir(directory):
        print(f"目录 {directory} 不存在")
        exit(1)

    print("正在生成项目结构和完整内容...")
    generate_project_structure(directory,directory+'/a.txt')
    print("项目结构和完整内容已保存到 a.txt")



    /Users/momo/Desktop/info-index/bashs/test.json的内容是:
      {"code":200,"data":[{"id":115,"simpleInfo":"[推荐]身高:172 体重:47.5KG圈龄:3年脚码:37 喜好:四爱 边控 踩踏 ","preview":"iceice/113o9s9.jpeg","location":"朝阳 百子湾","price":1000.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/115_1.jpg "}],"commnet":["115号颜值真的很顶，而且身材特别好腿长，脚很好看，有的时候很严厉有的时候很温柔，而且很擅长开发一些之前没玩过的东西，环境不错能洗澡啥的","人美心善无微不至身材颜值满分,梦中情S太满意了！第一次玩直接找了个天花板级别的！！"]},{"id":116,"simpleInfo":"[推荐]身高165/体重46/脚码37 4i推荐","preview":"iceice/113fdkc.jpeg","location":"丰台 丰台科技园","price":1200.0,"area":"丰台","detail":[{"type":2,"content":"iceice/116_1.jpg "}],"commnet":["颜值很高，身材也很棒，态度非常好，事前会询问偏好，事后还聊了一会儿天，技术还不错，项目基本能到位，但在节奏上可能略微欠缺，再加上第一次玩有点拘谨，中间有点不知所措。教室有一次性洗漱，可以洗澡，作为初体验，挺值得推荐的，到现在还回味呢。","今天体验了116号，感觉很不错。颜值很高，会提前询问喜好尺度，按照你喜欢的流程来。颜值100分，态度100分，环境80分。这是我第一次玩sm,体验真的不错很推荐","无论从颜值还是身材上来讲都是佼佼者精致的妆容，极具魅力的双眼是能勾魂的那种，还有一双笔直又雪白的大长腿配上温柔的声音，楚楚动人。硬性条件非常出色恋足的福音，美脚雪白修长白嫩，非常可口，视觉效果也是十分棒,手法上来讲也是不错，欠缺一点点节奏的把控，更多会听m的意愿和想法，非常配合总体来讲94-95把还是非常值得体验的","116非常好评，不认识老哥前北京都是自己找的，也碰过壁看到老哥一系列推荐及，评价立马选了116号。颜值满分！！身材满分！！声音满分！！手法满分！！场地满分可洗澡道具也齐全之前找的不是很敷衍就是身材手法都不好，认识老哥后可以从推荐找自已选在京的，看到116评价高果断上课，一进门就看到穿着JK的老师，超级好看还问我冷不冷喜欢JK还是换一套成熟的，从头到尾跟着老师走很有感觉，真的能感受到当学生的感觉，老师会问你喜欢什么不喜欢什么一步一步引导，有种被校花欺负的感觉声音也是很入戏，老师一看就不敷衍也玩在其中，交了粮食课时很快过去，意犹未尽的我还没穿鞋立马继续上课，第二课跟第课完全不同，老师换了一种衣服和风格。感觉老师真的什么都会只有你不敢玩的，尤其后活老师比你玩的都嗨，只有你受不了求饶，最后课时超时老师也不摧。北京陆陆续续上了很多老师课今天经历真的非常好非常推荐"]},{"id":42,"simpleInfo":"[推荐] 年龄: 21身高:175 体重: 50kg 脚码: 39跪地为奴 起身为友 喜欢被崇拜高高在上擅长: 语言羞辱，暴力掌控，足J","preview":"iceice/zmrsmv.jpg","location":"朝阳 百子湾","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"年龄: 21身高:175 体重: 50kg 脚码: 39跪地为奴 起身为友 喜欢被崇拜高高在上擅长: 语言羞辱，暴力掌控，足J"},{"type":1,"content":""},{"type":1,"content":"基础调教:恋足 恋丝 高跟踩踏 足]耳光SP 踢裆 狗奴 脚奴做脸室息 语言羞1K/小时马奴 脚深喉 虐乳 虐阳"},{"type":1,"content":"角色扮演 四爱 虐肛 榨精 潮喷 龟头责"},{"type":1,"content":"圣水-一1.5k小时"},{"type":1,"content":"无性 黄金随缘 不血腥 不议价谢谢"},{"type":1,"content":"来自灵魂深处的压迫感"},{"type":1,"content":"口嗨勿扰 请自重!!!"}],"commnet":[]},{"id":10,"simpleInfo":"[推荐]身高净身高172 体重52 脚码 39","preview":"iceice/z6jly4.jpeg","location":"朝阳 百子湾 每周二、四在顺义南法信","price":1000.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/gxq5sv.png"}],"commnet":["我觉得10号是综合实力最好的没有之一。首先颜值身材都不错。技术的话，我玩的都是轻度所以技术方面完全到位。爽到头皮发麻。最让我欣赏的是态度认真且全程专注。人家手机放外屋。就问有几个S能这么专注？场地整洁，卫生间很干净，洗漱用品齐全。轻课程十张的价格超值啊！总体上看真的是没有短板。肯定有单项比她好的女主，但是其他方面就会有不如她的地方。不愧是做了很多年的专业女主"]},{"id":117,"simpleInfo":"[推荐] 身高172 又白又瘦 ","preview":"iceice/112hw4d.jpeg","location":"广渠门内地铁站","price":1000.0,"area":"东城","detail":[{"type":1,"content":"身高172 又白又瘦 "},{"type":1,"content":""},{"type":1,"content":"1.初级基础:语言羞辱，恋足，恋丝，耳光，舔裸足，舔鞋，遛狗，吐 口水，坐脸，骑马，钻跨，1000 "},{"type":1,"content":""},{"type":1,"content":"2.中度:踩踏，滴蜡，圣水，窒息，鞭打，虐阳，虐乳，足交，榨精，腿绞，边缘控制，插马眼，打屁股，剃毛，木乃伊，捆绑，踢裆，脚深喉 龟头责1200 "},{"type":1,"content":""},{"type":1,"content":"3.前高，四爱，黄金圣水加羞辱I500 "},{"type":1,"content":""},{"type":1,"content":"4.网调20分钟200 "},{"type":1,"content":""},{"type":1,"content":"5定制视频/定制原味200起 "},{"type":1,"content":""},{"type":1,"content":"6.户外调教北京外出加500 7.定金二百提前三十分钟预定时间，北京现实招奴"}],"commnet":[]},{"id":4,"simpleInfo":"[推荐] 会玩 沉浸感十足 打的也很狠","preview":"iceice/z59tdm.jpeg","location":"朝阳区润枫嘉尚 十里堡","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"1、初级(轻度):1000/次 60分钟((500/次 30分钟)恋足、恋鞋、轻度踩踏、挑逗羞辱、耳光(手、脚、鞋) 鞭打、 SP、遛狗、训狗、钻跨、口水、脚或咀嚼投喂(M自带” 塞口 (鞋袜或贴身物品)、虐乳、恋臀、强迫、人体家具;"},{"type":1,"content":""},{"type":1,"content":"2、中级(中度 含轻度):1200/次 60分钟(600/次 30分钟)圣水、暴力踩踏、重度踢裆、中度窒息(手、脚、坐脸、水刑)刑奴、腿绞、捆绑束缚、滴蜡、电击、保鲜膜木乃伊、贞操锁;"},{"type":1,"content":""},{"type":1,"content":"3、高级(重度 含中度):1400/次(700/次 30分钟)虐阳、虐肛、黄金(间接，需提交预约，直接另加300)、龟头责、强制炸精(至少2次，，需提前三天禁欲)、情景角色扮演、针扎穿刺、捆绑重度鞭刑禁忌:重大伤害所有项目均为无性调教"}],"commnet":["4号十里堡确实不错玩的好而且很严厉拿玩狗当娱乐能感觉到她虐人能得到快感手法包括玩法都会按照m要求来总之一点调教的手法符合我的需求","从进门开始，就已经摆出一份女王的姿态了，真的特别会玩，颜值比照片上更好看更性感，玩室息控制的恰到好处，非常严厉，不建议新手去，脚深喉被插到干呕，最后被绑在椅子上强取，榨得直求饶最后被强榨四次结束，一般人受不了，但是很值得体验"]},{"id":5,"simpleInfo":"天津高颜值女神，顶流","preview":"iceice/5_p.jpg","location":"天津 滨海新区","price":1000.0,"area":"天津","detail":[{"type":1,"content":"年龄24身高168体重95\r鞋码37圈零5年，可温柔可严厉，风格多变喜欢出其不意，恶趣味\r喜欢偏生活化随心自然tj ，喜欢又贱又骚的掌控你的一切\r禁忌：无x，无口蛇舔g 不医疗 不血腥\r常驻天津，随缘巡游，可空降\r基础上课四位数接受不了的绕行"}],"commnet":[]},{"id":133,"simpleInfo":"[推荐] 21岁 甜美小主","preview":"iceice/133_p.jpg","location":"朝阳 双桥附近","price":888.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/133_1.jpg"}],"commnet":[]},{"id":7,"simpleInfo":"朝阳大悦城附近的多 S 会所，独立教室","preview":"iceice/7_1.jpg","location":"朝阳 大悦城附近","price":1000.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/7_8.jpg"},{"type":2,"content":"iceice/7_2.jpg"},{"type":2,"content":"iceice/7_3.jpg"},{"type":2,"content":"iceice/7_4.jpg"},{"type":2,"content":"iceice/7_5.jpg"},{"type":2,"content":"iceice/7_6.jpg"},{"type":2,"content":"iceice/7_7.jpg"}],"commnet":[]},{"id":8,"simpleInfo":"[推荐] 非常性感的女神，身高 165 体重 44kg 脚 36","preview":"iceice/8_p.jpg","location":"丰台 宋家庄","price":1000.0,"area":"丰台","detail":[{"type":2,"content":"iceice/8_2.jpg"},{"type":2,"content":"iceice/8_1.jpg"},{"type":2,"content":"iceice/8_3.jpg"}],"commnet":["这次玩的胯下羞辱玩弄，直接说正题进屋后我直接下意识的就跪下很，女王则是不紧不慢的走到沙发上坐好然后打开腿，怎么啦贱货还不赶紧爬过来不想闻闻看主人的味道吗,瞬间我就有感觉，快速爬过刚把脸贴上还没仔细感受就被女王一把抓住头发，我允许你闻了贱货，就这么急不可耐想到主人的味道吗，嗯~声音还是那么的诱人魅惑，女王调时状态时而诱人时而严力。我犯贱的回应然后被扇了一个耳光，狗是这么叫的吗，瞬间我更加兴奋了汪汪汪的回应，可能是我的下贱取悦女王，女王直接抓着我的头按在了她的下面，柔软十分的柔软在其中夹杂着淡淡的味道让我更加兴奋了。虽然女王其实背对着我，从后面看女王的翘臀更加诱人了，来闻闻主人后面怎么呀，女王抓着我的头发就按向女王后面，我之前上完厕所好不好闻，的确有淡淡的味道，本来我应该反感的但这时反而有种这是奖励的感觉。躺下，随着命令我十分快速的躺会，然后就一览无余看着女王高贵的下体坐在我脸上，十分随意的把重量压在我脸上，怎么贱狗我的下面好不好闻是不是很想被主人坐在屁股下面，下贱的骚狗是不是很想当主人厕所（这次我没玩圣水，毕竟还没尝试过）毕竟玩的单一所以时间也不算长，不过体验感十分不错"]},{"id":9,"simpleInfo":"[推荐]身高168 体重48。技术好  可以ks","preview":"iceice/z5cemz.jpeg","location":"朝阳 百子湾","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"根据课表自报项目 报价"},{"type":2,"content":"iceice/9_1.jpg"}],"commnet":["整个调教过程体验感爆棚，第一次玩的这么痛快，玩的过程中非常认真，不会去看手机，也不会卡时间，我定的一个小时，正好赶上主人没什么事，玩着玩着都将近两个小时了，而且主人属于那种可以根据你想要的性格进行转变的，可严厉可温柔，个人感觉在帝都这个圈子里面算是非常良心的S了，体验非常好，","首先说颜值气质都是这个圈子里最顶级的，非常漂亮比照片还要好看。并且玩法非常多，各种的道具非常全，绝对可以满足各种承受能力的。并且在玩的过程中体验感极好，技术特别好，真的特别会开发，我自己之前不敢开发的在这里开发的非常成功。并且人真的特别好，总之我觉得是最好的。"]},{"id":11,"simpleInfo":"天津年轻可爱的女S","preview":"iceice/11_p.jpg","location":"天津 市区","price":800.0,"area":"天津","detail":[{"type":1,"content":"基础800起，基本上都能玩，自己去问价吧"}],"commnet":[]},{"id":14,"simpleInfo":"[推荐]本主身高170体重48Kg脚码37 高颜值","preview":"iceice/zmpapq.jpg","location":"朝阳 百子湾","price":1500.0,"area":"朝阳","detail":[{"type":1,"content":"一初级1.5k一小时 恋足恋丝狗奴舔鞋口水脚喂食（自带食物）耳光遛狗坐脸 骑马踩踏足交语言羞辱"},{"type":1,"content":""},{"type":1,"content":"二中级1.8一小时 女功捆绑鞭打滴蜡圣水脚伸喉踢挡马眼虐乳虐阳（虐肛可TS陪调另加费用）控制射精龟头责"},{"type":1,"content":""},{"type":1,"content":"三厕奴2k前两项任选提前一天预约 黄金圣水舔马桶"},{"type":1,"content":""},{"type":1,"content":"四舔肛2.8前三项认选"},{"type":1,"content":""},{"type":1,"content":"五情趣诱惑调教3.5包括前四项"},{"type":1,"content":""},{"type":1,"content":"六口舌6k不这价七情侣主调教7k不以价需要提前预约沟通 （前五项定金500）外出需另加费用违约不退"}],"commnet":[]},{"id":47,"simpleInfo":"丰台南三环S","preview":"iceice/n7huop.jpeg","location":"丰台 南三环","price":800.0,"area":"丰台","detail":[{"type":1,"content":"8米!戀足，羞辱10米1!原味絲襪(棉襪)，交，踢打，踢檔，喂食，口水，深喉，耳光，虐乳，鞭打，SP，CD，塞嘴遛狗，鑽跨，騎馬 狗奴馬奴，坐窒息，捆綁 木乃伊，踩踏(板)，腿脚窒息，虐Y虐G，滴蠟，龜頭責，强制取J，控制ZJ，灌腸，四愛，虐“0，聖水，紅金n米h!黄金(提前一天告知)"}],"commnet":[]},{"id":130,"simpleInfo":"[推荐] 百子湾附近  00后的女神S 身高162 体重45 脚35 基本都可以玩 颜值高 性格也蛮不错的小主","preview":"iceice/130_p.jpg","location":"朝阳 百子湾地铁站附近","price":1200.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/mmexport1713141797008.jpg"}],"commnet":[]},{"id":1,"simpleInfo":"偏少妇型S，身高165重94斤脚36 1000起 可ks","preview":"iceice/ktw2ww.jpeg","location":"丰台刘家窑","price":1000.0,"area":"丰台","detail":[{"type":1,"content":"价目表："},{"type":1,"content":""},{"type":1,"content":"身高165重94斤脚36"},{"type":1,"content":""},{"type":1,"content":"1恋足丝袜诱惑角色扮演脚虐丝袜高跟足喂食，脚窒息深喉洗脚遛狗训狗马奴鞭打转胯丝袜内裤套头堵嘴1h1000"},{"type":1,"content":""},{"type":1,"content":"2耳光虐乳做脸踩踏滴蜡电击踢裆鬼头责X马眼口水痰圣水1h1200"},{"type":1,"content":""},{"type":1,"content":"3捆绑手铐脚镣木乃伊强制控制sjsp虐肛灌肠拳交呕吐物1h1500"},{"type":1,"content":""},{"type":1,"content":"4黄金圣水厕纸1h1500包含 1-3项"},{"type":1,"content":""},{"type":1,"content":"5口舌1h2000包含1-4项"},{"type":1,"content":""},{"type":1,"content":"6囚禁关押1000，关狗笼期间无调教，圣水畅饮7生活化圈养， 20008过夜圈养30009全天圈养6000"},{"type":2,"content":"iceice/ktw2ww2.jpeg"}],"commnet":[]},{"id":2,"simpleInfo":"[推荐] 身高175体重55鞋码40年龄26  可ks","preview":"iceice/z1wziu.jpeg","location":"丰台芳群园二区","price":1000.0,"area":"丰台","detail":[{"type":1,"content":"身高175 体重55 鞋码40 年龄26"},{"type":1,"content":"10张包括：恋足，恋腿，恋靴子，足喂食，洗脚，丝袜手脚释放（半小 时5张）"},{"type":1,"content":"12张包括：耳光，踩踏，做脸，狗奴，马奴，溜狗，挠痒痒，滴 蜡，捆绑，保鲜膜，丝袜套头，腿脚窒息，丝袜堵嘴，鞭打，钻跨，乳 头，痰盂，龟头责，手脚释放（半小时6张）"},{"type":1,"content":"14张包括：肛门，拳交 马眼，直接圣水，榨精，手脚释放（半小时7张 "},{"type":1,"content":"18张包括：KS"},{"type":2,"content":"iceice/110k3et.jpg"}],"commnet":["刚刚约了一下,不错，很不错,声音好听，身材好看，态度拉满没催时间，手法也很舒服。主要是已经买了明天的机票，不然非得高低再约一次,已经在期待下次了"]},{"id":6,"simpleInfo":"身高170cm体重53kg脚码38性格随性随心","preview":"iceice/z5ci2h.jpeg","location":"朝阳 黄渠","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"身高170cm体重53kg脚码38性格随性随心，诱惑情趣类型，喜欢刺激，喜欢骚m。本主手法情趣多变，不喜血腥暴力项目，其他均可，主要现实调。预约自报项目，可定制，变换场景，喜欢各种角色扮演对m要求，有奴性，健康，干净，卫生，有素质"},{"type":1,"content":""},{"type":1,"content":"大概项目:"},{"type":1,"content":""},{"type":1,"content":"轻度800:主要包含恋足狗奴马奴丝袜高跟口水耳光足交"},{"type":1,"content":""},{"type":1,"content":"中度1000:包含踩踏鞭打捆绑虐阳圣水异装制服侮辱坐脸"},{"type":1,"content":""},{"type":1,"content":"重度1200:刑奴虐待灌肠虐肛虐阳电击滴蜡木乃伊虐马眼特殊项目定制剧情自报选好项目会跟你说价格，提前两小时预约."},{"type":1,"content":""},{"type":1,"content":"上午10点到晚上10点，需收定金200"}],"commnet":[]},{"id":19,"simpleInfo":"800起 性价比蛮高 ","preview":"iceice/zmpxw3.jpeg","location":"天通苑地铁站附近","price":800.0,"area":"昌平","detail":[{"type":1,"content":"调教项目(以下所有项目均可自由选择)"},{"type":1,"content":""},{"type":1,"content":"1、恋足类:跪拜、闻脚、玉足喂食、舔脚、舔鞋、舔丝袜、丝袜塞嘴，高跟、踩踏、"},{"type":1,"content":""},{"type":1,"content":"2、狗奴:狗叫遛狗、狗爬、狗撒尿、狗游戏、狗笼喂养、逗狗、喂狗、随意发挥3、羞辱类:骑马、溜狗、钻跨、痰盂、口水、烟缸、耳光、踢踏、坐脸、滴蜡、人体家具、囚禁。小。"},{"type":1,"content":""},{"type":1,"content":"4、各种捆绑、丝袜捆绑、鞭打、手靠、脚靠、连靠、铁链捆绑等。"},{"type":1,"content":""},{"type":1,"content":"5、易装类:化妆、角色扮演等。"},{"type":1,"content":""},{"type":1,"content":"6、厕奴:闻、舔马桶，喝马桶水、痰盂、舔闻卫生用品，黄金和圣水调教八百，时间一个小时左右，厕奴- -千- -次直接不接触下体，提前预约定金两百!舔阴舔肛，口舌，血腥不做!"}],"commnet":["19号人也好看，虽然没到模特网红那种级别。身材偏瘦，但是腿和脚都很好看，白嫩白嫩的。我很喜欢只玩轻度的项目。手法也很到位。全程也很认真，只是拿起了几次手机看消息。一边调一边闲聊，我很喜欢这种氛围。人家也不机车不走流程也不赶时间，哪怕刨去闲聊的时间最后都超时了。轻课程8张真的是性价比高。下次的时间已经约","玩的基础的靴子和白棉袜踩踏，还有虐乳，总体感觉不错，性价比很高，女主也比较健谈，在玩的时候有女王范儿，平时沟通又很随和，总体接触下来感觉很好，不卡时间，m的需求也都能尽量满足"]},{"id":23,"simpleInfo":"[推荐] 成寿寺 很不错的s","preview":"iceice/zmq4a5.jpg","location":"丰台\n成寿寺","price":1000.0,"area":"丰台","detail":[{"type":1,"content":"A丝足诱惑:恋足，舔脚，舔鞋，跪拜，高跟，洗脚，脚喂食，足踢打，.1000"},{"type":1,"content":""},{"type":1,"content":"B窒息，足深喉，脚踩踏，羞辱，口水，耳光，遛狗，骑马，鞭打，训奴，1200"},{"type":1,"content":""},{"type":1,"content":"C角色扮演，制服诱惑，丝袜捆绑，坐脸窒息，圣水，钻裆，踢裆，手足固定1400"},{"type":1,"content":""},{"type":1,"content":"D虐乳，虐肛，虐阳，滴腊，插马眼，强制sj，灌肠，四爱，前高，虐肚子，贞操锁，SP:2000以上预约，付定金为准!"}],"commnet":[]},{"id":24,"simpleInfo":"八块腹肌 蜜桃臀 健身玩家 身高1761500起","preview":"iceice/zmqjbq.jpg","location":"朝阳十里堡","price":1500.0,"area":"朝阳","detail":[{"type":1,"content":"八块腹肌 蜜桃臀 健身玩家 身高176  1500起"}],"commnet":[]},{"id":25,"simpleInfo":"对4 爱、前羔、虐杨、爆局、开宝有深入研究","preview":"iceice/zmqgvh.png","location":"朝阳垡头","price":700.0,"area":"朝阳","detail":[{"type":1,"content":"女王:曾多年任影视剧组跟组化妆师，精通化妆、美妆。上大学的时候就喜欢艾斯M.尤其对4 爱、前羔、虐杨、爆局、开宝有深入研究。elsa女王的王牌项目:4\"爱pegging、虐杨，独创三步quan肠法，清洁+保养，女王自备的精油等guan肠，让你无痛开苞，无痛4爱，尽情享受4爱带来的快乐，第二天没有任何不适，不影响第二天工作。重點:王牌项目1500元两个小时及以上，注意时间很长哦，绝对让你满意!(kou舌单加500)其他项目800/小时:丝袜舔jio，舔鞋，口水，袜子塞嘴，边缘控制，渣井，滴la，sp，踩踏，鬼头责，坐脸，liu狗(kou舌单加500)圣水1000无huang金，无xing调教"}],"commnet":[]},{"id":33,"simpleInfo":"可ks","preview":"iceice/zmr5mr.png","location":"朝阳十里河","price":800.0,"area":"朝阳","detail":[{"type":1,"content":"脚奴：舔脚、舔丝、舔鞋、踩踏、脚深喉、脚窒息、脚喂食、脚抽耳光、喝洗脚水、丝袜套头塞口等...  （800一小时）                                                                     刑奴：耳光、鞭打、踢打、穿刺、电击、灌肠、捆绑、踩阳、虐肛、虐乳、炮机、虐马眼、龟头渍、强制射精、坐脸等各种窒息  （800一小时）                                                                    狗奴：遛狗、骑马、钻胯、口水、跪拜、叼鞋、烟灰缸、狗撒尿、随意刁难  （800一小时）                                                                     "},{"type":1,"content":""},{"type":1,"content":"厕奴：黄金、圣水、涂粪、圣水浴、舔马桶、吃厕纸等...  （1100一小时）                                                                      口舌奴：舔阴、舔肛、舔脚  （1100一小时）"}],"commnet":[]},{"id":39,"simpleInfo":"擅长 ：踢打 虐乳 龟头则  耳光  四爱 等有调教室  圈龄2年  95后女主身高161 脚码36  身材娇小   有礼貌的加","preview":"iceice/zmrfi9.jpg","location":"朝阳 百子湾","price":1000.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/i9co77.jpeg"}],"commnet":[]},{"id":40,"simpleInfo":"97年 02 04刚入圈可三S 可ks 可做","preview":"iceice/zmriwk.jpg","location":"丰台 方庄","price":1300.0,"area":"丰台","detail":[{"type":1,"content":"基础类：舔脚、踩踏、脚虐、踢裆、脚耳光、裸足喂食、喝洗脚水、闻舔鞋、踢打、高跟崇拜、磕头跪拜、吃口水、遛狗骑马、钻裆、语言羞辱骂、刁难、扇耳光、丝袜、打屁股、虐乳、内裤套头闻、坐脸窒息、足交撸管榨精龟头责。  虐肛、CD奴、四爱、假阳具、双主前后抽插。"},{"type":1,"content":""},{"type":1,"content":"圣水类：直接间接圣水、淋浴、多主圣水（当马桶） 黄金类：直接间接黄金吃厕纸、黄金果冻（吸吸果冻挤到里面让你吸着吃，让你流连忘返，吃黄金的贱狗开心了吧）   时间70分钟 "},{"type":1,"content":""},{"type":1,"content":"单S价格：基础1300 圣水1600 黄金2000    女奴互摸全身免费，口你500做a1000"}],"commnet":[]},{"id":44,"simpleInfo":"??高性价比 799可以玩sm","preview":"iceice/zms2en.jpg","location":"朝阳 百子湾地铁站","price":500.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/zms2en2.jpg"}],"commnet":["叫小妖的很不错，特别会玩而且整个过程没有其他会所惯有的办卡什么的"]},{"id":45,"simpleInfo":"常驻天津 有时来北京巡游","preview":"iceice/12531ja.png","location":"天津","price":800.0,"area":"天津","detail":[{"type":1,"content":"基础项目:8张/h/丝，狗奴，足交，羞辱，耳光，口水，鞭打，滴蜡，捆绑，踢裆，虐阳，马眼，座脸，钻胯，骑马……(无限榨+2张、似爱+3张、圣水+2张、肛门喂食+2张、黄金+3张)过夜调30张/8小时*无口/无xing/无血腥，定金2张。基础项目:8张/h/丝，狗奴，足交，羞辱，耳光，口水，鞭打，滴蜡，捆绑，踢裆，虐阳，马眼，座脸，钻胯，骑马……(无限榨+2张、似爱+3张、圣水+2张、肛门喂食+2张、黄金+3张)过夜调30张/8小时*无口/无xing/无血腥，定金2张。"}],"commnet":[]},{"id":46,"simpleInfo":"性价比高","preview":"iceice/zmsflb.png","location":"大兴 枣园地铁","price":600.0,"area":"大兴","detail":[{"type":1,"content":"一、基础孝敬600:舔足、舔丝袜脚、舔鞋、 足喂食、足膜拜、语言差辱。 二、孝敬800:圣水、k9、跪膜拜、马奴、耳光、SP、踩踏、踢档、坐脸室息、随意刁难、CD (CD奴自带衣物、强制乃伊、KB、NU肛、NUE阳、GC控制、强制取JING、插马眼、丝袜堵嘴、丝袜套头、腿丁、圣水淋浴、rs、脚 深喉、四爱 三、孝敬1200: KS 无性调教，不外出，免开尊口"}],"commnet":[]},{"id":49,"simpleInfo":"黄渠地铁站年轻S","preview":"iceice/126764h.png","location":"朝阳 黄渠地铁站","price":1200.0,"area":"朝阳","detail":[{"type":1,"content":"内内.黑丝.肉丝.网袜.吊袜150(不包邮)网课:语音150/15分钟视频200/15分钟"},{"type":1,"content":""},{"type":1,"content":"现实上课: (课时30分钟定金200) 丝足、恋足语言调教800 (课时1小时定金200) 基础:丝足、恋足、耳光、言语辱骂、轻度虐乳1200 "},{"type":1,"content":""},{"type":1,"content":"中度:丝足、强迫舔鞋底、磕头、遛狗、对镜羞辱骑马、钻 胯、口水、巴掌抽打耳光、言语羞辱、捆绑、虐阳龟头责、 虐乳高跟踩踏、喂食1400 /圣水、隔裤坐脸1500"},{"type":1,"content":""},{"type":1,"content":"重度:滴蜡、SP、鞭打、踢裆、虐阳道具玩弄马眼插屁眼1.8"}],"commnet":[]},{"id":51,"simpleInfo":"??身高:165 体重:95 脚码:38年龄:26很漂亮的小妹妹","preview":"iceice/10rkxfb.jpg","location":"朝阳 柳芳","price":1200.0,"area":"朝阳","detail":[{"type":1,"content":"身高:165 体重:95 脚码:38年龄:26很漂亮的小妹妹无性无口无血腥基础:舔脚 舔鞋 踩踏 辱骂 骑马 捆绑 滴蜡 耳光 鞭打喂食口水足交龟头责控制射精…等(1200)加价:虐肛/虐马眼(100)高潮破坏(100)圣水(200)恋臀(300)强制射精(300)等等 PS马眼用马眼棒不用高跟鞋直接圣水(500)黄金圣水(1100)限T过的人可约不好约女m陪T需提前半天预约具体事宜私信询问"}],"commnet":[]},{"id":52,"simpleInfo":"","preview":"iceice/10s9dnc.jpg","location":"丰台 成寿寺","price":1000.0,"area":"丰台","detail":[{"type":1,"content":"调教项目 跪拜， 鞭打，折磨，口爆假阳，虐阳，捆绑，虐乳，SP，钻胯，踢裆，圣水，耳光，口水，恋足，喝洗脚水，丝袜 脚喂食，脚耳光，言语羞辱，踩踏，高跟踩踏，光脚踩踏，丝袜勒脖子，私物崇拜，舔鞋，易装，角色扮演，骑乘，狗奴 贞操锁自带……1Ｋ70分钟。原味儿丝袜150包邮，内裤200包邮，原味鞋私询……爆菊，灌肠虐肛。木乃伊，圣水，黄金，1.5Ｋ80分钟（含基础调教）过夜圈养：2.5Ｋ起，（晚九点到第二天十二点）圈养24小时3.5Ｋ起（按天数递增）外出费用加倍，视距离远近决定车费"}],"commnet":[]},{"id":54,"simpleInfo":"身高:162 体重:85 北京本地人","preview":"iceice/10sb0bz.jpg","location":"海淀 西三旗","price":1000.0,"area":"海淀","detail":[{"type":1,"content":"地址:西三旗"},{"type":1,"content":"身高:162 体重:85"},{"type":1,"content":"上课内容:"},{"type":1,"content":"基础:狗奴、恋足、踩踏、羞辱、口水700元50分钟"},{"type":1,"content":"中级:圣水、虐乳、坐脸、足喂食、滴蜡、马眼儿、鞭打 800元 60分钟"},{"type":1,"content":"高级:口舌、舔菊、龟责、榨精、穿刺、拳交、爆菊 1200元 60分钟"},{"type":1,"content":"定金:200元 提前预约 迟到不退，提前一天可以改一次时间"},{"type":1,"content":"上课时间:早10点--晚9点"},{"type":1,"content":"无性、议价者拉黑"}],"commnet":[]},{"id":56,"simpleInfo":"??身高167 体重50kg 脚 38 无x  擅长前高 黄金","preview":"iceice/10sb2em.jpg","location":"朝阳区 北工大西门附近","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"小主身高167.体重50Kg.脚码38无性授课，主要擅长前高、黄金0初级授课项目恋足 舔鞋 丝袜踩踏耳光 口水 喝洗脚水 高跟踩踏虐乳 脚深侯 钻跨 原味 丝袜堵嘴 丝袜 语言羞辱蒙眼 足交 手释放2中度接课项目圣水 遛狗鞭打 藤条sp 骑马 滴蜡 捆绑 做脸室息口塞 口吐食物 虐阳 舔缸 踢裆 边缘控制 龟头责捆绑贞操锁 保鲜膜封印 纱布木乃伊3重度授课黄金 (舔马桶圈.清洁做便器)舔缸 前高 女攻 cd男"},{"type":1,"content":"便女装炮机虐缸 情趣服装诱惑"}],"commnet":["特别棒，特别专业，道具也特别多是我见过很厉害的女s了，想体验专业版的一定要去试试！"]},{"id":63,"simpleInfo":"800起，高性价比","preview":"iceice/10sbarp.jpg","location":"朝阳 方庄","price":800.0,"area":"朝阳","detail":[{"type":1,"content":"A丝足诱惑：恋足，舔脚，舔鞋，跪拜，高跟，洗脚，脚喂食，足踢打，.800B窒息，足深喉，脚踩踏，羞辱，口水，耳光，遛狗，骑马，鞭打，训奴，1000C角色扮演，制服诱惑，丝袜捆绑，坐脸窒息，圣水，踢裆，手足固定1200以上预约，付定金为准！"}],"commnet":[]},{"id":64,"simpleInfo":"","preview":"iceice/10sbhms.png","location":"朝阳小红门","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"1000起步"}],"commnet":[]},{"id":66,"simpleInfo":"广渠门内地铁站附近的s","preview":"iceice/10sbi2c.jpeg","location":"东城 富贵园四区","price":1200.0,"area":"东城","detail":[{"type":1,"content":"初级基础:语言羞辱，恋足，恋丝，耳光，舔裸足，舔鞋，遛狗，打耳光，吐口水，坐脸骑马钻跨，1200"},{"type":1,"content":""},{"type":1,"content":"中度:踩踏，滴蜡，圣水去，窒息，鞭打，虐阳虐乳，足交，榨精，腿绞，边缘控制，插马眼，打屁股，剃毛，木乃伊，捆绑，踢裆，脚深喉，龟头责1400"},{"type":1,"content":""},{"type":1,"content":"黄金圣水加羞辱1700"},{"type":1,"content":""},{"type":1,"content":"网调20分钟300"},{"type":1,"content":""},{"type":1,"content":"定制视频/定制原味200起户外调教"},{"type":1,"content":""},{"type":1,"content":"北京外出加500定金二百 提前三十分钟预定时间，北京现实招奴"}],"commnet":[]},{"id":67,"simpleInfo":"成寿寺专业老师","preview":"iceice/10sbkdq.jpg","location":"丰台 成寿寺","price":1000.0,"area":"丰台","detail":[{"type":1,"content":"1恋足【原味】或【无味】#多主调教↓洗脚，舔脚，喝洗脚水，语言羞辱，脚虐跪拜足打耳光裸足喂食「恋足可选轻度"},{"type":1,"content":""},{"type":1,"content":"2丝袜奴【原味】或【无味】舔丝袜香吻丝袜闻丝袜丝袜蒙眼套头丝袜捆阳等丝袜项目。"},{"type":1,"content":""},{"type":1,"content":"3鞋奴舔鞋 闻鞋 清理鞋底 高跟崇拜 踢打踩踏 插嘴"},{"type":1,"content":""},{"type":1,"content":"4狗奴磕头跪拜 做脸 骑马吃口水痰盂喂食语言辱骂遛狗钻裆任意刁难等"},{"type":1,"content":""},{"type":1,"content":"5易装CD(变装)调教丝袜野外，漏出，高跟长靴学女人撒娇"},{"type":1,"content":""},{"type":1,"content":"6厕奴调教直接或者间接黄金圣水舔马桶吃厕纸"},{"type":1,"content":""},{"type":1,"content":"7刑奴滴蜡Sp踢裆窒息坐脸重度虐乳重度耳光重度踩踏 捆绑 插马眼等..."},{"type":1,"content":""},{"type":1,"content":"8灌肠虐肛强制射精榨精暴力体罚前列腺高潮压榨+多次释放。"},{"type":1,"content":""},{"type":1,"content":"9圈养「生活化圈养」有专业圈养设备。"},{"type":1,"content":""},{"type":1,"content":"10角色扮演，老师，主奴，母子，领导，白领无性调教，无口舌"}],"commnet":[]},{"id":68,"simpleInfo":"年龄40 身高162 体重95 鞋码 37 有时可以母女","preview":"iceice/10sbneq.png","location":"朝阳 潘家园","price":1000.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/idmu9v.jpeg"}],"commnet":[]},{"id":70,"simpleInfo":"??身高168，体重46kg，脚码36 干净 技术好","preview":"iceice/10sbu0b.jpg","location":"丰台 方庄","price":1000.0,"area":"丰台","detail":[{"type":1,"content":"1、基础类1k一小时恋足:足交、舔脚、喂食(食物自带)恋丝:舔丝袜、袜子堵嘴、丝袜蒙眼套头。鞋奴:闻舔鞋、高跟崇拜、高跟插嘴、清理鞋底狗奴:跪拜、遛狗、钻裆、口水、骑乘、"},{"type":1,"content":""},{"type":1,"content":"2、中重度15k一小时圣水、深喉、捆绑、电击、鞭打、虐阳、 踢裆、龟头责、榨精、控制射精、SP、踩踏、耳光、坐脸、虐乳"},{"type":1,"content":""},{"type":1,"content":"3，黄金2k，提前两天预约，可带一，二项目。"},{"type":1,"content":""},{"type":1,"content":"4，舔肛2.5k，可带一、二项目，一小时课时。"},{"type":1,"content":""},{"type":1,"content":"5，灌肠十虐肛，2个小时3k可带一、二项目。6，过夜5k,晚11点到早7点。"},{"type":1,"content":""},{"type":1,"content":"7，异地空降1w起，往返机票，酒店，车费除外。"},{"type":1,"content":""},{"type":1,"content":"8，禁忌:语言羞辱、脏话羞辱、无性、无医疗。"},{"type":1,"content":""},{"type":1,"content":"9，提前2小时预约，定金300不议价。看好禁忌，不合适就找别人哦"}],"commnet":[]},{"id":81,"simpleInfo":"年龄28身高165 体重98 鞋码37","preview":"iceice/10sc61e.jpg","location":"丰台 新宫","price":1000.0,"area":"丰台","detail":[{"type":1,"content":"《普通调教》+跪拜舔脚、丝袜套头、钻夸、遛狗、赛口、捆绑、踩踏踢跨、圣水淋浴--1000一小时"},{"type":1,"content":""},{"type":1,"content":"《中度调教》+鞭打、滴蜡、马眼、强制、角色扮演、炸精、龟头责--1200一小时"},{"type":1,"content":""},{"type":1,"content":"《重度调教》+前高爆菊、灌肠、黄金圣水、导尿、口舍--1500一小时纯口舌制服诱惑--1800一小时"}],"commnet":[]},{"id":83,"simpleInfo":"身高164体重88脚37","preview":"iceice/10sc1m1.jpg","location":"朝阳\n百子湾","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"项目基础类1k起时间均为一小时起双主2k恋足 恋丝狗奴 舔鞋口水耳光遛狗坐脸骑马踩踏足交语言羞辱圣水中度类1.5控制射精 虐阳 虐乳 虐肛拳交提档绿帽羞辱龟头折磨Rs舔肛2k黄金2k位置朝阳区百子湾附近不议价不议价不议价"}],"commnet":[]},{"id":84,"simpleInfo":"学生S 价格偏高","preview":"iceice/10sco2c.jpg","location":"海淀 五道口","price":1500.0,"area":"海淀","detail":[{"type":1,"content":"基础15张起"}],"commnet":[]},{"id":91,"simpleInfo":"西班牙双硕士归国，北京现实调教，定期全国巡游。知性、温婉、高情商、擅长心里控制，有原则有态度，可多语种调教。  年龄:28身高:168cm 体重:53kg ","preview":"iceice/11czje3.jpeg","location":"海淀 苏州街","price":1500.0,"area":"海淀","detail":[{"type":1,"content":"西班牙双硕士归国，北京现实调教，定期全国巡游。知性、温婉、高情商、擅长心里控制，有原则有态度，可多语种调教。  年龄:28身高:168cm 体重:53kg 1.无性调教 2.定金200可抵扣  3.调教室位置在海淀苏州街 4.价目表： 一）、基础调教:1500，时长一个小时: 足类、丝袜类、高跟类、耳光、羞辱、狗奴类、轻度鞭打、捆绑类、滴蜡 二）、高级调教：1800-2500，时长一小时： 鞭打类（中重度sp）、虐阳虐肛、做脸、口舌、大型工具折磨、大型刑具束缚、多功能禁锢架、四爱、变装、角色扮演、情节设计、心理控制、贞操锁控欲、器具榨精、直接圣水、狗笼囚禁、过夜（价格单谈）"}],"commnet":[]},{"id":94,"simpleInfo":"都是93年 168 52kg 36码  163 44kg 34码 高颜值舞蹈老师","preview":"iceice/94_2.jpg","location":"朝阳区 八里桥地铁站","price":1500.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/94_1.jpg"}],"commnet":[]},{"id":95,"simpleInfo":"百子湾S 脚很好看 加v有门槛","preview":"iceice/1224vf6.jpeg","location":"朝阳区百子湾","price":1200.0,"area":"朝阳","detail":[{"type":1,"content":"我就是主要恋足，舔脚，舔丝袜脚，舔鞋，足深喉，足喂食，丝袜诱惑等所有恋足的项目都可以，还喜欢踩踏，虐阳，虐乳，虐肚脐坐脸，口水，原味，辱骂!足交，强制射精，狗钻跨圣水，踹屁股，捆绑，滴蜡，足窒息，打屁股，磕头，剧情调教， 其中玩圣水和剧情或马眼+100 足交的+200 前列腺高潮+300剧情调教，有，比如 女王调教贱奴不另外收费但是医生虐待病人，女上司强上下属，学生诱奸老师，护士折磨病员，女刑警拷问罪犯，帮闺蜜对付渣男，学姐欺负男同学，老师体罚，绿帽子之类的+150过夜调具体情况细聊 一次性充值一万一律85折空降6000起，视距离远近而定 黄金2000四爱+500"}],"commnet":[]},{"id":97,"simpleInfo":"北京双s上课详情 常驻北京，教室在北京西城（空间不算大），地铁七号线达官营地铁站附近，可单， 可双","preview":"iceice/111stdp.jpeg","location":"西城区达官营地铁站","price":700.0,"area":"西城","detail":[{"type":1,"content":"北京双s上课详情 常驻北京，教室在北京西城（空间不算大），地铁七号线达官营地铁站附近，可单， 可双双人价格翻倍，上课需要预约，定至少1张。  第一个s:身高 171,体重 140，脚码40,丰满微胖主，擅长腿绞,踢打踩踏，刑，介意 勿扰。 第二个s:身高168, 体重120，脚码38，喜欢刑类所有项目。  现实课程内容： 1.基础轻度类7张/时 丝足类，狗奴类，骑马， 虐乳，踢裆，轻度鞭打。 ，踩踏，羞辱，耳光，口水，做脸(隔衣物)，钻裆，足交, 2.中重度类9张/时 滴蜡，捆绑，sp,虐刚，虐阳，直接或间接圣水，月经舔舐，插马眼，捆绑JJ,窒息，炸精，变装，保鲜膜木乃伊，穿刺，电击，角 色扮演，口舌，黄金。（此项目中， 如玩口舌，黄金则任选其一，两项同时玩价格为11张/时) 3.上面项目，均可玩儿半小时，半小时轻度为4张，中重度为5张。时间再短不 玩儿, 4.不户外，露出，不过夜，免开尊口. 5.原味出售，丝袜120，棉袜100，内裤180，圣水200，黄金300闪送同城， 邮寄，所有原味都是邮寄价格，面交价格另附。"}],"commnet":[]},{"id":98,"simpleInfo":"身高165 体重 45KG\t脚 37\t ","preview":"iceice/114qinm.png","location":"朝阳 百子湾","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"项目基础类1k起 时间均为一小时起  恋足 恋丝 狗奴 舔鞋 口水 耳光 遛狗 坐脸 骑马 踩踏 足交(圣水+两张) 中度类 1.5k一小时  控制射精 虐阳 虐乳 虐肛 龟头折磨 踢档 重度耳光 窒息 榨精 滴蜡 捆绑 灌肠 重口黄金 2k 舔肛 2.5  网调语音 200 25分钟 视频300 半小时日  双主多主可提前沟通，可空降 不议价\t定金 200\t O"}],"commnet":[]},{"id":99,"simpleInfo":"??身高165 体重95 年龄29 鞋码37 性价比高 会玩","preview":"iceice/119haeb.jpg","location":"丰台 方庄","price":600.0,"area":"丰台","detail":[{"type":2,"content":"iceice/ik1r8s.png"}],"commnet":["尺度很大小蕾丝小内裤不穿裙子主要性价比嘎嘎高技术活都很全面"]},{"id":100,"simpleInfo":"??37脚165cm 50kg 皮肤白","preview":"iceice/11amvbd.jpeg","location":"朝阳 百子湾","price":1200.0,"area":"朝阳","detail":[{"type":1,"content":"400-单圣水+羞辱定金200 提前敲定时间（20-30分钟左右)1000—基础项目（8折优惠中)轻度：恋足 羞辱 耳光虐中度：舔鞋 舔脚 磕头 口水 遛狗 骑马 耳光 脚耳光 捆绑 辱骂 龟啧 轻微踢打虐y 木乃伊cd 插马眼 鞭打 滴蜡 喂食 裸足足交 丝袜足交 感官剥夺 红金重度：坐脸室息 腿绞室息 掐脖 梅雨浇花（用湿纸，圣水或者漱口水一张一张盖在脸上室息)保鲜膜盖脸 脚踩脖重度踢打（青紫） 重度踢裆 重度耳光 重度鞭打（青紫血痕 红色凹凸痕 密集细红痕)圣水 强迫圣水 体验式手指插入四爱单玩四爱：1400——四爱阳具爆菊 八爪椅式捆绑爆菊2000—调教+四爱过夜：3k（定金500)（定金500)无性 无口舌 无舔菊——包天:6k"}],"commnet":[]},{"id":103,"simpleInfo":"27岁，163.90斤，34脚码 擅长诱惑类","preview":"iceice/10zeydk.jpeg","location":"朝阳区潘家园附近","price":1200.0,"area":"朝阳","detail":[{"type":1,"content":"27岁，163.90斤，34脚码 基础1.2k 擅长诱惑类的或者刑讯类的，前高，爆菊等。"}],"commnet":[]},{"id":104,"simpleInfo":"??南方人，身材高挑 皮肤光滑细腻 御姐音 身高：172   体重：54kg   脚码：37 ","preview":"iceice/10zx40f.jpeg","location":"百子湾","price":1200.0,"area":"朝阳","detail":[{"type":1,"content":"南方人，身材高挑 皮肤光滑细腻 御姐音 身高：172   体重：54kg   脚码：37 禁忌：无性，无口舌，无血腥 擅长：语言羞辱，开发狗奴,撩拨起M的欲望~丝袜恋足，邢奴，角色扮演剧情调教等 全程没有程序化调教，注重感觉，注重意境 对M的要求：有素质，不口嗨，身体健康，上课以定金为准"},{"type":1,"content":""},{"type":1,"content":""},{"type":1,"content":"项目表"},{"type":1,"content":"基础调教:15张"},{"type":1,"content":"闻舔丝袜脚/棉袜脚 舔裸足 轻度踩踏 脚深喉口水"},{"type":1,"content":"轻度耳光轻度玩乳磕头语言差辱 钻跨 遛狗 隔裤坐脸"},{"type":1,"content":"骑马 对镜羞辱 控制丝袜塞口喝洗脚水语言洗脑强迫舔鞋喂食{自备}"},{"type":1,"content":""},{"type":1,"content":"-中度调教:20张(可包括基础项目)"},{"type":1,"content":"圣水(可强制)捆绑坐脸窒息物化(烟灰缸、人体家具)贞操锁"},{"type":1,"content":"剧情扮演(母子师生 上下属绿帽CD等等，如果你有想玩的剧本可提前发给我)"},{"type":1,"content":"SP 窒息 鞭刑 滴蜡全体重高跟踩踏 踢踹 踢裆 腿绞窒息 掐脖窒息 温巾加窒息中重度虐乳中重度虐阳 电击 踩踏板手指或阳具扩肛 四爱"},{"type":1,"content":"木乃伊边缘控制射精强制射精高潮前列腺高潮插马眼手/丝袜龟头责 玩蛋"},{"type":1,"content":"重度:黄金(可强制)"},{"type":1,"content":"此项目可单约，也可搭配以上项目，需提前"},{"type":1,"content":""},{"type":1,"content":"口舌舔盯者勿扰!!无性调教!来上课一律定金为准!"}],"commnet":[]},{"id":105,"simpleInfo":"天通苑S 比较好约","preview":"iceice/110kuji.jpeg","location":"天通苑","price":800.0,"area":"朝阳","detail":[{"type":1,"content":"什么捆绑，四爱，口舌，黄金，狗奴，在这里有期待，有意想不到，控制，臣服，那种融入感，崇拜感，犹如无解的毒药"}],"commnet":[]},{"id":107,"simpleInfo":" 职业：舞蹈老师（中国舞） 年龄：25 身高：168CM 体重：49GK 脚码：36 ","preview":"iceice/10vrj5k.jpg","location":"朝阳、通州","price":1200.0,"area":"朝阳","detail":[{"type":1,"content":"通州 自由筑 职业：舞蹈老师（中国舞） 年龄：25 身高：168CM 体重：49GK 脚码：36 调教室地点：北京通州 本主喜欢：鞭打 羞辱 滴蜡 遛狗 圣水 对M要求：奴性好 健康 干净 卫生 有素质 无疾病 口嗨勿扰 联系方式：QQ923253567 备用QQ461613248 （加时备注女主天地） 调教内容：舔高跟鞋 舔脚 问脚 舔丝袜 脚扇耳光 高跟鞋踩踏 喝洗脚水 按摩脚 脚垫 足交 脚喂食 狗奴 学狗叫 鞭打 虐乳 遛狗 骑马 钻裆 打耳光 丝袜内裤堵嘴 语言羞辱 口水 坐脸窒息 人体家具 任意支配 角色扮演 虐肛 虐阳 灌肠 控精榨精贞操锁 丝袜捆绑 滴蜡 圣水（泡面 饮料 淋浴） 出售本主原味：丝袜 棉袜 内衣 内裤 卫生巾 护垫 圣水 上课提前沟通喜好"}],"commnet":[]},{"id":108,"simpleInfo":"??百子湾高颜值S 身材好 ","preview":"iceice/10x179u.jpeg","location":"朝阳 百子湾","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"基础调教:恋足 恋丝 高跟踩踏 足]耳光SP 踢裆 狗奴 脚奴做脸室息 语言羞1K/小时马奴 脚深喉 虐乳 虐阳"},{"type":1,"content":"角色扮演 四爱 虐肛 榨精 潮喷 龟头责"},{"type":1,"content":"圣水-一1.5k小时"},{"type":1,"content":"无性 黄金随缘 不血腥 不议价谢谢"},{"type":1,"content":"来自灵魂深处的压迫感"},{"type":1,"content":"口嗨勿扰 请自重!!!"}],"commnet":[]},{"id":109,"simpleInfo":"研究生 年龄23 身高172 体重52 脚 39 擅长 语言羞辱","preview":"iceice/10xofrp.jpeg","location":"房山 大学城","price":1000.0,"area":"房山","detail":[{"type":2,"content":"iceice/nfscdm.jpeg"}],"commnet":[]},{"id":110,"simpleInfo":"[推荐] 技术很不错的s，颜值也不错，会羞辱","preview":"iceice/110_p.jpg","location":"丰台 公益西桥","price":1000.0,"area":"丰台","detail":[{"type":2,"content":"iceice/nf68r9.jpg"}],"commnet":[]},{"id":111,"simpleInfo":"望京附近女S，身高170 体重48 高颜值 大长腿 基础1000起","preview":"iceice/111_p.jpg","location":"朝阳 望京","price":1000.0,"area":"朝阳","detail":[{"type":1,"content":"主打基础，基础800起"}],"commnet":[]},{"id":113,"simpleInfo":"身高166 体重98斤 脚码37.5码  腿长腰细健身girl","preview":"iceice/10sv12u.jpg","location":"朝阳 十里堡","price":800.0,"area":"朝阳","detail":[{"type":1,"content":"坐标 十里堡地铁附近 身高166 体重98斤 脚码37.5码  腿长腰细健身girl课时：一小时内 释放一次项目："},{"type":1,"content":""},{"type":1,"content":"①初级课  第八章 ：闻角  闻斜  闻思 甜思   甜角甜斜 角喂食（食物自备） 族J 释放  (可添中级单项） "},{"type":1,"content":""},{"type":1,"content":"②中级课(含初级)：十二章      溜枸  训枸  口水 语言修儒   低辣 思哇套投 座敛  彩敛  骑马 彩沓    轻度踢挡   疟汝   做家具  基础?剩水 第十四章   虐橘 第十四章"},{"type":1,"content":""},{"type":1,"content":"③  剧情类 第十五章：具体详细沟通 所有项目非强制 选择自己喜欢的就可以定  第一章：确定好过来再付 中途个人原因不能来不退   无幸无怕无 闲聊勿扰 请互相尊重也可出门授课也可出原 可网"}],"commnet":[]},{"id":124,"simpleInfo":"百子湾 新疆维族S 176 身高176 脚码39 体重60kg","preview":"iceice/knw6i6.jpg","location":"朝阳 百子湾","price":1300.0,"area":"朝阳","detail":[{"type":1,"content":"身高176脚码39体重60kg \r"},{"type":1,"content":"基础：脚奴狗奴丝袜奴 语言羞辱  恋足恋丝恋高跟鞋 遛狗口水  耳光  钻裆  1.3k  \r"},{"type":1,"content":"进阶调教：足交虐乳脚深喉坐脸室息  踩踏Sp角色扮演踢裆鞭打虐阳  榨精龟头责圣水四爱 -—1.6k\r"},{"type":1,"content":"黄金随缘 不血握不议价 新疆维族S 异域风情调教 口嗨勿扰 定金约课   "}],"commnet":[]},{"id":126,"simpleInfo":"百子湾高颜值S 身高170 体重40kg 年龄25 脚36 ","preview":"iceice/10rro69.jpg","location":"朝阳 百子湾","price":1200.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/126_1.jpg"}],"commnet":["126：整体非常不错 提前都问好了喜好，颜值没得挑，属于耐看型，室内环境非常好。很瘦 腿又直又长，各种小道具一应俱全，玩乳头一绝，训话事而很严厉时而很温柔，还用手指给予反馈。可以再增加一些腿部脚部的互动，很多人都喜欢足方面的。以后有机会还会再约的"]},{"id":127,"simpleInfo":"昌平朱辛庄年轻萝莉S 经验丰富 道具全","preview":"iceice/r4ml4j.jpg","location":"昌平 朱辛庄","price":1000.0,"area":"昌平","detail":[{"type":2,"content":"iceice/r4mdoj.jpg"}],"commnet":["颜值比照片好多了，真是耐看型的!一柜子服和 cos 服看的我哪个都想要!服务态度特别好!真是反差啊!萝莉女王啊!可盐可甜!器具也特别多!重点就是反差，反差，反差~我在北京好像没遇到过算是 cos圈的女主!其实我玩已经超时了，这个女主可能是玩嗨了!有些停不下来!完事了还请我喝酒，威士忌就~她自己就会调，这个我没想到!坐下来聊一聊也特别好，虚心的问哪里有不足，都会改进，期待二刷!","127,不错环境不错东西也多，会问你喜欢的和不喜欢的项目，注重你的感受体验，也是一个不可多得的萝莉s"]},{"id":129,"simpleInfo":"望京附近的健身女S，98年 身高172 脚38 ","preview":"iceice/129_p.png","location":"目前不在北京","price":1500.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/129_1.jpg"}],"commnet":[]},{"id":131,"simpleInfo":"丽泽商务区 高颜值 认真负责  [休息中...]","preview":"iceice/131_1.jpg","location":"丰台 丽泽商务区","price":800.0,"area":"丰台","detail":[{"type":2,"content":"iceice/131_2.jpg"}],"commnet":[]},{"id":134,"simpleInfo":"农大附近的熟女s，需自己提供地方","preview":"iceice/134_p.jpg","location":"海淀 六道口附近","price":600.0,"area":"海淀","detail":[{"type":2,"content":"iceice/134_1.jpg"}],"commnet":[]},{"id":136,"simpleInfo":"高性价比S 身高166 体重97斤 脚码37 年龄33","preview":"iceice/136_p.jpg","location":"大兴 星光影视城附近","price":600.0,"area":"大兴","detail":[{"type":2,"content":"iceice/136_1.jpg"}],"commnet":[]},{"id":138,"simpleInfo":"身高165.体重51kg，脚码38 资深女s，主玩圈养，也玩普调。","preview":"iceice/138_p.jpg","location":"北京","price":1300.0,"area":"北京","detail":[{"type":2,"content":"iceice/138_1.jpg"},{"type":2,"content":"iceice/138_2.jpg"}],"commnet":[]},{"id":139,"simpleInfo":"望京合集 望京的sm会所 阜通地铁站附近 里边好几个妹妹 质量都嘎嘎高","preview":"iceice/139_p.jpg","location":"朝阳 望京","price":1000.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/139_0.jpg"},{"type":2,"content":"iceice/139_1.jpg"},{"type":2,"content":"iceice/139_2.jpg"},{"type":2,"content":"iceice/139_3.jpg"},{"type":2,"content":"iceice/139_4.jpg"}],"commnet":[]},{"id":140,"simpleInfo":"望京附近的S 身高167 年龄26 颜值高 基础1200起","preview":"iceice/140_1.jpg","location":"朝阳 望京","price":1200.0,"area":"朝阳","detail":[{"type":1,"content":"基础12张"},{"type":2,"content":"iceice/140_1.jpg"}],"commnet":[]},{"id":141,"simpleInfo":"燕郊高性价比S 主题教室 500起","preview":"iceice/141_p.jpg","location":"燕郊","price":500.0,"area":"燕郊","detail":[{"type":2,"content":"iceice/141_1.jpg"}],"commnet":[]},{"id":142,"simpleInfo":"姚家园附近 身高165 体重93","preview":"iceice/142_p.jpg","location":"朝阳 姚家园附近","price":1000.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/142_1.jpg"}],"commnet":["感觉还可以吧。长相可以，就是玩儿的，可能不是那么会，但是也还可以，总体来说也可以"]},{"id":143,"simpleInfo":"年轻小女S 身高 165/体重 83/脚码 37 ","preview":"iceice/143_p.jpg","location":"朝阳 朝阳大悦城附近","price":1200.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/143_2.jpg"},{"type":2,"content":"iceice/143_1.jpg"}],"commnet":[]},{"id":144,"simpleInfo":" 北京性感成熟御姐S  165/100 年龄 35 ","preview":"iceice/144_p.jpg","location":"朝阳区 南楼梓庄","price":800.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/144_2.jpg"},{"type":2,"content":"iceice/144_1.jpg"}],"commnet":[]},{"id":145,"simpleInfo":"年龄94年 身高170 脚码38 性感S","preview":"iceice/145_p.jpg","location":"丰台 方庄","price":1200.0,"area":"丰台","detail":[{"type":2,"content":"iceice/145_2.jpg"},{"type":2,"content":"iceice/145_1.jpg"}],"commnet":[]},{"id":147,"simpleInfo":"22岁的小太妹女S 身高163 体重50 需要自己开酒店","preview":"iceice/147_p.jpg","location":"丰台 丰台站附近","price":1000.0,"area":"丰台","detail":[{"type":1,"content":"主要玩基础 舔脚，踢裆，坐脸，骑马，喂食，唾液，圣水等 1000  注意：这个s没有地方 需要去酒店"},{"type":2,"content":"iceice/147_1.jpg"}],"commnet":[]},{"id":148,"simpleInfo":"女神级别s，可盐可甜 可轻可重 ","preview":"iceice/148_p.jpg","location":"朝阳 百子湾","price":1200.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/148_1.jpg"},{"type":1,"content":"教室私密性好"},{"type":2,"content":"iceice/148_2.jpg"}],"commnet":[]},{"id":149,"simpleInfo":"身高168 体重98 身材很不错，颜值也很高的S 专业度高","preview":"iceice/149_pp.jpg","location":"大兴区 黄村火车站附近","price":1200.0,"area":"大兴","detail":[{"type":2,"content":"iceice/149_1.jpg"},{"type":2,"content":"iceice/149_2.jpg"}],"commnet":["环境、技术、颜值都是满分的水平，太棒了"]},{"id":150,"simpleInfo":"通州的年轻女神 \r96年的 脚36码 159 48kg\r南方的女神 可以选择服装 小主服装也多 风格多样","preview":"iceice/150_p.jpg","location":"通州 水南西三路","price":1000.0,"area":"通州","detail":[{"type":2,"content":"iceice/150_3.jpg"},{"type":2,"content":"iceice/150_1.jpg"},{"type":2,"content":"iceice/150_2.jpg"}],"commnet":[]},{"id":151,"simpleInfo":"北京的本科生小主 20，身高168，96斤 ","preview":"iceice/151_p.jpg","location":"因为住学校 没地方 需要m自己定三环附近的酒店","price":800.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/151_1.jpg"}],"commnet":["151号:颜值很高，比较注重隐私，所以没有露脸图，但是实际上颜值是非常高的，脚也好看和好吃。态度很好很亲切，很适合喜欢温柔向的m。总的来说，整体是非常好的，是我喜欢的s类型","1声音很好听，这个是最开始在微信交流的时候就感觉出来的，声音好听，说话特别好听舒服，很有感觉，后来知道她以前是声优，真的好听。2颜值高有气质，电梯一开门的时候，就能感觉不一样了，都有点不太好意思打招呼，颜值很能打。穿衣服也很有品，举止各方面也属于比较讲究的。3性格很好。因为我个人的原因，找错宾馆了，还耽误了很多时间，最后她还是原谅我。然后事后也会aftercare总之是那种为我考虑的人，还是很好的。4虽说性格好，但是玩的时候很有$感，就是不知道是不是与生俱来的那种感觉，还是因为她真的很会拿捏人心，反正玩的时候那种s感觉，语气语调，都很有感觉。开始就定规矩，简单的几句话，就真的很戳很戳，后面释放的时候，还会跟我对视，那个感觉真的，我不知道该怎么形容，总之我感觉真的抵抗不住。当时的我真的觉得好喜欢。反正是我喜欢的精神上的感觉吧，整体上很合我的口味。另外，对你这边也很感谢，给我介绍了一个一直以来比较期待的s哈哈，谢谢了老哥"]},{"id":152,"simpleInfo":" 身高166 体重98 颜值不粗 有味道","preview":"iceice/152_2.jpg","location":"青年路附近","price":1000.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/152_1.jpg"},{"type":2,"content":"iceice/152_p.jpg"}],"commnet":[]},{"id":153,"simpleInfo":"600可以玩基础 平时有工作 兼职的 基本在石景山附近 身高165 体重100","preview":"iceice/153_p.jpg","location":"石景山附近，他没地方，要自己开或者上门","price":600.0,"area":"石景山","detail":[{"type":2,"content":"iceice/153_1.jpg"}],"commnet":[]},{"id":154,"simpleInfo":"身高1.7 体重110 年轻小主 大长腿 性价比挺高的 可以黄金 ","preview":"iceice/154_p.jpg","location":"朝阳区 青年路附近","price":1000.0,"area":"朝阳","detail":[{"type":2,"content":"iceice/154_1.jpg"}],"commnet":[]}]}



  config/
    /Users/momo/Desktop/info-index/config/config.js的内容是:
      module.exports = {
    contentPrice: 80, // 所有内容的统一价格,单位为积分
    customerService: {
        contact: "QQ: 3574166785 备注（充值） 电报：https://t.me/duduhahh " // 替换为实际的客服联系方式
    },
    allowRegistration: false // 是否开放注册，默认关闭
};



    /Users/momo/Desktop/info-index/config/database.js的内容是:
      const { Sequelize } = require('sequelize');
const path = require('path');

const sequelize = new Sequelize({
  dialect: 'sqlite',
  storage: path.join(__dirname, '..', 'database.sqlite')
});

module.exports = { sequelize };  // 注意这里的变化



  /Users/momo/Desktop/info-index/context.txt的内容是:
    	你现在是一个高级开发工程师，精通前端开发和后端开发。能够对于项目需求有自己的理解，并且能设计和进行代码实现，可以使用第三方库。

	我现在有一个静态网站 index.html,然后他会使用本地的数据test.json去动态渲染他的网页，并且会读取对应路径iceice中的图片，渲染网页。

	现在因为业务的需要，我需要对他进行扩展。有如下要求：
		1、后边的开发都是基于test.json中的数据结构。
		2、你需要实现一个用户系统，他主要包含用户的注册和登录以及用户的管理，用户信息现在有角色（管理员和普通用户）、积分，后续可能会根据需要扩展，比如金币等。因此，需要有一个登录注册页面，并且不登录注册的话不能进入后边讲到的主页。
		3、需要有一个主页，主页主要是在现在的index.html的基础上，添加单个cell的收藏功能，用户中心功能，以及判断角色是管理员可以进入到管理页面。
		4、还需要管理页面，只有管理员可以进入，管理员可以对信息进行增删改查的管理，支持上传图片，上传到服务器本地即可，此外还可以管理用户，比如删除用户，增加用户，修改用户信息等。




  controllers/
    /Users/momo/Desktop/info-index/controllers/homeController.js的内容是:
      const { User, Content, Order } = require('../models');
const { contentPrice } = require('../config/config');
const config = require('../config/config');

exports.getHomePage = async (req, res, next) => {
  try {
    const content = await Content.findAll({
      order: [['id', 'ASC']],
      limit: 200,
      raw: true
    });

    const formattedContent = {
      code: 200,
      data: await Promise.all(content.map(async (item) => {

        let commnet = [];
        if (typeof item.commnet === 'string') {
          try {
            const cleanedCommnet = item.commnet.trim().replace(/^\uFEFF/, '');
            commnet = JSON.parse(cleanedCommnet);
          } catch (e) {
            console.warn(`无法解析 ID ${item.id} 的 commnet 字段:`, e);
          }
        } else if (Array.isArray(item.commnet)) {
          commnet = item.commnet;
        } else {
          console.log(`ID ${item.id} 的 commnet 既不是字符串也不是数组:`, item.commnet);
        }

        let hasPurchased = false;
        if (req.user) {
          hasPurchased = await Order.findOne({ where: { userId: req.user.id, contentId: item.id } });
        }

        return {
          id: item.id,
          simpleInfo: item.simpleInfo,
          preview: item.preview,
          location: item.location,
          price: item.price,
          area: item.area,
          city: item.city,
          detail: item.detail,
          commnet: commnet,
          hasPurchased: !!hasPurchased,
          hiddenContent: hasPurchased ? item.hiddenContent : null
        };
      }))
    };
    res.render('home', { 
      title: '首页', 
      content: formattedContent,
      user: req.user,
      contentPrice,
      customerServiceContact: config.customerService.contact
    });
  } catch (error) {
    console.error('获取内容时出错:', error);
    next(error);
  }
};

exports.purchaseContent = async (req, res) => {
  try {
    const { id } = req.params;
    const userId = req.user.id;

    const [content, user] = await Promise.all([
      Content.findByPk(id),
      User.findByPk(userId)
    ]);

    if (!content || !user) {
      return res.status(404).json({ error: '内容或用户不存在' });
    }

    if (user.points < contentPrice) {
      return res.status(400).json({ error: '积分不足' });
    }

    const existingOrder = await Order.findOne({ where: { userId, contentId: id } });
    if (existingOrder) {
      return res.status(400).json({ error: '您已经购买过此内容' });
    }

    await Promise.all([
      user.decrement('points', { by: contentPrice }),
      Order.create({ userId, contentId: id })
    ]);

    res.json({ 
      success: true, 
      hiddenContent: content.hiddenContent,
      remainingPoints: user.points - contentPrice
    });
  } catch (error) {
    console.error('购买内容错误:', error);
    res.status(500).json({ error: '购买失败，请稍后再试' });
  }
};



    /Users/momo/Desktop/info-index/controllers/userController.js的内容是:
      const User = require('../models/User');
const InvitationCode = require('../models/InvitationCode');
const jwt = require('jsonwebtoken');
const config = require('../config/config');

exports.register = async (req, res) => {
  try {
    const { username, password, invitationCode } = req.body;

    // 验证邀请码
    const code = await InvitationCode.findOne({ 
      where: { code: invitationCode, isUsed: false } 
    });
    if (!code) {
      return res.status(400).render('register', { error: '无效的邀请码' });
    }

    // 检查用户名是否已存在
    const existingUser = await User.findOne({ where: { username } });
    if (existingUser) {
      return res.status(400).render('register', { error: '用户名已存在' });
    }

    // 创建新用户
    const user = await User.create({
      username,
      password,
      role: 'user',
      invitationCode: invitationCode
    });

    // 标记邀请码为已使用
    await code.update({ isUsed: true, usedBy: user.id });

    // 重定向到登录页面,并显示成功消息
    res.redirect('/login?registered=true');
  } catch (error) {
    console.error('注册错误:', error);
    res.status(500).render('register', { error: '注册失败,请稍后再试' });
  }
};

exports.login = async (req, res) => {
  try {
    const { username, password } = req.body;
    const user = await User.findOne({ where: { username } });
    if (!user) {
      return res.status(404).render('login', { error: '用户不存在' });
    }
    const isValid = await user.validPassword(password);
    if (!isValid) {
      return res.status(401).render('login', { error: '密码错误' });
    }
    const token = jwt.sign(
      { id: user.id, username: user.username, role: user.role },
      process.env.JWT_SECRET,
      { expiresIn: '1h' }
    );
    
    // 将 token 存储在 cookie 中
    res.cookie('token', token, { httpOnly: true, maxAge: 3600000 }); // 1小时有效期
    
    // 重定向到主页
    res.redirect('/');
  } catch (error) {
    console.error('登录错误:', error);
    res.status(500).render('login', { error: '登录失败,请稍后重试' });
  }
};

exports.getLoginPage = (req, res) => {
    const registered = req.query.registered === 'true';
    res.render('login', { 
        title: '登录',
        registered: registered
    });
};

exports.getRegisterPage = (req, res) => {
    res.render('register', { title: '注册' });
};

// ... 其他导入和方法 ...

exports.logout = (req, res) => {
    res.clearCookie('token');
    res.redirect('/login');
};

exports.getUserPoints = async (req, res) => {
    try {
        // 从 cookie 中获取 token
        const token = req.cookies.token;
        if (!token) {
            return res.status(401).json({ error: '未登录' });
        }

        // 验证 token
        const decoded = jwt.verify(token, process.env.JWT_SECRET);
        const userId = decoded.id;

        // 查找用户
        const user = await User.findByPk(userId);
        if (!user) {
            return res.status(404).json({ error: '用户不存在' });
        }

        // 返回用户积分
        res.json({ points: user.points });
    } catch (error) {
        console.error('获取用户积分错误:', error);
        res.status(500).json({ error: '获取积分失败，请稍后再试' });
    }
};



  /Users/momo/Desktop/info-index/database.sqlite的内容是:
    (跳过二进制文件)

  /Users/momo/Desktop/info-index/db.js的内容是:
    const sqlite3 = require('sqlite3').verbose();
const path = require('path');

const dbPath = path.resolve(__dirname, 'database.sqlite');

const db = new sqlite3.Database(dbPath, (err) => {
  if (err) {
    console.error('Could not connect to database', err);
  } else {
    console.log('Connected to database');
  }
});

// 调用所有模型的 associate 方法
Object.values(db).forEach(model => {
  if (model.associate) {
    model.associate(db);
  }
});

function query(sql, params = []) {
  return new Promise((resolve, reject) => {
    db.all(sql, params, (err, rows) => {
      if (err) {
        reject(err);
      } else {
        resolve(rows);
      }
    });
  });
}

module.exports = {
  query
};



  middlewares/
    /Users/momo/Desktop/info-index/middlewares/auth.js的内容是:
      const jwt = require('jsonwebtoken');

exports.isLoggedIn = (req, res, next) => {
  const token = req.cookies.token;
  if (token) {
    try {
      const decoded = jwt.verify(token, process.env.JWT_SECRET);
      req.user = decoded;
      next();
    } catch (error) {
      res.clearCookie('token');
      res.redirect('/login');
    }
  } else {
    res.redirect('/login');
  }
};



    /Users/momo/Desktop/info-index/middlewares/isAdmin.js的内容是:
      const jwt = require('jsonwebtoken');

function isAdmin(req, res, next) {
    console.log('isAdmin middleware called');
    const token = req.cookies.token;

    if (token) {
        try {
            const decoded = jwt.verify(token, process.env.JWT_SECRET);
            console.log('User:', decoded);
            console.log('User role:', decoded.role);

            if (decoded.role === 'admin') {
                console.log('User is admin, proceeding to next middleware');
                req.user = decoded;
                next();
            } else {
                console.log('User is not admin, redirecting to home page');
                res.redirect('/');
            }
        } catch (error) {
            console.log('Invalid token, redirecting to login page');
            res.clearCookie('token');
            res.redirect('/login');
        }
    } else {
        console.log('No token found, redirecting to login page');
        res.redirect('/login');
    }
}

module.exports = isAdmin;



  models/
    /Users/momo/Desktop/info-index/models/Content.js的内容是:
      const { DataTypes } = require('sequelize');
const { sequelize } = require('../config/database');

const Content = sequelize.define('Content', {
  id: {
    type: DataTypes.INTEGER,
    primaryKey: true,
    autoIncrement: true
  },
  simpleInfo: {
    type: DataTypes.STRING,
    allowNull: false
  },
  preview: {
    type: DataTypes.STRING,
    allowNull: true
  },
  location: {
    type: DataTypes.STRING,
    allowNull: false
  },
  price: {
    type: DataTypes.FLOAT,
    allowNull: false
  },
  city: {
    type: DataTypes.STRING,
    allowNull: false
  },
  area: {
    type: DataTypes.STRING,
    allowNull: false
  },
  detail: {
    type: DataTypes.TEXT,
    allowNull: false
  },
  hiddenContent: {
    type: DataTypes.TEXT,
    allowNull: false
  },
  commnet: {
    type: DataTypes.JSON,
    allowNull: true
  }
});

module.exports = Content;



    /Users/momo/Desktop/info-index/models/InvitationCode.js的内容是:
      const { DataTypes } = require('sequelize');
const { sequelize } = require('../config/database');

const InvitationCode = sequelize.define('InvitationCode', {
  code: {
    type: DataTypes.STRING(5),
    unique: true,
    allowNull: false
  },
  isUsed: {
    type: DataTypes.BOOLEAN,
    defaultValue: false
  },
  usedBy: {
    type: DataTypes.INTEGER,
    allowNull: true
  }
});

// 添加关联
InvitationCode.associate = (models) => {
  InvitationCode.belongsTo(models.User, {
    foreignKey: 'usedBy',
    as: 'usedByUser'
  });
};

module.exports = InvitationCode;



    /Users/momo/Desktop/info-index/models/Order.js的内容是:
      const { DataTypes } = require('sequelize');
const { sequelize } = require('../config/database');

const Order = sequelize.define('Order', {
  id: {
    type: DataTypes.INTEGER,
    primaryKey: true,
    autoIncrement: true
  },
  userId: {
    type: DataTypes.INTEGER,
    allowNull: false
  },
  contentId: {
    type: DataTypes.INTEGER,
    allowNull: false
  },
  purchaseDate: {
    type: DataTypes.DATE,
    defaultValue: DataTypes.NOW
  }
});

// 添加关联方法
Order.associate = (models) => {
  Order.belongsTo(models.User, { foreignKey: 'userId', as: 'User' });
  Order.belongsTo(models.Content, { foreignKey: 'contentId', as: 'Content' });
};

module.exports = Order;



    /Users/momo/Desktop/info-index/models/User.js的内容是:
      const { DataTypes } = require('sequelize');
const { sequelize } = require('../config/database');
const bcrypt = require('bcryptjs');

const User = sequelize.define('User', {
  username: {
    type: DataTypes.STRING,
    allowNull: false,
    unique: true
  },
  password: {
    type: DataTypes.STRING,
    allowNull: false
  },
  role: {
    type: DataTypes.ENUM('user', 'admin'),
    defaultValue: 'user'
  },
  points: {  // 新增积分字段
    type: DataTypes.INTEGER,
    defaultValue: 0
  },
  invitationCode: {
    type: DataTypes.STRING(5),
    allowNull: true
  }
}, {
  hooks: {
    beforeCreate: async (user) => {
      if (user.password) {
        const salt = await bcrypt.genSalt(10);
        user.password = await bcrypt.hash(user.password, salt);
      }
    },
    beforeUpdate: async (user) => {
      if (user.changed('password')) {
        const salt = await bcrypt.genSalt(10);
        user.password = await bcrypt.hash(user.password, salt);
      }
    }
  }
});

User.prototype.validPassword = async function(password) {
  return await bcrypt.compare(password, this.password);
};
module.exports = User;



    /Users/momo/Desktop/info-index/models/index.js的内容是:
      const User = require('./User');
const Content = require('./Content');
const Order = require('./Order');
const InvitationCode = require('./InvitationCode');

module.exports = {
  User,
  Content,
  Order,
  InvitationCode
};



  /Users/momo/Desktop/info-index/package.json的内容是:
    {
  "name": "info-index",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "seed": "node scripts/seedContent.js",
    "start": "node app.js",
    "dev": "nodemon app.js"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "bcrypt": "^5.1.1",
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "ejs": "^3.1.10",
    "express": "^4.19.2",
    "express-session": "^1.18.0",
    "jsonwebtoken": "^9.0.2",
    "mariadb": "^3.3.1",
    "multer": "^1.4.5-lts.1",
    "passport": "^0.7.0",
    "sequelize": "^6.37.3",
    "sqlite3": "^5.1.7"
  },
  "devDependencies": {
    "nodemon": "^3.1.4"
  }
}



  public/
    /Users/momo/Desktop/info-index/public/.DS_Store的内容是:
      (跳过二进制文件)

    css/
      /Users/momo/Desktop/info-index/public/css/style.css的内容是:
        body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
}

header {
    background-color: #333;
    color: #fff;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header h1 {
    margin: 0;
}

nav a {
    color: #fff;
    text-decoration: none;
    margin-left: 1rem;
}

main {
    padding: 2rem;
}

article {
    background-color: #f4f4f4;
    margin-bottom: 1rem;
    padding: 1rem;
    border-radius: 5px;
}

footer {
    background-color: #333;
    color: #fff;
    text-align: center;
    padding: 1rem;
    position: fixed;
    bottom: 0;
    width: 100%;
}



    iceice/
      /Users/momo/Desktop/info-index/public/iceice/10rkxfb.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10rqxy5.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10rro69.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10s9dnc.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sb0bz.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sb2em.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sbarp.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sbhms.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sbi2c.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sbkdq.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sbneq.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sbu0b.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sc1m1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sc3h7.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sc61e.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sco2c.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10sv12u.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10vrj5k.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10x179u.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10xofrp.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10zeydk.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/10zx40f.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/110_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/110k3et.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/110kuji.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/111_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/111stdp.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/112hw4d.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/113fdkc.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/113o9s9.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/11452sn.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/114qinm.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/115_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/116_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/119haeb.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/11_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/11amvbd.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/11czje3.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/1224vf6.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/123ba2m.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/12531ja.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/126764h.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/126_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/127d64x.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/129_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/129_p.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/130_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/131_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/131_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/132_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/132_p.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/133_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/133_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/134_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/134_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/135_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/135_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/136_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/136_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/137_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/138_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/138_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/138_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/139_0.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/139_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/139_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/139_3.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/139_4.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/139_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/140_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/141_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/141_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/142_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/142_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/143_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/143_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/143_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/144_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/144_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/144_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/145_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/145_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/145_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/146_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/146_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/146_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/147_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/147_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/148_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/148_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/148_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/149_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/149_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/149_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/149_pp.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/150_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/150_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/150_3.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/150_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/151_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/151_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/152_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/152_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/152_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/153_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/153_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/154_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/154_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/5_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/7_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/7_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/7_3.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/7_4.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/7_5.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/7_6.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/7_7.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/7_8.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/8_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/8_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/8_3.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/8_p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/94_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/94_2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/9_1.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/f24zmh.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/f4fa27.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/gxq5sv.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/i9co77.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/idmu9v.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/ik1r8s.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/knw6i6.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/ktw2ww.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/ktw2ww2.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/mmexport1713141797008.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/n7huop.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/nd0okb.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/nf68r9.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/nfscdm.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/r4mdoj.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/r4ml4j.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/z1wziu.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/z59tdm.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/z5cemz.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/z5ci2h.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/z6jly4.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmpapq.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmpxw3.jpeg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmq4a5.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmqgvh.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmqjbq.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmr5mr.png的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmr60p.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmrfi9.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmriwk.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmrsmv.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zms2en.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zms2en2.jpg的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/iceice/zmsflb.png的内容是:
        (跳过二进制文件)

    images/
      /Users/momo/Desktop/info-index/public/images/.DS_Store的内容是:
        (跳过二进制文件)

      /Users/momo/Desktop/info-index/public/images/logo.png的内容是:
        (跳过二进制文件)

    js/
      /Users/momo/Desktop/info-index/public/js/main.js的内容是:
        console.log('主页加载完成');



  routes/
    /Users/momo/Desktop/info-index/routes/admin.js的内容是:
      const express = require('express');
const router = express.Router();
const User = require('../models/User');
const Content = require('../models/Content');
const InvitationCode = require('../models/InvitationCode'); // 添加这行
const isAdmin = require('../middlewares/isAdmin');
const multer = require('multer');
const path = require('path');
const fs = require('fs');
const { Op } = require('sequelize');
const Order = require('../models/Order'); // 确保您有一个 Order 模型

// 将 isAdmin 中间件应用到所有管理员路由
router.use(isAdmin);

// 管理员仪表板
router.get('/', (req, res) => {
    res.render('admin/dashboard');
});

// 获取所有用户
router.get('/users', async (req, res) => {
    try {
        console.log('User model:', User); // 添加这行
        if (!User || !User.findAll) {
            throw new Error('User model is not properly defined');
        }
        const users = await User.findAll({
            attributes: ['id', 'username', 'role', 'points']
        });
        res.json(users);
    } catch (error) {
        console.error('Error fetching users:', error);
        res.status(500).json({ error: '获用户列表失败' });
    }
});

// 添加新用户
router.post('/users', async (req, res) => {
    const { username, password, role } = req.body;
    if (role !== 'user' && role !== 'admin') {
        return res.status(400).json({ error: '无效的角色' });
    }
    try {
        const newUser = await User.create({ username, password, role });
        res.status(201).json({ message: '用户创建成功', user: newUser });
    } catch (error) {
        console.error('Error creating user:', error);
        res.status(500).json({ error: '创建用户失败' });
    }
});

// 删除用户
router.delete('/users/:id', async (req, res) => {
    const { id } = req.params;
    console.log(`尝删除用户，ID: ${id}`);

    try {
        // 首先检查用户是否存在
        const user = await User.findByPk(id);
        if (!user) {
            console.log(`未找到 ID 为 ${id} 的用户`);
            return res.status(404).json({ error: '用户不存在' });
        }

        console.log(`找到用户，准备删除：`, user.toJSON());

        // 尝试删除用户
        const deletedCount = await User.destroy({
            where: { id: { [Op.eq]: id } }
        });

        console.log(`删除操作影响的行数: ${deletedCount}`);

        if (deletedCount === 1) {
            console.log(`成功删除用户，ID: ${id}`);
            res.json({ message: '用户删除成功' });
        } else {
            console.log(`删除操作未影响任何行，可能用户已被删除，ID: ${id}`);
            res.status(404).json({ error: '用户不存在或已被删除' });
        }
    } catch (error) {
        console.error('删除用户时发生错误:', error);
        res.status(500).json({ 
            error: '删除用户失败', 
            message: error.message,
            stack: process.env.NODE_ENV === 'development' ? error.stack : undefined
        });
    }

    // 删除操作后再次检查用户是否还存在
    try {
        const userAfterDelete = await User.findByPk(id);
        if (userAfterDelete) {
            console.log(`警告：删除操作后用户仍然存在，ID: ${id}`);
        } else {
            console.log(`确认：用户已成功从数据库中删除，ID: ${id}`);
        }
    } catch (error) {
        console.error('删除后检查用户时发生错误:', error);
    }
});

// 获取所有内容
router.get('/content', async (req, res) => {
    try {
        console.log('正在获取内容');
        const content = await Content.findAll();
        console.log('获取到的内容:', JSON.stringify(content, null, 2));
        res.json(content);
    } catch (error) {
        console.error('获取内容列表失败:', error);
        res.status(500).json({ error: '获取内容列表失败' });
    }
});

// 配置 multer 存储
const imageStorage = multer.diskStorage({
    destination: function (req, file, cb) {
        cb(null, path.join(__dirname, '../public/uploads/'))
    },
    filename: function (req, file, cb) {
        const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)
        cb(null, file.fieldname + '-' + uniqueSuffix + path.extname(file.originalname))
    }
});

const upload = multer({ storage: imageStorage });

// 添加新内容
router.post('/content', upload.single('preview'), async (req, res) => {
    try {
        const { simpleInfo, location, price, area, detail, commnet, hiddenContent, city } = req.body;
        const preview = req.file ? `/uploads/${req.file.filename}` : null;

        let parsedCommnet;
        try {
            parsedCommnet = JSON.parse(commnet);
        } catch (e) {
            console.error('解析 commnet 失败:', e);
            parsedCommnet = [];
        }

        const newContent = await Content.create({ 
            simpleInfo, 
            preview, 
            location, 
            price: parseFloat(price), 
            area, 
            detail: detail || '',
            commnet: parsedCommnet,
            hiddenContent: hiddenContent || '',
            city : city // 添加 city 字段
        });

        console.log('Created content:', JSON.stringify(newContent, null, 2));

        res.status(201).json({ message: '内容创建成功', content: newContent });
    } catch (error) {
        console.error('Error creating content:', error);
        res.status(500).json({ error: '创建内容失败' });
    }
});

// 添加新内容路由
router.get('/content/add', (req, res) => {
    res.render('admin/content-form', { title: '添加新内容', contentId: null });
});

// 编辑内容路由
router.get('/content/edit/:id', (req, res) => {
    res.render('admin/content-form', { contentId: req.params.id });
});

// 获取单个内容
router.get('/content/:id', async (req, res) => {
    try {
        const content = await Content.findByPk(req.params.id);
        if (content) {
            res.json(content);
        } else {
            res.status(404).json({ error: '内容不存在' });
        }
    } catch (error) {
        console.error('Error fetching content:', error);
        res.status(500).json({ error: '获取内容失败' });
    }
});

// 更新内容
router.put('/content/:id', upload.single('preview'), async (req, res) => {
    try {
        const content = await Content.findByPk(req.params.id);
        if (!content) {
            return res.status(404).json({ error: '内容不存在' });
        }

        const { simpleInfo, location, price, area, detail, commnet, hiddenContent, city } = req.body;

        const updateData = { 
            simpleInfo, 
            location, 
            price: parseFloat(price), 
            area, 
            detail: detail || '',
            commnet: commnet,
            hiddenContent: hiddenContent || '',
            city // 添加 city 字段
        };

        if (req.file) {
            updateData.preview = `/uploads/${req.file.filename}`;
            // 删除旧的预览图
            if (content.preview) {
                const oldPath = path.join(__dirname, '..', 'public', content.preview);
                fs.unlink(oldPath, err => {
                    if (err) console.error('Error deleting old preview:', err);
                });
            }
        }

        await content.update(updateData);
        console.log('Updated content:', JSON.stringify(content, null, 2));

        res.json({ message: '内容更新成功', content });
    } catch (error) {
        console.error('Error updating content:', error);
        res.status(500).json({ error: '更新内容失败' });
    }
});

// 删除内容
router.delete('/content/:id', async (req, res) => {
    const { id } = req.params;
    try {
        await Content.destroy({ where: { id } });
        res.json({ message: '内容删除成功' });
    } catch (error) {
        res.status(500).json({ error: '删除内容失败' });
    }
});

// 通用的日志中间件
router.use((req, res, next) => {
    console.log('Admin 路由收到请求:', req.method, req.url);
    next();
});

// 图片上传路由
router.post('/upload-image', upload.single('image'), (req, res) => {
    if (req.file) {
        // 返回上传后的图片 URL
        res.json({ url: '/uploads/' + req.file.filename });
    } else {
        res.status(400).json({ error: '上传失败' });
    }
});

// 确保这个由已经定义
router.put('/users/:id/points', async (req, res) => {
    
    try {
        const { id } = req.params;
        const { points } = req.body;

        // 验证积分是否为有效数字
        if (isNaN(points) || points < 0) {
            return res.status(400).json({ error: '无效的积分值' });
        }

        console.log(`尝试更新用户 ${id} 的积分为 ${points}`);

        const user = await User.findByPk(id);
        if (!user) {
            console.log(`未找到 ID 为 ${id} 的用户`);
            return res.status(404).json({ error: '未找到用户' });
        }

        console.log(`找到用户:`, user.toJSON());

        // 更新用户积分
        user.points = parseInt(points, 10);
        await user.save();

        console.log(`成功更新用户 ${id} 的积分为 ${points}`);
        res.json({ success: true, message: '积分更新成功', user: { id: user.id, username: user.username, points: user.points } });
    } catch (error) {
        console.error('更新用户积分时发生错误:', error);
        res.status(500).json({ error: '更新积分失败', details: error.message });
    }
});

// 获取所有订单
router.get('/orders', async (req, res) => {
    try {
        const orders = await Order.findAll({
            include: [
                { model: User, as: 'User', attributes: ['id', 'username'] },
                { model: Content, as: 'Content', attributes: ['id', 'simpleInfo'] }
            ],
            order: [['createdAt', 'DESC']]
        });
        res.json(orders);
    } catch (error) {
        console.error('Error fetching orders:', error);
        res.status(500).json({ error: '获取订单列表失败' });
    }
});

// 删除订单
router.delete('/orders/:id', async (req, res) => {
    const { id } = req.params;
    try {
        const deletedCount = await Order.destroy({ where: { id } });
        if (deletedCount === 1) {
            res.json({ message: '订单删除成功' });
        } else {
            res.status(404).json({ error: '订单不存在或已被删除' });
        }
    } catch (error) {
        console.error('删除订单时发生错误:', error);
        res.status(500).json({ error: '删除订单失败', details: error.message });
    }
});

// 生成邀请码
router.post('/generate-invitation-code', async (req, res) => {
  try {
    const generateInvitationCode = () => {
      const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
      let code = '';
      for (let i = 0; i < 5; i++) {
        code += characters.charAt(Math.floor(Math.random() * characters.length));
      }
      return code;
    };

    let code;
    let isUnique = false;
    
    while (!isUnique) {
      code = generateInvitationCode();
      const existingCode = await InvitationCode.findOne({ where: { code } });
      if (!existingCode) {
        isUnique = true;
      }
    }

    await InvitationCode.create({ code });
    res.json({ success: true, code });
  } catch (error) {
    console.error('生成邀请码错误:', error);
    res.status(500).json({ error: '生成邀请码失败' });
  }
});

// 获取所有邀请码
router.get('/invitation-codes', async (req, res) => {
  try {
    
    const codes = await InvitationCode.findAll({
      include: [{ 
        model: User, 
        as: 'usedByUser', 
        attributes: ['id', 'username'],
        required: false
      }]
    });
    
    console.log('查询结果:', JSON.stringify(codes, null, 2));
    res.json(codes);
  } catch (error) {
    console.error('获取邀请码列表失败:', error);
    res.status(500).json({ error: '获取邀请码列表失败', details: error.message });
  }
});

module.exports = router;


    /Users/momo/Desktop/info-index/routes/homeRoutes.js的内容是:
      const express = require('express');
const router = express.Router();
const homeController = require('../controllers/homeController');
const { isLoggedIn } = require('../middlewares/auth');

// 添加一个中间件来记录 req.user
const logUser = (req, res, next) => {
  console.log('当前用户:', req.user);
  next();
};

// 在 isLoggedIn 中间件之后，homeController.getHomePage 之前添加 logUser 中间件
router.get('/', isLoggedIn, logUser, homeController.getHomePage);

// ... 其他路由 ...
router.post('/content/:id/purchase', isLoggedIn, homeController.purchaseContent);

module.exports = router;



    /Users/momo/Desktop/info-index/routes/userRoutes.js的内容是:
      const express = require('express');
const router = express.Router();
const userController = require('../controllers/userController');

router.get('/login', userController.getLoginPage);
router.get('/register', userController.getRegisterPage);
router.post('/api/users/register', userController.register);
router.post('/api/users/login', userController.login);
router.get('/logout', userController.logout);
router.get('/api/user/points', userController.getUserPoints);

module.exports = router;



  scripts/
    /Users/momo/Desktop/info-index/scripts/seedContent.js的内容是:
      const { sequelize } = require('../config/database');
const Content = require('../models/Content');

const seedContent = async () => {
  try {
    await sequelize.sync({ force: true }); // 警告：这将删除现有的内容表

    const contentData = [
      {
        simpleInfo: "[推荐]教授数学很有经验",
        preview: "/images/iceice/1.jpg",  // 注意这里的路径更改
        location: "海淀 五道口",
        price: 1000.0,
        area: "海淀",
        detail: [{
          type: 2,
          content: "/images/iceice/1.jpg"  // 这里也要更改
        }],
        commnet: ["1号老师很不错，很负责人"]
      },
      {
        simpleInfo: "[推荐]教授英语很有经验",
        preview: "/images/iceice/2.jpg",  // 注意这里的路径更改
        location: "海淀 五道口",
        price: 1000.0,
        area: "海淀",
        detail: [{
          type: 2,
          content: "/images/iceice/2.jpg"  // 这里也要更改
        }],
        commnet: ["2号老师很不错，很负责人"]
      }
    ];

    await Content.bulkCreate(contentData);

    console.log('内容数据已成功添加到数据库');
  } catch (error) {
    console.error('添加内容数据时出错:', error);
  } finally {
    await sequelize.close();
  }
};

seedContent();



  utils/
    /Users/momo/Desktop/info-index/utils/invitationCodeGenerator.js的内容是:
      function generateInvitationCode() {
  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
  let code = '';
  for (let i = 0; i < 5; i++) {
    code += characters.charAt(Math.floor(Math.random() * characters.length));
  }
  return code;
}

module.exports = generateInvitationCode;



  views/
    admin/
      /Users/momo/Desktop/info-index/views/admin/content-form.ejs的内容是:
        <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= contentId ? '编辑内容' : '添加新内容' %></title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        label {
            margin-top: 10px;
            font-weight: bold;
        }
        input[type="text"],
        input[type="number"],
        input[type="file"] {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        #detailEditor {
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            margin-top: 5px;
            min-height: 100px;
        }
        button {
            background-color: #3498db;
            color: #fff;
            border: none;
            padding: 10px 15px;
            margin-top: 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .commentItem {
            display: flex;
            margin-top: 5px;
        }
        .commentItem input {
            flex-grow: 1;
            margin-right: 5px;
        }
        #previewImage {
            max-width: 200px;
            margin-top: 10px;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s, transform 0.1s;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background-color: #3498db;
            color: #fff;
        }

        .btn-primary:hover {
            background-color: #2980b9;
        }

        .btn-secondary {
            background-color: #95a5a6;
            color: #fff;
        }

        .btn-secondary:hover {
            background-color: #7f8c8d;
        }
        .separator {
            border-top: 1px dashed #ccc;
            margin: 35px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><%= contentId ? '编辑内容' : '添加新内容' %></h1>
        <form id="contentForm" enctype="multipart/form-data">
            <input type="hidden" id="contentId" value="<%= contentId || '' %>">
            <div>
                <label for="simpleInfo">简介:</label>
                <input type="text" id="simpleInfo" name="simpleInfo" required>
            </div>
            <div class="separator"></div>
            <div>
                <label for="preview">预览:</label>
                <input type="file" id="preview" name="preview" accept="image/*" <%= contentId ? '' : 'required' %>>
                <% if (contentId) { %>
                    <img id="previewImage" src="" alt="当前预览图" style="max-width:100px;">
                <% } %>
            </div>
            <div class="separator"></div>
            <div style="display: flex; justify-content: space-between;">
                <div style="width: 32%;">
                    <label for="city">城市:</label>
                    <input type="text" id="city" name="city" required>
                </div>
                <div style="width: 32%;">
                    <label for="area">区域:</label>
                    <input type="text" id="area" name="area" required>
                </div>
                <div style="width: 32%;">
                    <label for="location">位置:</label>
                    <input type="text" id="location" name="location" required>
                </div>
            </div>
            <div class="separator"></div>
            <div>
                <label for="price">价格:</label>
                <input type="number" id="price" name="price" required>
            </div>
            <div class="separator"></div>
            <div>
                <label for="detailEditor">详细信息:</label>
                <div id="detailEditor" contenteditable="true"></div>
                <input type="file" id="detailImage" accept="image/*">
                <button type="button" onclick="insertImage()">插入图片</button>
            </div>
            <div class="separator"></div>
            <div>
                <label for="commentList">评论:</label>
                <div id="commentList"></div>
                <button type="button" onclick="addCommentInput()">添加评论</button>
            </div>
            <div class="separator"></div>
            <div>
                <label for="hiddenContent">隐藏内容:</label>
                <textarea id="hiddenContent" name="hiddenContent" rows="4" style="width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;"></textarea>
            </div>
            <div class="separator"></div>
            <div class="button-group">
                <button type="button" class="btn btn-secondary" onclick="window.close()">返回</button>
                <button type="submit" class="btn btn-primary"><%= contentId ? '更新内容' : '添加内容' %></button>
            </div>
        </form>
    </div>

    <script>
        const contentId = document.getElementById('contentId').value;

        // 如果是编辑模式,加载现有内容
        if (contentId) {
            fetch(`/admin/content/${contentId}`)
                .then(response => response.json())
                .then(content => {
                    console.log('从服务器获取的内容:', content);
                    document.getElementById('simpleInfo').value = content.simpleInfo;
                    document.getElementById('location').value = content.location;
                    document.getElementById('price').value = content.price;
                    document.getElementById('area').value = content.area;
                    document.getElementById('detailEditor').innerHTML = content.detail;
                    document.getElementById('previewImage').src = content.preview;
                    document.getElementById('hiddenContent').value = content.hiddenContent;
                    
                    console.log('原始评论数据:', content.commnet);
                    let comments;
                    try {
                        comments = typeof content.commnet === 'string' ? JSON.parse(content.commnet) : content.commnet;
                    } catch (e) {
                        console.error('解析评论失败:', e);
                        comments = [];
                    }
                    console.log('解析后的评论:', comments);
                    comments.forEach(comment => addCommentInput(comment));
                    
                    document.getElementById('city').value = content.city;
                })
                .catch(error => {
                    console.error('获取内容时出错:', error);
                });
        }

        function insertImage() {
            const input = document.getElementById('detailImage');
            const file = input.files[0];
            if (file) {
                const formData = new FormData();
                formData.append('image', file);

                // 显示上传进度
                const progressBar = document.createElement('div');
                progressBar.style.width = '0%';
                progressBar.style.height = '5px';
                progressBar.style.backgroundColor = 'blue';
                document.getElementById('detailEditor').appendChild(progressBar);

                fetch('/admin/upload-image', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.url) {
                        const img = document.createElement('img');
                        img.src = data.url;
                        img.style.maxWidth = '100%';
                        document.getElementById('detailEditor').appendChild(img);
                    } else {
                        alert('图片上传失败');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('图片上传失败');
                })
                .finally(() => {
                    // 移除进度条
                    progressBar.remove();
                });
            }
        }

        function addCommentInput(value = '') {
            console.log('添加评论输入框，值为:', value);
            const commentList = document.getElementById('commentList');
            const commentItem = document.createElement('div');
            commentItem.className = 'commentItem';
            commentItem.innerHTML = `
                <input type="text" value="${value}" placeholder="输入评论">
                <button type="button" onclick="this.parentElement.remove()">删除</button>
            `;
            commentList.appendChild(commentItem);
        }

        document.getElementById('contentForm').onsubmit = function(e) {
            e.preventDefault();
            const formData = new FormData(this);

            // 处理详情
            const detailEditor = document.getElementById('detailEditor');
            formData.set('detail', detailEditor.innerHTML);

            // 处理评论
            const comments = Array.from(document.querySelectorAll('#commentList input'))
                .map(input => input.value)
                .filter(comment => comment.trim() !== '');
            console.log('提交前的评论数组:', comments);
            
            // 将评论数组转换为 JSON 字符串
            formData.set('commnet', JSON.stringify(comments));

            // 确保 city 字段被包含在 formData 中
            formData.set('city', document.getElementById('city').value);

            console.log('FormData 内容:');
            for (let [key, value] of formData.entries()) {
                console.log(key, typeof value, value);
            }

            const url = contentId ? `/admin/content/${contentId}` : '/admin/content';
            const method = contentId ? 'PUT' : 'POST';

            fetch(url, { 
                method, 
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.error) {
                    alert(data.error);
                } else {
                    if (contentId) {
                        alert('内容更新成功');
                        window.opener.location.reload();
                        window.close();
                    } else {
                        alert('内容添加成功');
                        clearForm();
                        window.opener.location.reload();
                    }
                }
            })
            .catch(error => {
                console.error('提交表单时出错:', error);
            });
        };

        // 添加清除表单的函数
        function clearForm() {
            document.getElementById('simpleInfo').value = '';
            document.getElementById('preview').value = '';
            document.getElementById('location').value = '';
            document.getElementById('price').value = '';
            document.getElementById('area').value = '';
            document.getElementById('detailEditor').innerHTML = '';
            document.getElementById('commentList').innerHTML = '';
            if (document.getElementById('previewImage')) {
                document.getElementById('previewImage').src = '';
            }
        }
    </script>
</body>
</html>


      /Users/momo/Desktop/info-index/views/admin/content.ejs的内容是:
        <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>内容管理</title>
    <style>
        /* 添加一些基本样式 */
    </style>
</head>
<body>
    <h1>内容管理</h1>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>简介</th>
                <th>价格</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <% content.forEach(item => { %>
                <tr>
                    <td><%= item.id %></td>
                    <td><%= item.simpleInfo %></td>
                    <td><%= item.price %></td>
                    <td>
                        <button onclick="editContent(<%= item.id %>)">编辑</button>
                        <button onclick="deleteContent(<%= item.id %>)">删除</button>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
    <form id="addContentForm">
        <!-- 添加内容表单字段 -->
    </form>
    <script>
        // 实现添加、编辑和删除内容的前端 JavaScript
    </script>
</body>
</html>



      /Users/momo/Desktop/info-index/views/admin/dashboard.ejs的内容是:
        <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理员仪表板</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1, h2 {
            color: #333;
        }
        .container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .section {
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 14px;
        }
        button:hover {
            background-color: #45a049;
        }
        form {
            margin-top: 20px;
        }
        input[type="text"], input[type="email"], input[type="number"], input[type="password"], select {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        input[type="submit"] {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        input[type="submit"]:hover {
            background-color: #45a049;
        }
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .section {
                width: 100%;
            }
            table {
                font-size: 14px;
            }
            th, td {
                padding: 8px 5px;
            }
            button {
                padding: 8px 12px;
                font-size: 12px;
            }
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid #ddd;
            background-color: #f1f1f1;
        }
        .tab.active {
            background-color: #fff;
            border-bottom: none;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <h1>管理员仪表板</h1>
    <div class="tabs">
        <div class="tab active" onclick="openTab(event, 'users')">用户管理</div>
        <div class="tab" onclick="openTab(event, 'content')">内容管理</div>
        <div class="tab" onclick="openTab(event, 'orders')">订单管理</div>
        <div class="tab" onclick="openTab(event, 'invitationCodes')">邀请码管理</div>
    </div>
    <div class="container">
        <div id="users" class="tab-content active">
            <h2>用户管理</h2>
            <div style="overflow-x: auto;">
                <table id="userTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>用户名</th>
                            <th>角色</th>
                            <th>积分</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- 用户数据将通过 JavaScript 动态加载 -->
                    </tbody>
                </table>
            </div>
            <form id="addUserForm">
                <h3>添加新用户</h3>
                <input type="text" id="username" placeholder="用户名" required>
                <select id="role" required>
                    <option value="">选择角色</option>
                    <option value="user">普通用户</option>
                    <option value="admin">管理员</option>
                </select>
                <input type="password" id="password" placeholder="密码" required>
                <input type="submit" value="添加用户">
            </form>
        </div>
        <div id="content" class="tab-content">
            <h2>内容管理</h2>
            <button onclick="location.href='/admin/content/add'">添加新内容</button>
            <div style="overflow-x: auto;">
                <table id="contentTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>简介</th>
                            <th>预览</th>
                            <th>位置</th>
                            <th>价格</th>
                            <th>区域</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- 内容数据将通过 JavaScript 动态加载 -->
                    </tbody>
                </table>
            </div>
        </div>
        <div id="orders" class="tab-content">
            <h2>订单管理</h2>
            <div style="overflow-x: auto;">
                <table id="orderTable">
                    <thead>
                        <tr>
                            <th>订单ID</th>
                            <th>用户</th>
                            <th>内容ID</th>
                            <th>内容简介</th>
                            <th>创建时间</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- 订单数据将通过 JavaScript 动态加载 -->
                    </tbody>
                </table>
            </div>
        </div>
        <div id="invitationCodes" class="tab-content">
            <h2>邀请码管理</h2>
            <button onclick="generateInvitationCode()">生成新邀请码</button>
            <div style="overflow-x: auto;">
                <table id="invitationCodeTable">
                    <thead>
                        <tr>
                            <th>邀请码</th>
                            <th>状态</th>
                            <th>使用者</th>
                            <th>创建时间</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- 邀请码数据将通过 JavaScript 动态加载 -->
                                        </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // 加载用户数据
        function loadUsers() {
            fetch('/admin/users')
                .then(response => response.json())
                .then(users => {
                    const tbody = document.querySelector('#userTable tbody');
                    tbody.innerHTML = '';
                    users.forEach(user => {
                        tbody.innerHTML += `
                            <tr>
                                <td>${user.id}</td>
                                <td>${user.username}</td>
                                <td>${user.role}</td>
                                <td>
                                    <span id="points-${user.id}">${user.points}</span>
                                    <input type="number" id="edit-points-${user.id}" style="display:none;">
                                    <button onclick="editPoints(${user.id})">编辑</button>
                                    <button onclick="savePoints(${user.id})" style="display:none;">保存</button>
                                </td>
                                <td><button onclick="deleteUser(${user.id})">删除</button></td>
                            </tr>
                        `;
                    });
                })
                .catch(error => console.error('Error loading users:', error));
        }

        // 编辑积分
        function editPoints(userId) {
            const pointsSpan = document.getElementById(`points-${userId}`);
            const pointsInput = document.getElementById(`edit-points-${userId}`);
            const editButton = pointsSpan.nextElementSibling.nextElementSibling;
            const saveButton = editButton.nextElementSibling;

            pointsSpan.style.display = 'none';
            pointsInput.style.display = 'inline';
            pointsInput.value = pointsSpan.textContent;
            editButton.style.display = 'none';
            saveButton.style.display = 'inline';
        }

        // 保存积分
        function savePoints(userId) {
            const pointsInput = document.getElementById(`edit-points-${userId}`);
            const newPoints = pointsInput.value;

            console.log(`尝试更新用户 ${userId} 的积分为 ${newPoints}`);

            fetch(`/admin/users/${userId}/points`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ points: newPoints }),
            })
            .then(response => {
                console.log('服务器响应状态:', response.status);
                return response.json();
            })
            .then(data => {
                console.log('服务器响应数据:', data);
                if (data.success) {
                    console.log(`成功更新用户 ${userId} 的积分为 ${newPoints}`);
                    loadUsers();  // 重新加载用户列表
                } else {
                    console.error('更新积分失败:', data.error);
                    alert('更新积分失败: ' + (data.error || '未知错误'));
                }
            })
            .catch(error => {
                console.error('更新积分时发生错误:', error);
                alert('更新积分失败: ' + error.message);
            });
        }

        // 修改加载内容的函数
        function loadContent() {
            console.log('开始加载内容');
            fetch('/admin/content')
                .then(response => {
                    console.log('收到响应:', response);
                    return response.json();
                })
                .then(content => {
                    console.log('解析后的内容:', content);
                    const tbody = document.querySelector('#contentTable tbody');
                    tbody.innerHTML = '';
                    if (Array.isArray(content) && content.length > 0) {
                        content.forEach(item => {
                            console.log('处理项目:', item);
                            tbody.innerHTML += `
                                <tr>
                                    <td>${item.id}</td>
                                    <td>${item.simpleInfo || ''}</td>
                                    <td>${item.preview ? '<img src="' + item.preview + '" alt="预览图" style="max-width:100px; max-height:100px;">' : '无预览图'}</td>
                                    <td>${item.location || ''}</td>
                                    <td>${item.price || ''}</td>
                                    <td>${item.area || ''}</td>
                                    <td>
                                        <button onclick="window.open('/admin/content/edit/${item.id}', '_blank')">编辑</button>
                                        <button onclick="deleteContent(${item.id})">删除</button>
                                        <div>详情: ${item.detail ? item.detail.substring(0, 50) : 'N/A'}...</div>
                                        <div>评论数: ${Array.isArray(item.commnet) ? item.commnet.length : 0}</div>
                                    </td>
                                </tr>
                            `;
                        });
                    } else {
                        console.log('没有内容或内容不是数组');
                        tbody.innerHTML = '<tr><td colspan="7">没有找到内容</td></tr>';
                    }
                })
                .catch(error => {
                    console.error('加载内容时出错:', error);
                    const tbody = document.querySelector('#contentTable tbody');
                    tbody.innerHTML = `<tr><td colspan="7">加载内容时出错: ${error.message}</td></tr>`;
                });
        }

        // 确保在页面加载完成后调用 loadContent
        document.addEventListener('DOMContentLoaded', loadContent);

        // 删除用户
        function deleteUser(id) {
            if (confirm('确定要删除这个用户吗？')) {
                fetch(`/admin/users/${id}`, { method: 'DELETE' })
                    .then(response => {
                        if (!response.ok) {
                            return response.json().then(err => Promise.reject(err));
                        }
                        return response.json();
                    })
                    .then(data => {
                        console.log('删除成功:', data.message);
                        alert('用户删除成功');
                        loadUsers();
                    })
                    .catch(error => {
                        console.error('删除失败:', error);
                        alert('删除用户失败: ' + (error.error || '未知错误'));
                    });
            }
        }

        // 删除内容
        function deleteContent(id) {
            if (confirm('确定要删除这个内容吗？')) {
                fetch(`/admin/content/${id}`, { method: 'DELETE' })
                    .then(() => loadContent());
            }
        }

        // 添加用户
        document.getElementById('addUserForm').onsubmit = function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const role = document.getElementById('role').value;
            const password = document.getElementById('password').value;
            fetch('/admin/users', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, role, password })
            }).then(response => response.json())
            .then(data => {
                if (data.error) {
                    alert(data.error);
                } else {
                    loadUsers();
                    this.reset();
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('添加用户失败');
            });
        };

        // 添加新的函数用于加载订单
        function loadOrders() {
            fetch('/admin/orders')
                .then(response => response.json())
                .then(orders => {
                    const tbody = document.querySelector('#orderTable tbody');
                    tbody.innerHTML = '';
                    orders.forEach(order => {
                        tbody.innerHTML += `
                            <tr>
                                <td>${order.id}</td>
                                <td>${order.User ? order.User.username : 'N/A'}</td>
                                <td>${order.Content ? order.Content.id : 'N/A'}</td>
                                <td>${order.Content ? order.Content.simpleInfo : 'N/A'}</td>
                                <td>${new Date(order.createdAt).toLocaleString()}</td>
                                <td><button onclick="deleteOrder(${order.id})">删除</button></td>
                            </tr>
                        `;
                    });
                })
                .catch(error => console.error('Error loading orders:', error));
        }

        // 删除订单
        function deleteOrder(id) {
            if (confirm('确定要删除这个订单吗？')) {
                fetch(`/admin/orders/${id}`, { method: 'DELETE' })
                    .then(response => {
                        if (!response.ok) {
                            return response.json().then(err => Promise.reject(err));
                        }
                        return response.json();
                    })
                    .then(data => {
                        console.log('删除成功:', data.message);
                        alert('订单删除成功');
                        loadOrders();
                    })
                    .catch(error => {
                        console.error('删除失败:', error);
                        alert('删除订单失败: ' + (error.error || '未知错误'));
                    });
            }
        }

        // 标签切换函数
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tab");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";

            // 加载相应的数据
            if (tabName === 'users') {
                loadUsers();
            } else if (tabName === 'content') {
                loadContent();
            } else if (tabName === 'orders') {
                loadOrders();
            } else if (tabName === 'invitationCodes') {
                loadInvitationCodes();
            }
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 默认显示用户管理标签
            document.querySelector('.tab').click();
            // 初始化邀请码管理
            loadInvitationCodes();
        });

        function loadInvitationCodes() {
            fetch('/admin/invitation-codes')
                .then(response => response.json())
                .then(codes => {
                    const tbody = document.querySelector('#invitationCodeTable tbody');
                    tbody.innerHTML = '';
                    codes.forEach(code => {
                        tbody.innerHTML += `
                            <tr>
                                <td>${code.code}</td>
                                <td>${code.isUsed ? '已使用' : '未使用'}</td>
                                <td>${code.usedByUser ? code.usedByUser.username : 'N/A'}</td>
                                <td>${new Date(code.createdAt).toLocaleString()}</td>
                            </tr>
                        `;
                    });
                })
                .catch(error => console.error('Error loading invitation codes:', error));
        }

        function generateInvitationCode() {
            fetch('/admin/generate-invitation-code', { method: 'POST' })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert('新邀请码生成成功：' + data.code);
                        loadInvitationCodes();
                    } else {
                        alert('生成邀请码失败：' + data.error);
                    }
                })
                .catch(error => {
                    console.error('Error generating invitation code:', error);
                    alert('生成邀请码失败');
                });
        }
    </script>
</body>
</html>


      /Users/momo/Desktop/info-index/views/admin/users.ejs的内容是:
        <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户管理</title>
    <style>
        /* 添加一些基本样式 */
    </style>
</head>
<body>
    <h1>用户管理</h1>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>用户名</th>
                <th>邮箱</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <% users.forEach(user => { %>
                <tr>
                    <td><%= user.id %></td>
                    <td><%= user.username %></td>
                    <td><%= user.email %></td>
                    <td>
                        <button onclick="deleteUser(<%= user.id %>)">删除</button>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
    <form id="addUserForm">
        <!-- 添加用户表单字段 -->
    </form>
    <script>
        // 实现添加和删除用户的前端 JavaScript
    </script>
</body>
</html>



    /Users/momo/Desktop/info-index/views/error.ejs的内容是:
      <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>错误 - <%= status || '未知错误' %></title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            text-align: center;
        }
        .error-container {
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            max-width: 600px;
            margin: 50px auto;
        }
        h1 {
            color: #d9534f;
            margin-bottom: 20px;
        }
        .error-details {
            margin-bottom: 20px;
            font-size: 18px;
        }
        .back-link {
            display: inline-block;
            background-color: #5bc0de;
            color: #fff;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 3px;
            transition: background-color 0.3s;
        }
        .back-link:hover {
            background-color: #31b0d5;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <h1>错误 <%= status || '未知错误' %></h1>
        <div class="error-details">
            <p><%= message %></p>
        </div>
        <% if (error && error.stack) { %>
            <pre><%= error.stack %></pre>
        <% } %>
        <a href="/" class="back-link">返回首页</a>
    </div>
</body>
</html>



    /Users/momo/Desktop/info-index/views/home.ejs的内容是:
      <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .main-content {
            width: 100%;
        }
        .header {
            margin-bottom: 20px;
        }
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .logo {
            display: flex;
            align-items: center;
        }
        .logo-image {
            max-height: 30px;
            width: auto;
        }
        .title {
            font-size: 24px;
            margin: 0;
        }
        .user-info {
            font-size: 14px;
            white-space: nowrap;
        }
        .search-filter-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }
        .search-bar {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        #search-input {
            width: 100%;
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 14px;
        }
        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: nowrap;
        }
        #sort-button, #area-filter-button, #city-filter-button {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            background-color: white;
            cursor: pointer;
            font-size: 14px;
            white-space: nowrap;
            min-width: 100px;
            text-align: center;
        }
        .card-list {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            justify-content: center;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
            cursor: pointer;
            transition: 0.3s;
            position: relative;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .card-cover-container {
            width: 100%;
            padding-top: 75%;
            position: relative;
            overflow: hidden;
        }
        .card-cover {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .card-content {
            padding: 15px;
        }
        .card-number {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .card-description {
            font-size: 14px;
            margin-bottom: 5px;
        }
        .card-price {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .card-area {
            font-size: 12px;
            color: #7f8c8d;
        }
        .detail-page {
            position: fixed;
            top: 0;
            right: -33.33%;
            width: 33.33%;
            height: 100%;
            background-color: white;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
            overflow-y: auto;
            transition: 0.3s;
            padding: 20px;
            box-sizing: border-box;
            z-index: 1000;
        }
        .detail-page.open {
            right: 0;
        }
        .detail-close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: none;
            z-index: 999;
        }
        .overlay.open {
            display: block;
        }
        
        @media (min-width: 769px) {
            .search-filter-container {
                flex-wrap: nowrap;
            }

            .filter-buttons {
                flex: 0 0 auto;
            }
        }

        @media (max-width: 768px) {
            .card-list {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            .title {
                margin-bottom: 15px;
                text-align: center;
                font-size: 20px;
            }
            .search-bar {
                flex-basis: 100%;
                max-width: none;
            }
            .filter-buttons {
                flex-basis: 100%;
                justify-content: space-between;
            }
            #sort-button, #area-filter-button, #city-filter-button {
                flex: 1 1 0;
                min-width: 0;
            }
            .user-info {
                margin-left: 0;
                text-align: center;
            }
            .detail-page {
                width: 100%;
                right: -100%;
            }
        }

        /* 添加新的样式 */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 5px;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .user-link {
            color: #3498db;
            text-decoration: none;
            cursor: pointer;
        }

        .user-link:hover {
            text-decoration: underline;
        }

        .purchase-btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .purchase-btn:hover {
            background-color: #45a049;
        }

        .comment-list {
            margin-top: 20px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }

        .comment {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 10px;
        }

        .purchased-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #4CAF50;
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 12px;
            z-index: 1;
        }

        .customer-service-info {
            margin-top: 15px;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
            font-size: 14px;
            color: #333;
        }

        #area-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .area-item {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            cursor: pointer;
        }

        .area-item.selected {
            background-color: #4CAF50;
            color: white;
        }

        #city-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .city-item {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            cursor: pointer;
        }

        .city-item.selected {
            background-color: #4CAF50;
            color: white;
        }

        @media (max-width: 768px) {
            #area-filter-button, #city-filter-button,#sort-button {
                width: 100%;
                margin-top: 10px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="main-content">
            <div class="header">
                <div class="header-top">
                    <!-- 将h1标题替换为logo图片 -->
                    <div class="logo">
                        <img src="/images/logo.png" alt="网站Logo" class="logo-image">
                    </div>
                    <div class="user-info">
                        <% if (typeof user !== 'undefined' && user && user.role === 'admin') { %>
                            欢迎, <%= user.username %> | <a href="/logout">登出</a> | <a href="/admin">管理页面</a>
                        <% } else if (typeof user !== 'undefined' && user) { %>
                            欢迎, <a href="#" class="user-link" onclick="showUserPoints()"><%= user.username %></a> | <a href="/logout">登出</a>
                        <% } else { %>
                            <a href="/login">登录</a> | <a href="/register">注册</a>
                        <% } %>
                    </div>
                </div>
                <div class="search-filter-container">
                    <div class="search-bar">
                        <input type="text" id="search-input" placeholder="搜索...">
                    </div>
                    <div class="filter-buttons">
                        <button id="sort-button">编号：正序</button>
                        <button id="city-filter-button">选择城市</button>
                        <button id="area-filter-button">选择地区</button>
                    </div>
                </div>
            </div>
            <div class="card-list" id="card-container"></div>
        </div>
    </div>
    
    <div class="overlay" id="overlay"></div>
    <div class="detail-page" id="detail-page">
        <span class="detail-close" onclick="closeDetail()">&times;</span>
        <div id="detail-content"></div>
    </div>

    <!-- 用户积分模态框 -->
    <div id="userPointsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeUserPointsModal()">&times;</span>
            <h4>尊贵的用户，你好</h4>
            <p>您当前的积分: <span id="userPointsDisplay"></span></p>
            <div class="customer-service-info">
                充值积分请联系客服：<%= customerServiceContact %>
            </div>
        </div>
    </div>

    <!-- 添加模态框 -->
    <div id="area-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>选择地区</h2>
            <div id="area-list"></div>
        </div>
    </div>

    <!-- 添加城市模态框 -->
    <div id="city-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>选择城市</h2>
            <div id="city-list"></div>
        </div>
    </div>

    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?c9c1e5a5092ab97775b11039fc9ca6fa";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();

        let cardData = <%- JSON.stringify(content.data) %>;
        let sortAscending = true;
        let isDetailOpen = false;
        let selectedArea = '';
        let selectedCity = '';

        function populateFilters() {
            populateAreaFilter();
            populateCityFilter();
        }

        function populateAreaFilter() {
            const areaList = document.getElementById('area-list');
            const areas = [...new Set(cardData.map(card => card.area))];
            areas.forEach(area => {
                const areaItem = document.createElement('div');
                areaItem.className = 'area-item';
                areaItem.textContent = area;
                areaItem.onclick = () => selectArea(area);
                areaList.appendChild(areaItem);
            });
        }

        function populateCityFilter() {
            const cityList = document.getElementById('city-list');
            const cities = [...new Set(cardData.map(card => card.city))];
            cities.forEach(city => {
                const cityItem = document.createElement('div');
                cityItem.className = 'city-item';
                cityItem.textContent = city;
                cityItem.onclick = () => selectCity(city);
                cityList.appendChild(cityItem);
            });
        }

        function selectArea(area) {
            selectedArea = area === selectedArea ? '' : area;
            document.querySelectorAll('.area-item').forEach(item => {
                item.classList.toggle('selected', item.textContent === selectedArea);
            });
            filterAndSortCards();
            closeModal();
        }

        function selectCity(city) {
            selectedCity = city === selectedCity ? '' : city;
            document.querySelectorAll('.city-item').forEach(item => {
                item.classList.toggle('selected', item.textContent === selectedCity);
            });
            filterAndSortCards();
            closeCityModal();
        }

        function renderCards(cards) {
            const container = document.getElementById('card-container');
            container.innerHTML = '';
            cards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.innerHTML = `
                    ${card.hasPurchased ? '<div class="purchased-badge">已购买</div>' : ''}
                    <div class="card-cover-container">
                        <img src="${card.preview}" alt="卡片${card.id}封面" class="card-cover">
                    </div>
                    <div class="card-content">
                        <div class="card-number">编号：${card.id}</div>
                        <div class="card-description">${card.simpleInfo}</div>
                        <div class="card-price">￥${card.price.toFixed(2)}</div>
                        <div class="card-area">地区：${card.location}</div>
                    </div>
                `;
                cardElement.addEventListener('click', (e) => {
                    e.stopPropagation();
                    openDetail(card);
                });
                container.appendChild(cardElement);
            });
        }

        function filterAndSortCards() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            let filteredCards = cardData.filter(card => 
                (card.simpleInfo.toLowerCase().includes(searchTerm) || card.id.toString().includes(searchTerm)) &&
                (selectedArea === '' || card.area === selectedArea) &&
                (selectedCity === '' || card.city === selectedCity)
            );
            
            filteredCards.sort((a, b) => {
                if (sortAscending) {
                    return a.id - b.id;
                } else {
                    return b.id - a.id;
                }
            });

            renderCards(filteredCards);
        }

        function openDetail(card) {
            console.log('打开详情的卡片数据:', card);

            const detailPage = document.getElementById('detail-page');
            const overlay = document.getElementById('overlay');
            const detailContent = document.getElementById('detail-content');
            
            let detailHtml = `
                <h2>编号${card.id}</h2>
                <img src="${card.preview}" alt="预览图" style="width: 100%; height: auto; object-fit: cover; margin-bottom: 15px;">
                <p><strong>简介：</strong> ${card.simpleInfo}</p>
                <p><strong>价格：</strong> ￥${card.price.toFixed(2)}</p>
                <p><strong>地区：</strong> ${card.location}</p>
                <p><strong>详情：</strong></p>
                <div>${card.detail}</div>

                <div class="comment-list">
                    <h3>评论</h3>
                    ${Array.isArray(card.commnet) ? card.commnet.map(comment => `<div class="comment">${comment}</div>`).join('') : '暂无评论'}
                </div>
            `;

            console.log('生成的详情 HTML:', detailHtml);

            if (card.hasPurchased) {
                detailHtml += `
                    <h3>隐藏内容</h3>
                    <div>${card.hiddenContent}</div>
                `;
            } else if (<%= user ? 'true' : 'false' %>) {
                detailHtml += `
                    <button onclick="confirmPurchase(${card.id})" class="purchase-btn">购买联系方式 (需要 <%= contentPrice %> 积分)</button>
                `;
            } else {
                detailHtml += `<p>请<a href="/login">登录</a>后购买联系方式</p>`;
            }

            // 使用 DOMPurify 清理 HTML（如果已引入）
            if (typeof DOMPurify !== 'undefined') {
                detailHtml = DOMPurify.sanitize(detailHtml);
            }

            detailContent.innerHTML = detailHtml;
            detailPage.classList.add('open');
            overlay.classList.add('open');
            
            if (!isDetailOpen) {
                history.pushState({ isDetail: true }, '');
                isDetailOpen = true;
            }

            // 手动发送 PV 统计
            if (window._hmt) {
                _hmt.push(['_trackPageview', '/detail/' + card.id]);
            }
        }

        function confirmPurchase(contentId) {
            if (confirm('确定要购买这个隐藏内容吗？')) {
                purchaseContent(contentId);
            }
        }

        function purchaseContent(contentId) {
            fetch(`/content/${contentId}/purchase`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    document.getElementById('detail-content').innerHTML = `
                        <h3>隐藏内容</h3>
                        ${data.hiddenContent}
                    `;
                    // 更新用户积分显示
                    if (document.getElementById('userPointsDisplay')) {
                        document.getElementById('userPointsDisplay').textContent = data.remainingPoints;
                    }
                    
                    var username = '<%= user ? user.username : "未登录用户" %>';
                    // 百度统计打点
                    if (window._hmt) {
                        _hmt.push(['_trackEvent', '购买', '使用积分购买', `用户ID:${username},内容ID:${contentId}`]);
                    }
                } else {
                    if (data.error === '积分不足') {
                        alert('积分不足，请联系客服充值');
                    } else {
                        alert(data.error);
                    }
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('购买失败，请稍后再试');
            });
        }

        function closeDetail() {
            const detailPage = document.getElementById('detail-page');
            const overlay = document.getElementById('overlay');
            detailPage.classList.remove('open');
            overlay.classList.remove('open');

            if (isDetailOpen) {
                history.back();
                isDetailOpen = false;
            }
        }

        function toggleSort() {
            sortAscending = !sortAscending;
            document.getElementById('sort-button').textContent = sortAscending ? '编号：正序' : '编号：倒序';
            filterAndSortCards();
        }

        // 添加新的函数来显示和关闭用户积分模态框
        function showUserPoints() {
            fetch('/api/user/points')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('userPointsDisplay').textContent = data.points;
                    document.getElementById('userPointsModal').style.display = 'block';
                })
                .catch(error => console.error('Error fetching user points:', error));
        }

        function closeUserPointsModal() {
            document.getElementById('userPointsModal').style.display = 'none';
        }

        // 模态框相关函数
        const modal = document.getElementById('area-modal');
        const btn = document.getElementById('area-filter-button');
        const span = document.getElementsByClassName('close')[0];

        btn.onclick = () => modal.style.display = 'block';
        span.onclick = closeModal;
        window.onclick = (event) => {
            if (event.target == modal) {
                closeModal();
            }
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        // 城市模态框相关函数
        const cityModal = document.getElementById('city-modal');
        const cityBtn = document.getElementById('city-filter-button');
        const citySpan = cityModal.getElementsByClassName('close')[0];

        cityBtn.onclick = () => cityModal.style.display = 'block';
        citySpan.onclick = closeCityModal;
        window.onclick = (event) => {
            if (event.target == cityModal) {
                closeCityModal();
            } else if (event.target == modal) {
                closeModal();
            } else if (event.target == document.getElementById('userPointsModal')) {
                closeUserPointsModal();
            }
        }

        function closeCityModal() {
            cityModal.style.display = 'none';
        }

        document.addEventListener('DOMContentLoaded', function() {
            populateFilters();
            filterAndSortCards();

            document.getElementById('search-input').addEventListener('input', filterAndSortCards);
            document.getElementById('sort-button').addEventListener('click', toggleSort);

            document.addEventListener('click', function(event) {
                const detailPage = document.getElementById('detail-page');
                if (detailPage.classList.contains('open') && !detailPage.contains(event.target)) {
                    closeDetail();
                }
            });

            document.getElementById('detail-page').addEventListener('click', function(event) {
                event.stopPropagation();
            });

            document.getElementById('overlay').addEventListener('click', closeDetail);

            window.addEventListener('popstate', function(event) {
                if (event.state && event.state.isDetail) {
                    // 如果是详情页态，不做任何操作
                } else {
                    // 如果不是详情页状态，关闭详情页
                    const detailPage = document.getElementById('detail-page');
                    const overlay = document.getElementById('overlay');
                    if (detailPage.classList.contains('open')) {
                        detailPage.classList.remove('open');
                        overlay.classList.remove('open');
                        isDetailOpen = false;
                    }
                }
            });

            // 检查 URL 中是否有 id 参数
            const idParam = new URLSearchParams(window.location.search).get('id');
            if (idParam) {
                const card = cardData.find(card => card.id.toString() === idParam);
                if (card) {
                    openDetail(card);
                } else {
                    console.log('未找到对应 ID 的卡片');
                }
            }

            // 新增：上报用户名到百度统计
            var username = '<%= user ? user.username : "未登录用户" %>';
            if (window._hmt) {
                _hmt.push(['_trackEvent', '用户', '访问主页', username]);
                window._hmt.push(['_setUserId', username]);
            }
        });
    </script>
</body>
</html>



    /Users/momo/Desktop/info-index/views/login.ejs的内容是:
      <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .logo {
            margin-bottom: 30px;
            max-width: 250px; /* 增大 logo 的最大宽度 */
            width: 80%; /* 使 logo 在小屏幕上也能自适应 */
            height: auto;
        }
        .login-container {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 350px; /* 稍微增加容器宽度 */
        }
        h1 {
            text-align: center;
            color: #1877f2;
            margin-bottom: 1.5rem;
        }
        form div {
            margin-bottom: 1rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            color: #606770;
        }
        input[type="text"], input[type="password"] {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #dddfe2;
            border-radius: 4px;
            font-size: 1rem;
        }
        button {
            width: 100%;
            padding: 0.5rem;
            background-color: #1877f2;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #166fe5;
        }
        .message {
            text-align: center;
            margin-top: 1rem;
        }
        .error {
            color: #ff0000;
        }
        .success {
            color: #00a400;
        }
    </style>
</head>
<body>
    <img src="/images/logo.png" alt="网站Logo" class="logo">
    <div class="login-container">
        <h1>登录</h1>
        <% if (locals.registered) { %>
            <p class="message success">注册成功，请登录</p>
        <% } %>
        <% if (locals.error) { %>
            <p class="message error"><%= error %></p>
        <% } %>
        <form action="/api/users/login" method="POST">
            <div>
                <label for="username">用户名：</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div>
                <label for="password">密码：</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="submit">登录</button>
        </form>
        <p class="message">还没有账号？<a href="/register">注册</a></p>
    </div>
</body>
</html>



    /Users/momo/Desktop/info-index/views/register.ejs的内容是:
      <!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .logo {
            margin-bottom: 20px;
            max-width: 150px;
            height: auto;
        }
        .register-container {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 300px;
        }
        h1 {
            text-align: center;
            color: #1877f2;
            margin-bottom: 1.5rem;
        }
        form div {
            margin-bottom: 1rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            color: #606770;
        }
        input[type="text"], input[type="password"] {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #dddfe2;
            border-radius: 4px;
            font-size: 1rem;
        }
        button {
            width: 100%;
            padding: 0.5rem;
            background-color: #1877f2;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #166fe5;
        }
        .message {
            text-align: center;
            margin-top: 1rem;
        }
        .error {
            color: #ff0000;
        }
        .success {
            color: #00a400;
        }
    </style>
</head>
<body>
    <img src="/images/logo.png" alt="网站Logo" class="logo">
    <div class="register-container">
        <h1>注册</h1>
        <% if (locals.error) { %>
            <p class="message error"><%= error %></p>
        <% } %>
        <form action="/api/users/register" method="POST">
            <div>
                <label for="username">用户名：</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div>
                <label for="password">密码：</label>
                <input type="password" id="password" name="password" required>
            </div>
            <div>
                <label for="invitationCode">邀请码：</label>
                <input type="text" id="invitationCode" name="invitationCode" required>
            </div>
            <button type="submit">注册</button>
        </form>
        <p class="message">已有账号？<a href="/login">登录</a></p>
    </div>
</body>
</html>



